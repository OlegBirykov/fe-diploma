{"version":3,"sources":["AppContext.js","AppProvider.js","components/Header/Menu/Menu.js","api/gui.js","api/http/http.js","api/http/loadCities.js","components/Header/TicketSearchForm/LocationInput/location.svg","components/Header/TicketSearchForm/LocationInput/LocationInput.js","components/Header/TicketSearchForm/DateInput/Calendar/Calendar.js","components/Header/TicketSearchForm/DateInput/date.svg","components/Header/TicketSearchForm/DateInput/DateInput.js","api/utils.js","api/http/loadTrainsInfo.js","components/Header/TicketSearchForm/button-invert.svg","components/Header/TicketSearchForm/TicketSearchForm.js","components/Header/Header.js","components/Main/LoadingAnimation/loading-animation.gif","components/Main/LoadingAnimation/LoadingAnimation.js","components/Main/HomePage/About/About.js","components/Main/HomePage/Description/Description.js","components/Main/HomePage/Feedbacks/cat.png","components/Main/HomePage/Feedbacks/eugene.png","components/Main/HomePage/Feedbacks/data.js","components/Main/HomePage/Feedbacks/Feedbacks.js","components/Main/HomePage/HomePage.js","components/Main/ProgressIndicator/dark-triangle.svg","components/Main/ProgressIndicator/light-triangle.svg","components/Main/ProgressIndicator/ProgressIndicator.js","components/Main/icons.svg","components/Main/Trains/TrainsParams/OptionCheckBox/OptionCheckBox.js","components/Main/Trains/TrainsParams/PriceRangeBar/PriceRangeBar.js","components/Main/Trains/TrainsParams/TrainsTimeFilter/TimeRangeBar/TimeRangeBar.js","components/Main/Trains/TrainsParams/TrainsTimeFilter/TrainsTimeFilter.js","components/Main/Trains/TrainsParams/TrainsParams.js","components/Main/Trains/OptionIcons/OptionIcons.js","components/Main/Trains/LastRoutes/LastRoutesItem/LastRoutesItem.js","components/Main/Trains/LastRoutes/LastRoutes.js","components/Main/Trains/TrainsList/TrainsListItem/TrainClassSeatsInfo/TrainClassSeatsInfo.js","components/Main/Trains/TrainsList/TrainsListItem/TrainsListItem.js","components/Main/Trains/TrainsList/SelectTrainsPage/SelectTrainsPage.js","components/Main/Trains/TrainsList/TrainsList.js","api/http/loadSeatsInfo.js","components/Main/Trains/Trains.js","components/Main/Seats/TrainSeats/TrainSeatsHeader/TrainSeatsHeader.js","components/Main/Seats/TrainSeats/SeatsCount/SeatsCount.js","api/seats.js","components/Main/Seats/TrainSeats/CoachType/CoachSelect/CoachProperties/CoachProperties.js","components/Main/Seats/TrainSeats/CoachType/CoachSelect/CoachSelect.js","components/Main/Seats/TrainSeats/CoachType/CoachType.js","components/Main/Seats/TrainSeats/TrainSeats.js","components/Main/Seats/Seats.js","components/Main/Passengers/TravelDetails/TravelDetailsTrain/TravelDetailsTrain.js","components/Main/Passengers/TravelDetails/TravelDetailsPassengers/TravelDetailsPassengers.js","components/Main/Passengers/TravelDetails/TravelDetails.js","components/Main/Passengers/EditPassenger/verifyData.js","components/Main/Passengers/EditPassenger/ready.svg","components/Main/Passengers/EditPassenger/error.svg","components/Main/Passengers/EditPassenger/EditPassenger.js","components/Main/Passengers/AddPassenger/AddPassenger.js","components/Main/Passengers/Passengers.js","components/Main/Payment/UserData/UserData.js","components/Main/Payment/Payment.js","components/Main/Confirmation/PassengersConfirmation/PassengersConfirmation.js","components/Main/Confirmation/PaymentConfirmation/PaymentConfirmation.js","api/http/setOrder.js","components/Main/Confirmation/Confirmation.js","components/Main/Completion/star.svg","components/Main/Completion/active-star.svg","components/Main/Completion/Completion.js","components/Main/Main.js","components/Footer/Contacts/icons.svg","components/Footer/Contacts/Contacts.js","api/http/setSubscribe.js","components/Footer/SubscriptionForm/SubscriptionForm.js","components/Footer/SocialMedia/icons.svg","components/Footer/SocialMedia/SocialMedia.js","components/Footer/Footer.js","components/Popup/icon-error.svg","components/Popup/icon-info.svg","components/Popup/Popup.js","App.js","index.js"],"names":["AppContext","createContext","bookingStage","animation","loading","text","popup","visible","buttonText","content","error","trainsInfo","forwardTrain","backwardTrain","seatsInfo","orderInfo","travelDetailsCollapsed","AppProvider","props","storageTrainsInfo","useState","setBookingStage","setAnimation","setPopup","JSON","parse","localStorage","getItem","params","storageForwardTrain","setTrainsInfo","storageBackwardTrain","setForwardTrain","storageSeatsInfo","setBackwardTrain","storageOrderInfo","setSeatsInfo","setOrderInfo","forward","backward","passengers","setTravelDetailsCollapsed","Provider","value","children","Menu","className","href","process","infoBox","Array","isArray","errorBox","httpErrorBox","response","status","statusText","incorrectDataErrorBox","fetchData","url","opt","a","fetch","ok","cities","name","routes","URL","Object","entries","forEach","item","searchParams","append","last","seats","trainId","order","info","method","headers","body","stringify","subscribe","email","loadCities","LocationInput","placeholder","setValue","timerId","setTimerId","citiesList","setCitiesList","showList","setShowList","useContext","getCities","cityName","json","list","length","type","onChange","evt","clearTimeout","target","trimLeft","setTimeout","timer","onBlur","relatedTarget","onClick","src","buttonIcon","width","alt","tabIndex","map","city","_id","Calendar","date","selectDate","format","moment","monthArray","setMonthArray","monthIndex","setMonthIndex","minDay","setMinDay","maxDay","setMaxDay","useEffect","now","_minDay","add","_maxDay","minMonthFirstDay","set","maxMonthFirstDay","_monthArray","index","get","push","_monthIndex","findIndex","slice","monthDecEnabled","monthIncEnabled","daysArray","dayPointer","isOverMonth","isOverRange","isSunday","isSelected","getMonthName","day","shortid","generate","DateInput","isMini","isDisabled","showCalendar","setShowCalendar","removeFocus","digitsArray","replace","split","splice","join","verifyEmail","test","readDate","date1","date2","result","errorText","isValid","todayString","today","moment1","moment2","diff1","diff","diff2","outOfRangeText","secToDate","sec","secToHourMin","durationToHourMin","duration","min","Math","trunc","hour","separateThousands","dayInFirstPosition","dayInLastPosition","totalTicketPrice","seatList","passengerList","reduce","sum","i","isAdult","fullPrice","childPrice","loadTrainsInfo","fromCityId","toCityId","dateStart","dateEnd","limit","offset","sort","haveFirstClass","haveSecondClass","haveThirdClass","haveFourthClass","haveWifi","isExpress","priceFrom","priceTo","startDepartureHourFrom","startDepartureHourTo","startArrivalHourFrom","startArrivalHourTo","endDepartureHourFrom","endDepartureHourTo","endArrivalHourFrom","endArrivalHourTo","forwardTrainsParams","from_city_id","to_city_id","date_start","backwardTrainsParams","date_start_arrival","have_first_class","have_second_class","have_third_class","have_fourth_class","have_wifi","is_express","isNaN","price_from","price_to","start_departure_hour_from","start_departure_hour_to","start_arrival_hour_from","start_arrival_hour_to","forwardTrainsInfo","backwardTrainsInfo","lastRoutes","setItem","TicketSearchForm","classModificator","formClassName","labelClassName","buttonClassName","initialFormState","from","to","formState","setFormState","history","useHistory","getCityId","field","trim","find","searchTickets","preventDefault","direction","onSubmit","buttonInvert","Header","headerClassName","headerTopClassName","LoadingAnimation","loadingAnimation","height","About","Description","line","Fragment","data","avatar","cat","eugene","Feedbacks","pageNumber","setPageNumber","points","filter","HomePage","ProgressIndicator","stepNumber","array","stepClassName","stepNameClassName","lightTriangle","darkTriangle","OptionCheckBox","iconName","iconWidth","iconHeight","xlinkHref","icons","PriceRangeBar","minValue","maxValue","setMinValue","setMaxValue","changeRange","curX","setCurX","minLimit","maxLimit","step","minDiff","curMinValue","curMaxValue","curMinPos","round","curMaxPos","style","left","right","onPointerDown","setPointerCapture","pointerId","clientX","onPointerMove","buttons","deltaX","parentElement","clientWidth","onPointerUp","TimeRangeBar","TrainsTimeFilter","times","setTimes","changeTimes","isStart","departureHourFrom","departureHourTo","arrivalHourFrom","arrivalHourTo","setDepartureHourFrom","setDepartureHourTo","setArrivalHourFrom","setArrivalHourTo","isCollapsed","setIsCollapsed","TrainsParams","reloadInfo","setDateStart","setDateEnd","setHaveFirstClass","setHaveSecondClass","setHaveThirdClass","setHaveFourthClass","setHaveWifi","setIsExpress","setPriceFrom","setPriceTo","setStartDepartureHourFrom","setStartDepartureHourTo","setStartArrivalHourFrom","setStartArrivalHourTo","setEndDepartureHourFrom","setEndDepartureHourTo","setEndArrivalHourFrom","setEndArrivalHourTo","undefined","startTimes","endTimes","setStartTimes","setEndTimes","OptionIcons","haveFood","darkColor","iconClassName","LastRoutesItem","route","departure","min_price","railway_station_name","LastRoutes","TrainClassSeatsInfo","classNumber","seatsCount","priceInfo","top_price","Infinity","bottom_price","side_price","TrainsListItem","trainInfo","isForward","loadSeats","isConfirmation","train","available_seats_info","price_info","returnToTrains","goToNextPage","trainInfoString","datetime","fourth","third","second","first","SelectTrainsPage","totalCount","pageCount","setPageCount","middleNumber","setMiddleNumber","floor","ceil","isManyPages","activeButtonClassName","numberClick","number","newNumber","TrainsList","sortIndex","setSortIndex","limitIndex","setLimitIndex","trainsArray","items","trainsCount","total_count","sortModes","mode","limits","loadSeatsInfo","forwardTrainId","backwardTrainId","haveAirConditioning","seatsParams","have_air_conditioning","forwardSeatsInfo","backwardSeatsInfo","Trains","TrainSeatsHeader","durationText","durationToHourMinText","SeatsCount","seatsState","setSeatsState","ticketsCount","fullTicketsCount","childTicketsCount","parentTicketsCount","fullClassName","curTicketType","childClassName","parentClassName","setCurTicketType","createSeatsMap","coach","class_type","seatsMap","available","selected","isTop","price","top","paddingTop","createMapType1","createMapType2","createMapType3","createMapType4","topPrice","bottomPrice","isLinensIncluded","is_linens_included","have_food","wifiPrice","wifi_price","linensPrice","linens_price","coachId","getTopAvailableSeatsCount","count","getBottomAvailableSeatsCount","getPrice","param","seat","addWifi","addLinens","ticketType","CoachProperties","checkOption","checkSeat","competitorCount","showHints","setShowHints","price1","price2","conditionerClassName","wifiClassName","wifiIconClassName","linensClassName","linensIconClassName","foodClassName","foodIconClassName","addFood","changeHint","optionIndex","isShow","hints","buttonMouseOver","buttonMouseOut","mapClassName","sumPrice","getSumPrice","onMouseOver","onMouseOut","seatIndex","CoachSelect","coachArray","b","coachIndex","optionFlagName","coachClick","CoachType","margin","marginLeft","TrainSeats","Seats","forwardSeats","setForwardSeats","backwardSeats","setBackwardSeats","random","forwardTicketsCount","backwardTicketsCount","isNextEnabled","forwardSeatList","backwardSeatList","seatNumber","initOrderInfo","firstName","lastName","patronymic","gender","birthday","isDisability","includeChild","documentType","passportSeries","passportNumber","birthSertificateNumber","isChange","isError","isReady","TravelDetailsTrain","setCollapsed","TravelDetailsPassengers","adult","child","TravelDetails","setSectionCollapsed","verifyData","errorFlags","string1","string2","string3","EditPassenger","passenger","setPassengerList","passengerState","setPassengerState","ageListShow","setAgeListShow","documentTypeListShow","setDocumentTypeListShow","isPassport","changeValue","keyPress","key","blur","verify","newOrderInfo","readOnly","onKeyPress","changeBirthday","checked","newValue","changePassportSeries","changePassportNumber","toUpperCase","setBirthSertificateNumber","readyIcon","errorIcon","AddPassenger","Passengers","UserData","user","setUser","phone","paymentMethod","isOnline","isCash","changeFirstName","changeLastName","changePatronymic","changeEmail","changePaymentMethod","normalizePhone","verifyPhone","Payment","PassengersConfirmation","PaymentConfirmation","setOrder","route_direction_id","coach_id","person_info","is_adult","first_name","last_name","document_type","document_data","seat_number","is_child","include_children_seat","arrival","fullOrderInfo","payment_method","Confirmation","goToNext","f","Completion","initStar","clicked","moved","stars","setStars","newStars","starClick","starOver","activeStar","star","Main","path","component","Contacts","setSubscribe","SubscriptionForm","setEmail","sendEmail","mail","SocialMedia","Footer","collapsed","Popup","iconError","iconInfo","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.76d7c017.chunk.js","sourcesContent":["import { createContext } from 'react';\n\nconst AppContext = createContext({\n  bookingStage: null,\n  animation: {\n    loading: false,\n    text: ''\n  },\n  popup: {\n    visible: false,\n    buttonText: '',\n    content: [''],\n    error: false\n  },\n  trainsInfo: {},\n  forwardTrain: null,\n  backwardTrain: null,\n  seatsInfo: {},\n  orderInfo: {},\n  travelDetailsCollapsed: {}\n});\n\nexport default AppContext;\n","import { useState } from 'react';\nimport AppContext from './AppContext';\n\nfunction AppProvider(props) {\n  const [bookingStage, setBookingStage] = useState(null);\n  const [animation, setAnimation] = useState({ loading: false });\n  const [popup, setPopup] = useState({ visible: false });\n\n  let storageTrainsInfo;\n  try {\n    storageTrainsInfo = JSON.parse(localStorage.getItem('trainsInfo'));\n  } catch {\n    storageTrainsInfo = null;\n  }\n  if (!storageTrainsInfo || !storageTrainsInfo.params) {\n    storageTrainsInfo = { params: {} };\n  }\n  const [trainsInfo, setTrainsInfo] = useState(storageTrainsInfo);\n\n  let storageForwardTrain;\n  try {\n    storageForwardTrain = JSON.parse(localStorage.getItem('forwardTrain'));\n  } catch {\n    storageForwardTrain = null;\n  }\n  const [forwardTrain, setForwardTrain] = useState(storageForwardTrain);\n\n  let storageBackwardTrain;\n  try {\n    storageBackwardTrain = JSON.parse(localStorage.getItem('backwardTrain'));\n  } catch {\n    storageBackwardTrain = null;\n  }\n  const [backwardTrain, setBackwardTrain] = useState(storageBackwardTrain);\n\n  let storageSeatsInfo;\n  try {\n    storageSeatsInfo = JSON.parse(localStorage.getItem('seatsInfo'));\n  } catch {\n    storageSeatsInfo = null;\n  }\n  if (!storageSeatsInfo || !storageSeatsInfo.params) {\n    storageSeatsInfo = { params: {} };\n  }\n  const [seatsInfo, setSeatsInfo] = useState(storageSeatsInfo);\n\n  let storageOrderInfo;\n  try {\n    storageOrderInfo = JSON.parse(localStorage.getItem('orderInfo'));\n  } catch {\n    storageOrderInfo = {};\n  }\n  const [orderInfo, setOrderInfo] = useState(storageOrderInfo);\n\n  const [travelDetailsCollapsed, setTravelDetailsCollapsed] = useState({\n    forward: false,\n    backward: false,\n    passengers: false\n  });\n\n  return (\n    <AppContext.Provider \n      value={{ \n        bookingStage, setBookingStage,\n        animation, setAnimation,\n        popup, setPopup,\n        trainsInfo, setTrainsInfo,\n        forwardTrain, setForwardTrain,\n        backwardTrain, setBackwardTrain,\n        seatsInfo, setSeatsInfo,\n        orderInfo, setOrderInfo,\n        travelDetailsCollapsed, setTravelDetailsCollapsed\n      }}>\n      {props.children}  \n    </AppContext.Provider>\n  )\n}\n\nexport default AppProvider;\n\n","import './Menu.css';\n\nfunction Menu() {\n  return (\n    <nav className=\"menu\">\n      <a className=\"menu__item\" href={process.env.PUBLIC_URL + '#about'}>\n        О нас\n      </a>\n      <a className=\"menu__item\" href={process.env.PUBLIC_URL + '#description'}> \n        Как это работает\n      </a>\n      <a className=\"menu__item\" href={process.env.PUBLIC_URL + '#feedbacks'}>\n        Отзывы\n      </a>\n      <a className=\"menu__item\" href=\"#footer\">\n        Контакты\n      </a>\n    </nav>    \n  )\n}\n\nexport default Menu;","export function infoBox(setPopup, content, buttonText = 'OK') {\n  setPopup({\n    visible: true,\n    buttonText,\n    content: Array.isArray(content) ? content : [content],\n    error: false\n  });\n  return;\n}\n\nexport function errorBox(setPopup, content, buttonText = 'OK') {\n  setPopup({\n    visible: true,\n    buttonText,\n    content: Array.isArray(content) ? content : [content],\n    error: true\n  });\n  return;\n}\n\nexport function httpErrorBox (setPopup, response) {\n  errorBox(setPopup, [\n    `Ошибка ${response.status} - ${response.statusText}`,\n    'Проверьте интернет-соединение и повторите попытку'\n  ]);\n}\n\nexport function incorrectDataErrorBox (setPopup) {\n  errorBox(setPopup, [\n    'Ошибка загрузки данных',\n    'Проверьте интернет-соединение и повторите попытку'\n  ]); \n}\n","async function fetchData(url, opt) {\n  try {\n    return await fetch(url, opt);\n  } catch(err) {\n    return {\n      ok: false,\n      status: '',\n      statusText: 'No Connect'\n    };\n  }\n}\n\nexport async function cities(name) {\n  const url = `${process.env.REACT_APP_TRAIN_BOOKING_SERVER}/routes/cities?name=${name}`;\n  const response = await fetchData(url);\n  return response;\n}\n\nexport async function routes(params) {\n  const url = new URL(`${process.env.REACT_APP_TRAIN_BOOKING_SERVER}/routes`);\n  Object.entries(params).forEach((item) => url.searchParams.append(item[0], item[1]));\n  const response = await fetchData(url);\n  return response;\n}\n\nexport async function last() {\n  const url = `${process.env.REACT_APP_TRAIN_BOOKING_SERVER}/routes/last`;\n  const response = await fetchData(url);\n  return response;\n}\n\nexport async function seats(trainId, params) {\n  const url = new URL(`${process.env.REACT_APP_TRAIN_BOOKING_SERVER}/routes/${trainId}/seats`);\n  Object.entries(params).forEach((item) => url.searchParams.append(item[0], item[1]));\n  const response = await fetchData(url);\n  return response;\n}\n\nexport async function order(info) {\n  const url = `${process.env.REACT_APP_TRAIN_BOOKING_SERVER}/order`;\n  const opt = {  \n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json;charset=utf-8'\n    },\n    body: JSON.stringify(info)\n  };\n  const response = await fetchData(url, opt);\n  return response;  \n}\n\nexport async function subscribe (email) {\n  const url = `${process.env.REACT_APP_TRAIN_BOOKING_SERVER}/subscribe`;\n  const opt = {  \n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json;charset=utf-8'\n    },\n    body: JSON.stringify({ email })\n  };\n  const response = await fetchData(url, opt);\n  return response;\n}\n\n","import { cities } from './http';\n\nexport async function loadCities (setAnimation, name) {\n  setAnimation({ loading: true, text: 'Идёт поиск' });\n  const response = await cities(name);\n  setAnimation({ loading: false }); \n  return response;\n}\n","export default __webpack_public_path__ + \"static/media/location.08fbb43a.svg\";","import { useState, useContext, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport './LocationInput.css';\nimport AppContext from 'AppContext';\nimport { infoBox, httpErrorBox } from 'api/gui';\nimport { loadCities } from 'api/http/loadCities';\nimport buttonIcon from './location.svg';\n\nfunction LocationInput(props) {\n  const { name, value, placeholder, setValue } = props;\n\n  const [timerId, setTimerId] = useState(null);\n  const [citiesList, setCitiesList] = useState([]);\n  const [showList, setShowList] = useState(false);\n  const { animation, setAnimation, setPopup } = useContext(AppContext);\n\n  const getCities = async (cityName) => {\n    const response = await loadCities(setAnimation, cityName); \n    if (!response.ok) {\n      httpErrorBox(setPopup, response);\n    }\n    try {\n      const list = await response.json();\n      setCitiesList(list);\n      setShowList(!!list.length);\n    } catch(e) {\n      setShowList(false);\n    }  \n  }\n\n  const timeout = 1000;\n\n  const timer = (text) => {\n    getCities(text);\n  }\n\n  const clickLocation = () => {\n    infoBox(setPopup, [\n      'Извините, сервис поиска на карте находится в процессе разработки',\n      'Введите название станции текстом'\n    ]);\n  }\n\n  const changeText = (evt) => {\n    if (animation.loading) {\n      return;\n    }\n\n    clearTimeout(timerId);\n    const text = evt.target.value.trimLeft();\n    setValue(text);\n\n    if (text.length) {\n      setTimerId(setTimeout(() => timer(text), timeout));\n    } else {\n      setShowList(false);\n    }\n  }\n\n  const removeFocus = (evt) => {\n    if (evt.relatedTarget && evt.relatedTarget.className === 'location-input__list') {\n      return;\n    }\n    setShowList(false);\n  }\n\n  const selectCity = (city) => {\n    setValue(city);\n    setShowList(false);\n  }\n\n  return (\n    <Fragment>\n      <input \n        className=\"location-input__input\"\n        type=\"text\" \n        name={name}\n        value={value}\n        placeholder={placeholder}\n        onChange={changeText}\n        onBlur={removeFocus}\n      />\n      <button className=\"location-input__button\" type=\"button\" onClick={clickLocation}>\n        <img className=\"location-input__button-icon\" src={buttonIcon} width=\"100%\" alt=\"button-location\" />\n      </button>\n      {showList && \n        <ul className=\"location-input__list\" tabIndex=\"9999\">\n          {citiesList.map((item) =>\n            <li className=\"location-input__list-item\" key={item._id} onClick={() => selectCity(item.name)}>\n              {item.name}\n            </li> \n          )}\n        </ul>\n      }\n    </Fragment>\n  )\n}\n\nLocationInput.propTypes = {\n  name: PropTypes.string.isRequired,\n  value: PropTypes.string.isRequired,\n  placeholder: PropTypes.string.isRequired,\n  setValue: PropTypes.func.isRequired,\n};\n\nexport default LocationInput;","import { useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport './Calendar.css';\nimport moment from 'moment';\nimport shortid from 'shortid';\n\n\nfunction Calendar(props) {\n  const { date, selectDate } = props;\n\n  const format = 'DD.MM.YYYY';\n\n  const [monthArray, setMonthArray] = useState([moment()]);\n  const [monthIndex, setMonthIndex] = useState(0);\n  const [minDay, setMinDay] = useState(moment());\n  const [maxDay, setMaxDay] = useState(moment());\n\n  useEffect(() => {\n    const now = moment();\n    const _minDay = moment(now).add(1, 'days');\n    const _maxDay = moment(now).add(90, 'days');\n    setMinDay(_minDay);\n    setMaxDay(_maxDay);\n  \n    const minMonthFirstDay = moment(_minDay).set('date', 1);\n    const maxMonthFirstDay = moment(_maxDay).set('date', 1);\n  \n    const _monthArray = [minMonthFirstDay];\n    let index = 0;\n    while (_monthArray[index].get('month') !== maxMonthFirstDay.get('month')) {\n      _monthArray.push(moment(_monthArray[index]).add(1, 'month'));\n      index++;\n    }\n    setMonthArray(_monthArray);\n\n    const _monthIndex = _monthArray.findIndex((item) => date.slice(3) === item.format('MM.YYYY'));\n    if (_monthIndex >= 0) {\n      setMonthIndex(_monthIndex);\n    }\n  }, [date]);\n\n  const monthDecEnabled = monthIndex > 0;\n  const monthIncEnabled = monthIndex < monthArray.length - 1;\n\n  const monthDec = () => {\n    if (monthDecEnabled) {\n      setMonthIndex(monthIndex - 1);\n    }\n  }\n\n  const monthInc = () => {\n    if (monthIncEnabled) {\n      setMonthIndex(monthIndex + 1);\n    }\n  } \n\n  const getMonthName = () => {\n    switch(monthArray[monthIndex].get('month')) {\n      case 0:\n        return 'Январь';\n      case 1:\n        return 'Февраль';\n      case 2:\n        return 'Март';\n      case 3:\n        return 'Апрель';  \n      case 4:\n        return 'Май';\n      case 5:\n        return 'Июнь';\n      case 6:\n        return 'Июль';\n      case 7:\n        return 'Август';\n      case 8:\n        return 'Сентябрь';\n      case 9:\n        return 'Октябрь';\n      case 10:\n        return 'Ноябрь';\n      case 11:\n        return 'Декабрь';  \n      default: \n        return '';           \n    }\n  }\n\n  const daysArray = [];\n  const dayPointer = moment(monthArray[monthIndex]);\n\n  while (dayPointer.get('day') !== 1) {\n    dayPointer.add(-1, 'days');\n  }\n\n  while (dayPointer.get('month') !== monthArray[monthIndex].get('month')) {\n    daysArray.push({\n      date: dayPointer.format(format),\n      isOverMonth: true\n    });\n    dayPointer.add(1, 'days');\n  }\n\n  while (dayPointer.get('month') === monthArray[monthIndex].get('month')) {\n    const isOverRange = (dayPointer.format('YYYYMMDD') < minDay.format('YYYYMMDD')) || (dayPointer.format('YYYYMMDD') > maxDay.format('YYYYMMDD'));\n    daysArray.push({\n      date: dayPointer.format(format), \n      isOverRange,\n      isSunday: !dayPointer.get('day'),\n      isSelected: (dayPointer.format(format) === date) && !isOverRange \n    });\n    dayPointer.add(1, 'days');\n  } \n\n  while (dayPointer.get('day') !== 1) {\n    daysArray.push({\n      date: dayPointer.format(format),  \n      isOverMonth: true,\n      isSunday: !dayPointer.get('day')   \n    });\n    dayPointer.add(1, 'days');\n  } \n\n  const dayClick = (day) => {\n    if (day.isOverMonth || day.isOverRange) {\n      return;\n    }\n    selectDate(day.date);\n  }\n\n  return (\n    <div className=\"calendar\" tabIndex=\"9999\">\n      <div className=\"calendar__month\">\n        <div className={'calendar__month-page calendar__month-page_dec' + (monthDecEnabled ? '' : ' calendar__month-page_dec-disabled')} onClick={monthDec}>\n        </div>\n        <p className=\"calendar__month-name\">\n          {getMonthName()}\n        </p>\n        <div className={'calendar__month-page calendar__month-page_inc' + (monthIncEnabled ? '' : ' calendar__month-page_inc-disabled')} onClick={monthInc}>\n        </div>\n      </div>\n      <div className=\"calendar__days-container\">\n        {daysArray.map((item) => {\n          let className = 'calendar__day';\n\n          if (item.isOverMonth) {\n            className += ' calendar__day_over-month';\n          }\n          if (item.isOverRange) {\n            className += ' calendar__day_over-range';\n          }\n          if (item.isSunday) {\n            className += ' calendar__day_sunday';\n          }\n          if (item.isSelected) {\n            className += ' calendar__day_selected';\n          }\n\n          return (\n            <p className={className} key={shortid.generate()} onClick={() => dayClick(item)}>\n              {item.date.slice(0, 2)}\n            </p> \n          )         \n        })}\n      </div>\n    </div>\n  )\n}\n\nCalendar.propTypes = {\n  date: PropTypes.string.isRequired,\n  selectDate: PropTypes.func.isRequired\n};\n\nexport default Calendar;","export default __webpack_public_path__ + \"static/media/date.f3bd0495.svg\";","import { useState, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport './DateInput.css';\nimport Calendar from './Calendar/Calendar';\nimport buttonIcon from './date.svg';\n\nfunction DateInput(props) {\n  const { name, value, placeholder, setValue, isMini, isDisabled } = props;\n\n  const [showCalendar, setShowCalendar] = useState(false); \n\n  const changeText = (evt) => {\n    if (isDisabled) {\n      return;\n    }\n\n    const digitsArray = evt.target.value.replace(/[^\\d]/g, '').split('', 8);\n    if (digitsArray.length > 4) {\n      digitsArray.splice(4, 0, '.');\n    }\n    if (digitsArray.length > 2) {\n      digitsArray.splice(2, 0, '.');\n    }\n    setValue(digitsArray.join(''));\n  }\n\n  const removeFocus = (evt) => {\n    if (evt.relatedTarget && evt.relatedTarget.className === 'calendar') {\n      return;\n    }\n    setShowCalendar(false);   \n  }\n\n  const clickCalendarIcon = () => {\n    if (isDisabled) {\n      return;\n    }\n    setShowCalendar(true);\n  }\n\n  const selectDate = (date) => {\n    setValue(date);\n    setShowCalendar(false);    \n  }\n\n  return (\n    <Fragment>\n      <input \n        className={'date-input__input' + (isMini ? ' date-input__input_mini' : '') + (isDisabled ? ' date-input__input_disabled' : '')}\n        type=\"text\" \n        name={name}\n        value={value}\n        placeholder={placeholder}\n        onChange={changeText}\n        onBlur={removeFocus}\n      />\n      <button className=\"date-input__button\" type=\"button\" onClick={clickCalendarIcon} onBlur={removeFocus}>\n        <img className=\"date-input__button-icon\" src={buttonIcon} width={isMini ? '20' : '30'} alt=\"button-date\" />\n      </button>\n      {showCalendar && <Calendar date={value} selectDate={selectDate} />}\n    </Fragment>\n  )\n}\n\nDateInput.propTypes = {\n  name: PropTypes.string.isRequired,\n  value: PropTypes.string.isRequired,\n  placeholder: PropTypes.string.isRequired,\n  setValue: PropTypes.func.isRequired,\n  isMini: PropTypes.bool,\n  isDisabled: PropTypes.bool\n};\n\nexport default DateInput;","import moment from 'moment';\n\nexport function verifyPhone(phone) {\n  return /^\\+7\\d{10}$/.test(phone); \n}\n\nexport function verifyEmail(email) {\n  return /^[^@]+@([^@.]+\\.)+[^@.]+$/.test(email);\n}\n\nexport function separateBirthdaySertificateNumber(number) {\n  return `${number.slice(0, -8)} ${number.slice(-8, -6)} ${number.slice(-6)}`;\n}\n\nexport function readDate(date1, date2) {\n  const result = { status: false };\n  const format = 'DD.MM.YYYY';\n\n  if (!date1) {\n    result.errorText = [\n      'Ошибка ввода даты поездки',\n      'Поле обязательно для заполнения'\n    ];\n    return result;\n  }\n\n  if (!date2) {\n    result.errorText = [\n      'Ошибка ввода даты возвращения',\n      'Поле обязательно для заполнения'\n    ];\n    return result;\n  }\n\n  if (date1.length !== 10 || !moment(date1, format).isValid()) {\n    result.errorText = [\n      'Ошибка ввода даты поездки',\n      `Значение ${date1} не является корректной датой`,\n      'Введите значение в формате ДД.ММ.ГГГГ, где ДД - число, ММ - месяц, ГГГГ - год'\n    ];\n    return result;\n  }\n\n  if (date2.length !== 10 || !moment(date2, format).isValid()) {\n    result.errorText = [\n      'Ошибка ввода даты возвращения',\n      `Значение ${date2} не является корректной датой`,\n      'Введите значение в формате ДД.ММ.ГГГГ, где ДД - число, ММ - месяц, ГГГГ - год'\n    ];\n    return result;\n  }\n\n  const minLimit = 1;\n  const maxLimit = 90;\n\n  const todayString = moment().format(format);\n  const today = moment(todayString, format);\n  const minDay = moment(todayString, format).add(minLimit, 'days');\n  const maxDay = moment(todayString, format).add(maxLimit, 'days');\n\n  const moment1 = moment(date1, format);\n  const moment2 = moment(date2, format);\n\n  const diff1 = moment1.diff(today, 'days');\n  const diff2 = moment2.diff(today, 'days'); \n\n  const outOfRangeText = `Дата должна находиться в диапазоне от ${minDay.format(format)} до ${maxDay.format(format)}`;\n\n  if (diff1 < minLimit || diff1 > maxLimit) {\n    result.errorText = [\n      'Ошибка ввода даты поездки',\n      outOfRangeText\n    ];\n    return result;   \n  }\n\n  if (diff2 < minLimit || diff2 > maxLimit) {\n    result.errorText = [\n      'Ошибка ввода даты возвращения',\n      outOfRangeText\n    ];\n    return result;   \n  }\n\n  if (diff1 >= diff2) {\n    result.errorText = [\n      'Ошибка ввода дат',\n      'Дата возвращения должна быть хотя бы на 1 день позже, чем дата поездки'\n    ];\n    return result;  \n  }\n\n  result.date1 = moment1.format('YYYY-MM-DD');\n  result.date2 = moment2.format('YYYY-MM-DD');\n  result.status = true;\n  return result;\n}\n\nexport function secToDate(sec) {\n  return moment(sec * 1000).format('DD.MM.YYYY');\n}\n\nexport function secToHourMin(sec) {\n  return moment(sec * 1000).format('HH:mm');\n}\n\nexport function durationToHourMin(duration) {\n  const sec = +duration;\n  let min = Math.trunc(sec / 60) % 60;\n  min = ((min < 10) ? '0' : '') + min;\n  const hour = Math.trunc(sec / 3600);\n\n  return `${hour} : ${min}`;\n}\n\nexport function durationToHourMinText(duration) {\n  const sec = +duration;\n  let min = Math.trunc(sec / 60) % 60;\n  let hour = Math.trunc(sec / 3600);\n\n  switch (hour % 100) {\n    case 11:\n    case 12:\n    case 13:\n    case 14:\n      hour += ' часов';\n      break;\n    default: \n      switch (hour % 10) {\n        case 1:\n          hour += ' час';\n          break;\n        case 2:\n        case 3:\n        case 4:\n          hour += ' часа';\n          break;\n        default: \n          hour += ' часов';        \n      }\n  }\n\n  switch (min) {\n    case 11:\n    case 12:\n    case 13:\n    case 14:\n      min += ' минут';\n      break;\n    default: \n      switch (min % 10) {\n        case 1:\n          min += ' минута';\n          break;\n        case 2:\n        case 3:\n        case 4:\n          min += ' минуты';\n          break;\n        default: \n          min += ' минут';        \n      }\n  }\n\n  return { hour, min };\n}\n\nexport function separateThousands(value) {\n  let result = value + '';\n  if (result.length > 3) {\n    result = result.slice(0, -3) + ' ' + result.slice(-3);\n  } \n  return result;\n}\n\nexport function dayInFirstPosition(date) {\n  if (date) {\n    return moment(date, 'YYYY-MM-DD').format('DD.MM.YYYY');\n  } else {\n    return '';\n  }\n}\n\nexport function dayInLastPosition(date) {\n  if (date) {\n    return moment(date, 'DD.MM.YYYY').format('YYYY-MM-DD');\n  } else {\n    return '';\n  }\n}\n\nexport function totalTicketPrice(orderInfo) {\n  const { seatList, passengerList } = orderInfo; \n  return passengerList.reduce((sum, item, i) =>\n    sum + (item.isAdult ? seatList.forward[i].fullPrice + seatList.backward[i].fullPrice : seatList.forward[i].childPrice + seatList.backward[i].childPrice)\n  , 0);\n}\n","import { routes, last } from './http';\nimport { httpErrorBox, incorrectDataErrorBox } from '../gui';\n\nexport async function loadTrainsInfo (setAnimation, setPopup, setTrainsInfo, params) {\n  setAnimation({ loading: true, text: 'Идёт поиск' });\n\n  let response;\n  let forwardTrainsInfo;\n  let backwardTrainsInfo;\n  let lastRoutes;\n\n  const {\n    fromCityId,\n    toCityId,\n    dateStart,\n    dateEnd,\n    limit,\n    offset,\n    sort,\n    haveFirstClass,\n    haveSecondClass,\n    haveThirdClass,\n    haveFourthClass,\n    haveWifi,\n    isExpress,\n    priceFrom,\n    priceTo,\n    startDepartureHourFrom,\n    startDepartureHourTo,\n    startArrivalHourFrom,\n    startArrivalHourTo,\n    endDepartureHourFrom,\n    endDepartureHourTo,\n    endArrivalHourFrom,\n    endArrivalHourTo\n  } = params;\n\n  const forwardTrainsParams = {\n    from_city_id: fromCityId,\n    to_city_id: toCityId,\n    date_start: dateStart,\n    limit,\n    offset,\n    sort,\n  };\n\n  const backwardTrainsParams = {\n    from_city_id: toCityId,\n    to_city_id: fromCityId,\n    date_start_arrival: dateEnd,\n    limit,\n    offset,\n    sort\n  };\n\n  if (haveFirstClass) {\n    forwardTrainsParams.have_first_class = true;\n    backwardTrainsParams.have_first_class = true;\n  }\n\n  if (haveSecondClass) {\n    forwardTrainsParams.have_second_class = true;\n    backwardTrainsParams.have_second_class = true;  \n  }\n\n  if (haveThirdClass) {\n    forwardTrainsParams.have_third_class = true;\n    backwardTrainsParams.have_third_class = true;  \n  }\n\n  if (haveFourthClass) {\n    forwardTrainsParams.have_fourth_class = true;\n    backwardTrainsParams.have_fourth_class = true;  \n  }\n\n  if (haveWifi) {\n    forwardTrainsParams.have_wifi = true;\n    backwardTrainsParams.have_wifi = true;  \n  }\n\n  if (isExpress) {\n    forwardTrainsParams.is_express = true;\n    backwardTrainsParams.is_express = true;  \n  }\n\n  if (!isNaN(+priceFrom)) {\n    forwardTrainsParams.price_from = priceFrom;\n    backwardTrainsParams.price_from = priceFrom;\n  }\n\n  if (!isNaN(+priceTo)) {\n    forwardTrainsParams.price_to = priceTo;\n    backwardTrainsParams.price_to = priceTo;\n  }\n\n  if (!isNaN(+startDepartureHourFrom)) {\n    forwardTrainsParams.start_departure_hour_from = startDepartureHourFrom;\n  }\n\n  if (!isNaN(+startDepartureHourTo)) {\n    forwardTrainsParams.start_departure_hour_to = startDepartureHourTo;\n  }\n\n  if (!isNaN(+startArrivalHourFrom)) {\n    forwardTrainsParams.start_arrival_hour_from = startArrivalHourFrom;\n  }\n  \n  if (!isNaN(+startArrivalHourTo)) {\n    forwardTrainsParams.start_arrival_hour_to = startArrivalHourTo;\n  }\n\n  if (!isNaN(+endDepartureHourFrom)) {\n    backwardTrainsParams.start_departure_hour_from = endDepartureHourFrom;\n  }\n\n  if (!isNaN(+endDepartureHourTo)) {\n    backwardTrainsParams.start_departure_hour_to = endDepartureHourTo;\n  }\n\n  if (!isNaN(+endArrivalHourFrom)) {\n    backwardTrainsParams.start_arrival_hour_from = endArrivalHourFrom;\n  }\n  \n  if (!isNaN(+endArrivalHourTo)) {\n    backwardTrainsParams.start_arrival_hour_to = endArrivalHourTo;\n  }\n\n  response = await routes (forwardTrainsParams);\n  if (!response.ok) {\n    setAnimation({ loading: false }); \n    httpErrorBox(setPopup, response);   \n    return false; \n  } \n  \n  try {\n    forwardTrainsInfo = await response.json();\n  } catch(e) {\n    setAnimation({ loading: false }); \n    incorrectDataErrorBox(setPopup);\n    return false;\n  }\n\n  response = await routes (backwardTrainsParams);\n  if (!response.ok) {\n    setAnimation({ loading: false }); \n    httpErrorBox(setPopup, response);\n    return false; \n  } \n\n  try {\n    backwardTrainsInfo = await response.json();\n  } catch(e) {\n    setAnimation({ loading: false }); \n    incorrectDataErrorBox(setPopup);\n    return false;\n  }\n\n  response = await last ();\n  if (!response.ok) {\n    setAnimation({ loading: false }); \n    httpErrorBox(setPopup, response);\n    return false; \n  } \n\n  try {\n    lastRoutes = await response.json();\n  } catch(e) {\n    setAnimation({ loading: false }); \n    incorrectDataErrorBox(setPopup);\n    return false;\n  }\n\n  const trainsInfo = {\n    params,\n    forwardTrainsInfo,\n    backwardTrainsInfo,\n    lastRoutes\n  };\n\n  setTrainsInfo(trainsInfo);\n  localStorage.setItem('trainsInfo', JSON.stringify(trainsInfo));\n\n  setAnimation({ loading: false }); \n  return true;\n}\n","export default __webpack_public_path__ + \"static/media/button-invert.5fca6600.svg\";","import { useState, useContext } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport './TicketSearchForm.css';\nimport AppContext from 'AppContext';\nimport LocationInput from './LocationInput/LocationInput';\nimport DateInput from './DateInput/DateInput';\nimport { errorBox, httpErrorBox } from 'api/gui';\nimport { readDate } from 'api/utils';\nimport { loadCities } from 'api/http/loadCities';\nimport { loadTrainsInfo } from 'api/http/loadTrainsInfo';\nimport buttonInvert from './button-invert.svg';\n\nfunction TicketSearchForm(props) {\n  const { classModificator } = props;\n  const formClassName = 'ticket-search-form' + (classModificator ? ` ticket-search-form${classModificator}` : '');\n  const labelClassName = 'ticket-search-form__label' + (classModificator ? ` ticket-search-form__label${classModificator}` : '');\n  const buttonClassName = 'ticket-search-form__button' + (classModificator ? ` ticket-search-form__button${classModificator}` : '');\n\n  const initialFormState = {\n    from: '',\n    to: '',\n    dateStart: '',\n    dateEnd: ''\n  };\n\n  const [formState, setFormState] = useState(initialFormState);\n  const { setPopup, setAnimation, setTrainsInfo, setForwardTrain, setBackwardTrain } = useContext(AppContext);\n  const history = useHistory();\n\n  const fromChange = (value) => {\n    setFormState({ ...formState, from: value });\n  }; \n\n  const toChange = (value) => {\n    setFormState({ ...formState, to: value });\n  };\n\n  const leftDateChange = (value) => {\n    setFormState({ ...formState, dateStart: value });\n  };\n\n  const returnDateChange = (value) => {\n    setFormState({ ...formState, dateEnd: value });\n  }; \n\n  const invertDirection = () => {\n    const from = formState.to;\n    const to = formState.from;\n    setFormState({ ...formState, from, to });\n  }\n\n  const getCityId = async (cityName, field) => {\n    const name = cityName.trim();\n    const response = await loadCities(setAnimation, name); \n    if (!response.ok) {\n      httpErrorBox(setPopup, response);\n      return null; \n    }\n\n    let list;\n    try {\n      list = await response.json();\n    } catch(e) {\n      return null;\n    }  \n\n    if (!list.length) {\n      errorBox(setPopup, [\n        'Ошибка ввода направления',\n        `Значение в поле \"${field}\" отстутствует в списке станций`\n      ]);\n      return null;        \n    }\n\n    const city = list.find((item) => item.name === name);\n    if (!city) {\n      errorBox(setPopup, [\n        'Ошибка ввода направления',\n        `Значение в поле \"${field}\" отстутствует в списке станций`\n      ]);\n      return null;        \n    }\n\n    return city._id;\n  }\n\n  const searchTickets = async (evt) => {\n    evt.preventDefault();\n    const date = readDate(formState.dateStart, formState.dateEnd);\n    if (!date.status) {\n      errorBox(setPopup, date.errorText);\n      return;\n    }\n    const dateStart = date.date1;\n    const dateEnd = date.date2;\n\n    if (!formState.from) {\n      errorBox(setPopup, [\n        'Ошибка ввода направления',\n        'Поле \"Откуда\" обязательно для заполнения'\n      ]);\n      return;\n    }\n\n    if (!formState.to) {\n      errorBox(setPopup, [\n        'Ошибка ввода направления',\n        'Поле \"Куда\" обязательно для заполнения'\n      ]);\n      return;\n    }\n   \n    const fromCityId = await getCityId(formState.from, 'Откуда');\n    if (fromCityId === null) {\n      return;\n    }\n    const toCityId = await getCityId(formState.to, 'Куда');\n    if (toCityId === null) {\n      return;\n    }\n\n    if (fromCityId === toCityId) {\n      errorBox(setPopup, [\n        'Ошибка ввода направления',\n        'Значения полей \"Откуда\" и \"Куда\" не должны быть одинаковыми'\n      ]);\n      return;   \n    }\n\n    const result = await loadTrainsInfo(setAnimation, setPopup, setTrainsInfo, {\n      fromCityId, \n      toCityId, \n      dateStart, \n      dateEnd,\n      limit: 5,\n      offset: 0,\n      sort: 'date',\n      direction: 'forward'\n    });\n    \n    if (!result) {\n      return;\n    }\n\n    history.push(process.env.PUBLIC_URL + '/run/trains');\n    setFormState(initialFormState);\n    setForwardTrain(null);\n    setBackwardTrain(null);\n    localStorage.setItem('forwardTrain', null);\n    localStorage.setItem('backwardTrain', null);\n  };\n\n  return (\n    <form className={formClassName} onSubmit={searchTickets}> \n      <label className={labelClassName}>\n        Направление\n        <div className=\"ticket-search-form__input-container\">\n          <LocationInput name='from' value={formState.from} placeholder='Откуда' setValue={fromChange} />\n        </div>\n      </label>\n      <button className=\"ticket-search-form__button-invert\" type=\"button\" onClick={invertDirection}>\n        <img className=\"ticket-search-form__image-invert\" src={buttonInvert} width=\"100%\" alt=\"button-invert\" />\n      </button>\n      <div className=\"ticket-search-form__input-container\">\n        <LocationInput name='to' value={formState.to} placeholder='Куда' setValue={toChange} />\n      </div>\n      <label className={labelClassName}>\n        Дата\n        <div className=\"ticket-search-form__input-container\">\n          <DateInput name='start-date' value={formState.dateStart} placeholder='ДД ММ ГГГГ' setValue={leftDateChange} />\n        </div>    \n      </label>\n      <div className=\"ticket-search-form__input-container\">\n        <DateInput name='end-date' value={formState.dateEnd} placeholder='ДД ММ ГГГГ' setValue={returnDateChange} />\n      </div> \n      <button className={buttonClassName} type=\"submit\">\n        Найти билеты\n      </button>\n    </form>    \n  )\n}\n\nTicketSearchForm.propTypes = {\n  classModificator: PropTypes.string.isRequired,\n};\n\nexport default TicketSearchForm;","import { useContext } from 'react';\nimport './Header.css';\nimport AppContext from 'AppContext';\nimport Menu from './Menu/Menu';\nimport TicketSearchForm from './TicketSearchForm/TicketSearchForm';\n\nfunction Header() {\n  const { bookingStage } = useContext(AppContext);\n  let classModificator = '';\n\n  switch (bookingStage) {\n    case 'trains':\n    case 'seats':\n    case 'passengers':\n    case 'payment':\n    case 'confirmation':\n      classModificator = '_run';\n      break;\n    case 'completion':\n      classModificator = '_completion';\n      break;\n    default:\n  }\n\n  const headerClassName = 'header' + (classModificator ? ` header${classModificator}` : '');\n  const headerTopClassName = 'header__top' + (classModificator ? ` header__top${classModificator}` : '');\n \n  return (\n    <header className={headerClassName}>\n      <div className={headerTopClassName}>\n        <p className=\"header__logo\">\n          Лого\n        </p>\n      </div>\n      <Menu />\n      {classModificator !== '_completion' &&\n        <div className=\"header__body\">\n          {!classModificator && \n            <p className=\"header__slogan\">\n              Вся жизнь -\n              <br/> \n              <span className=\"header__slogan_bold\">\n                путешествие!\n              </span>\n            </p>\n          }\n          <TicketSearchForm classModificator={classModificator} />\n        </div>\n      }\n    </header>\n  )\n}\n\nexport default Header;","export default __webpack_public_path__ + \"static/media/loading-animation.4e2e699c.gif\";","import { useContext } from 'react';\nimport './LoadingAnimation.css';\nimport AppContext from 'AppContext';\nimport loadingAnimation from './loading-animation.gif';\n\nfunction LoadingAnimation() {\n  const { animation } = useContext(AppContext);\n \n  return (\n    <div className=\"loading-animation\">\n      <img className=\"loading-animation__image\" src={loadingAnimation} height=\"780\" alt=\"loading-animation\" />\n      <p className=\"loading-animation__text\">{animation.text}</p>\n    </div>\n  )\n}\n\nexport default LoadingAnimation;","import './About.css';\n\nfunction About() {\n  return (\n    <div className=\"about\" name=\"about\"> \n      <h2 className=\"about__title\">\n        О нас\n      </h2>\n      <div className=\"about__content\">\n        <p className=\"about__text\">\n          Мы рады видеть вас! Мы работаем для Вас с 2003 года. 14 лет мы наблюдаем, как с каждым днем \n          <br/>\n          все больше людей заказывают жд билеты через интернет.\n        </p>\n        <p className=\"about__text\">\n          Сегодня можно заказать железнодорожные билеты онлайн всего в 2 клика, но стоит ли это делать? \n          <br/>\n          Мы расскажем о преимуществах заказа через интернет.\n        </p>\n        <p className=\"about__text about__text_bold\">\n          Покупать жд билеты дешево можно за 90 суток до отправления поезда. \n          <br/>\n          Благодаря динамическому ценообразованию цена на билеты в это время самая низкая.         \n        </p>\n      </div>\n    </div>\n  )\n}\n\nexport default About;","import React, { useContext } from 'react';\nimport './Description.css';\nimport AppContext from 'AppContext';\nimport { infoBox } from 'api/gui';\n\nfunction Description() {\n  const { setPopup } = useContext(AppContext);\n\n  const description = [\n    ['Удобный заказ', 'на сайте'],\n    ['Нет необходимости', 'ехать в офис'],\n    ['Огромный выбор', 'направлений'], \n  ];\n\n  const showPopup = () => {\n    infoBox(setPopup, 'Чтобы узнать больше, вы можете связаться с нами по телефону, почте или скайпу, указанным в разделе \"Контакты\"');  \n  }\n\n  return (\n    <div className=\"description\" name=\"description\"> \n      <div className=\"description__top\">\n        <h2 className=\"description__title\">\n          Как это работает\n        </h2>\n        <button className=\"description__button\" type=\"button\" onClick={showPopup}>\n          Узнать больше\n        </button>\n      </div>\n      <div className=\"description__items\">\n        {description.map((item, index) => \n          <div key={index} className=\"description__item\">\n            <div className={`description__icon description__icon_${index + 1}`}>\n            </div>\n            <p className=\"description__text\">\n              {item.map((line, index) => <React.Fragment key={index}>{line}<br/></React.Fragment>)}\n            </p>\n          </div>\n        )}\n      </div>\n    </div>\n  )\n}\n\nexport default Description;","export default __webpack_public_path__ + \"static/media/cat.e05877d1.png\";","export default __webpack_public_path__ + \"static/media/eugene.65a6aedf.png\";","import cat from './cat.png';\nimport eugene from './eugene.png';\n\nconst data = [\n  {\n    avatar: cat,\n    name: 'Екатерина Вальнова',\n    text: [\n      'Доброжелательные подсказки',\n      'на всех этапах помогут правильно заполнить',\n      'поля и без затруднений купить авиа или ж/д',\n      'билет, даже если вы заказываете онлайн билет',\n      'впервые.'\n    ]\n  },\n  {\n    avatar: eugene,\n    name: 'Евгений Стрыкало',\n    text: [\n      'СМС-сопровождение до посадки',\n      'Сразу после оплаты ж/д билетов',\n      'и за 3 часа до отправления мы пришлем вам',\n      'СМС-напоминание о поездке.'     \n    ]\n  },\n  {\n    avatar: eugene,\n    name: 'Евгений Стрыкало',\n    text: [\n      'СМС-сопровождение до посадки',\n      'Сразу после оплаты ж/д билетов',\n      'и за 3 часа до отправления мы пришлем вам',\n      'СМС-напоминание о поездке.'     \n    ]\n  },\n  {\n    avatar: cat,\n    name: 'Екатерина Вальнова',\n    text: [\n      'Доброжелательные подсказки',\n      'на всех этапах помогут правильно заполнить',\n      'поля и без затруднений купить авиа или ж/д',\n      'билет, даже если вы заказываете онлайн билет',\n      'впервые.'\n    ]\n  },\n  {\n    avatar: cat,\n    name: 'Екатерина Вальнова',\n    text: [\n      'СМС-сопровождение до посадки',\n      'Сразу после оплаты ж/д билетов',\n      'и за 3 часа до отправления мы пришлем вам',\n      'СМС-напоминание о поездке.'     \n    ]\n  },\n  {\n    avatar: eugene,\n    name: 'Евгений Стрыкало',\n    text: [\n      'Доброжелательные подсказки',\n      'на всех этапах помогут правильно заполнить',\n      'поля и без затруднений купить авиа или ж/д',\n      'билет, даже если вы заказываете онлайн билет',\n      'впервые.'\n    ]\n  },\n  {\n    avatar: eugene,\n    name: 'Евгений Стрыкало',\n    text: [\n      'СМС-сопровождение до посадки',\n      'Сразу после оплаты ж/д билетов',\n      'и за 3 часа до отправления мы пришлем вам',\n      'СМС-напоминание о поездке.'     \n    ]\n  },\n  {\n    avatar: cat,\n    name: 'Екатерина Вальнова',\n    text: [\n      'Доброжелательные подсказки',\n      'на всех этапах помогут правильно заполнить',\n      'поля и без затруднений купить авиа или ж/д',\n      'билет, даже если вы заказываете онлайн билет',\n      'впервые.'\n    ]\n  },\n  {\n    avatar: eugene,\n    name: 'Евгений Стрыкало',\n    text: [\n      'Доброжелательные подсказки',\n      'на всех этапах помогут правильно заполнить',\n      'поля и без затруднений купить авиа или ж/д',\n      'билет, даже если вы заказываете онлайн билет',\n      'впервые.'\n    ]\n  },\n  {\n    avatar: cat,\n    name: 'Екатерина Вальнова',\n    text: [\n      'СМС-сопровождение до посадки',\n      'Сразу после оплаты ж/д билетов',\n      'и за 3 часа до отправления мы пришлем вам',\n      'СМС-напоминание о поездке.' \n    ]\n  }\n];\n\nexport default data;","import React, { useState } from 'react';\nimport './Feedbacks.css';\nimport data from './data'; \n\nfunction Feedbacks() {\n  const [pageNumber, setPageNumber] = useState(0);\n\n  const selectPage = (number) => {\n    setPageNumber(number);\n  };\n\n  const points = data.filter((item, index) => !(index % 2)).map((item, index) =>\n    <div \n      className={'feedbacks__point' + (pageNumber === index ? ' feedbacks__point_active' : '')}\n      key={index}\n      onClick={() => selectPage(index)} \n    >\n    </div>\n  );\n\n  return (\n    <div className=\"feedbacks\" name=\"feedbacks\">\n      <h2 className=\"feedbacks__title\">\n        Отзывы\n      </h2>\n      <div className=\"feedbacks__items\">\n        {data.filter((item, index) => Math.trunc(index / 2) === pageNumber).map((item, index) => \n          <div className=\"feedbacks__item\" key={index}>\n            <img className=\"feedbacks__avatar\" src={item.avatar} alt=\"avatar\" />\n            <div className=\"feedbacks__content\">\n              <h3 className=\"feedbacks__name\">\n                {item.name}\n              </h3>\n              <p className=\"feedbacks__text\">\n                <span className=\"feedbacks__quote feedbacks__quote_begin\">\n                  &#x201C;\n                </span>\n                {item.text.map((line, index) => \n                  <React.Fragment key={index}>{line}\n                    {(index < item.text.length - 1) && <br/>}\n                  </React.Fragment>\n                )}\n                <span className=\"feedbacks__quote feedbacks__quote_end\">\n                  &nbsp;&#x201E;\n                </span>\n              </p>\n            </div>\n          </div>\n        )}\n      </div>\n      <div className=\"feedbacks__points\">\n        {points}\n      </div>\n    </div>\n  )\n}\n\nexport default Feedbacks;","import { useContext, useEffect } from 'react';\nimport './HomePage.css';\nimport AppContext from 'AppContext';\nimport About from './About/About';\nimport Description from './Description/Description';\nimport Feedbacks from './Feedbacks/Feedbacks';\n\nfunction HomePage() { \n  const { setBookingStage } = useContext(AppContext);\n\n  useEffect(() => {\n    setBookingStage(null);\n  }, [setBookingStage]);\n\n  return (\n    <main className=\"home-page\"> \n      <a className=\"home-page__anchor\" href=\".\" name=\"about\">\n        anchor\n      </a>\n      <About />\n      <a className=\"home-page__anchor\" href=\".\" name=\"description\">\n        anchor\n      </a>\n      <Description />\n      <a className=\"home-page__anchor\" href=\".\" name=\"feedbacks\">\n        anchor\n      </a>\n      <Feedbacks />\n    </main>\n  )\n}\n\nexport default HomePage;","export default __webpack_public_path__ + \"static/media/dark-triangle.8b813f45.svg\";","export default __webpack_public_path__ + \"static/media/light-triangle.5ca8bc48.svg\";","import PropTypes from 'prop-types';\nimport './ProgressIndicator.css';\nimport darkTriangle from './dark-triangle.svg';\nimport lightTriangle from './light-triangle.svg';\n\nfunction ProgressIndicator(props) {\n  const { stepNumber } = props;\n\n  const steps = [\n    'Билеты',\n    'Пассажиры',\n    'Оплата',\n    'Проверка'\n  ];\n\n  return (\n    <div className=\"progress-indicator\"> \n      {steps.map((item, i, array) => {\n        let stepClassName = `progress-indicator__step progress-indicator__step_${i + 1}`;\n        if (i < stepNumber) {\n          stepClassName += ' progress-indicator__step_highlighted';\n        }\n        const stepNameClassName = `progress-indicator__step-name progress-indicator__step-name_${i + 1}`;\n\n        return (\n          <div className={stepClassName} key={i}>\n            <p className=\"progress-indicator__step-number\">\n              {i + 1}\n            </p>\n            <p className={stepNameClassName}>\n              {item}\n            </p>\n            {(i < array.length - 1) && \n              <img className=\"progress-indicator__triangle\" src={(i < stepNumber) ? lightTriangle : darkTriangle} width=\"37\" height=\"98\" alt=\"triangle\" />\n            }\n          </div>\n        )\n      })}\n    </div>   \n  )\n}\n\nProgressIndicator.propTypes = {\n  stepNumber: PropTypes.number.isRequired,\n};\n\nexport default ProgressIndicator;","export default __webpack_public_path__ + \"static/media/icons.659298fb.svg\";","import PropTypes from 'prop-types';\nimport './OptionCheckBox.css';\nimport icons from 'components/Main/icons.svg';\n\nfunction OptionCheckBox(props) {\n  const { iconName, iconWidth, iconHeight, name, value, setValue } = props;\n\n  return (\n    <div className=\"option-check-box\"> \n      <svg className=\"option-check-box__icon\" width={iconWidth} height={iconHeight}>\n        <use xlinkHref={`${icons}#${iconName}`} />\n      </svg>\n      <p className=\"option-check-box__title\">\n        {name}\n      </p>\n      <div className={'option-check-box__selector ' + (value ? 'option-check-box__selector_on' : 'option-check-box__selector_off')} onClick={() => setValue(!value)}>\n        <div className={'option-check-box__handle ' + (value ? 'option-check-box__handle_on' : 'option-check-box__handle_off')}>\n        </div>\n      </div>\n    </div>    \n  )\n}\n\nOptionCheckBox.propTypes = {\n  iconName: PropTypes.string.isRequired,\n  iconWidth: PropTypes.number.isRequired,\n  iconHeight: PropTypes.number.isRequired,\n  name: PropTypes.string.isRequired,\n  value: PropTypes.bool.isRequired,\n  setValue: PropTypes.func.isRequired\n};\n\nexport default OptionCheckBox;","import { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport './PriceRangeBar.css';\n\nfunction PriceRangeBar(props) {\n  const { minValue, maxValue, setMinValue, setMaxValue, changeRange, isDisabled } = props;\n\n  const [curX, setCurX] = useState(0);\n\n  const minLimit = 500;\n  const maxLimit = 5000;\n  const step = 100;\n  const minDiff = 1000;\n\n  let curMinValue = minValue >= minLimit ? minValue : minLimit;\n  let curMaxValue = maxValue <= maxLimit ? maxValue : maxLimit;\n  if (curMinValue + minDiff > curMaxValue) {\n    curMinValue = minLimit;\n    curMaxValue = maxLimit;\n  }\n\n  const curMinPos = Math.round((curMinValue - minLimit) / (maxLimit - minLimit) * 100);\n  const curMaxPos = 100 - Math.round((curMaxValue - minLimit) / (maxLimit - minLimit) * 100);\n\n  const onPointerDownMin = (evt) => {\n    evt.target.setPointerCapture(evt.pointerId);\n    setCurX(evt.clientX);\n  }\n\n  const onPointerDownMax = (evt) => {\n    evt.target.setPointerCapture(evt.pointerId); \n    setCurX(evt.clientX); \n  }\n\n  const onPointerMoveMin = (evt) => {\n    if (evt.buttons !== 1 || isDisabled) {\n      return;\n    }\n\n    const deltaX = evt.target.parentElement.parentElement.clientWidth * step / (maxLimit - minLimit);\n\n    if (evt.clientX > curX + deltaX) {\n      setCurX(evt.clientX);\n      if (curMinValue + minDiff < curMaxValue) {\n        curMinValue += step;\n        setMinValue(curMinValue);\n      }\n    }\n\n    if (evt.clientX < curX - deltaX) {\n      setCurX(evt.clientX);\n      if (curMinValue > minLimit) {\n        curMinValue -= step;\n        setMinValue(curMinValue > minLimit ? curMinValue : minLimit);\n      }\n    }\n  }\n\n  const onPointerMoveMax = (evt) => {\n    if (evt.buttons !== 1 || isDisabled) {\n      return;\n    }\n  \n    const deltaX = evt.target.parentElement.parentElement.clientWidth * step / (maxLimit - minLimit);\n\n    if (evt.clientX < curX - deltaX) {\n      setCurX(evt.clientX);\n      if (curMinValue + minDiff < curMaxValue) {\n        curMaxValue -= step;\n        setMaxValue(curMaxValue);\n      }\n    }\n\n    if (evt.clientX > curX + deltaX) {\n      setCurX(evt.clientX);\n      if (curMaxValue < maxLimit) {\n        curMaxValue += step;\n        setMaxValue(curMaxValue < maxLimit ? curMaxValue : maxLimit);\n      }\n    }\n  }  \n\n  const onPointerUpMin = () => {\n    if (isDisabled) {\n      return;\n    }\n    changeRange(minValue, maxValue);\n  }\n\n  const onPointerUpMax = () => {\n    if (isDisabled) {\n      return;\n    }\n    changeRange(minValue, maxValue);\n  }  \n\n  return (\n    <div className=\"price-range-bar\"> \n      <div className={'price-range-bar__range' + (isDisabled ? ' price-range-bar__range_disabled' : '')} style={{ left: `${curMinPos}%`, right: `${curMaxPos}%` }}>\n        <div className=\"price-range-bar__handle price-range-bar__handle-min\" onPointerDown={onPointerDownMin} onPointerMove={onPointerMoveMin} onPointerUp={onPointerUpMin}>\n          <p className=\"price-range-bar__handle-title\">\n            от\n          </p>\n          <p className=\"price-range-bar__handle-value\">\n            {curMinValue > minLimit ? curMinValue : 'min'}\n          </p>\n        </div>\n        <div className=\"price-range-bar__handle price-range-bar__handle-max\" onPointerDown={onPointerDownMax} onPointerMove={onPointerMoveMax} onPointerUp={onPointerUpMax}>\n          <p className=\"price-range-bar__handle-title\">\n            до\n          </p>\n          <p className=\"price-range-bar__handle-value\">\n            {curMaxValue < maxLimit ? curMaxValue : 'max'}\n          </p>\n        </div>\n      </div>\n    </div>    \n  )\n}\n\nPriceRangeBar.propTypes = {\n  minValue: PropTypes.number.isRequired,\n  maxValue: PropTypes.number.isRequired,\n  setMinValue: PropTypes.func.isRequired,\n  setMaxValue: PropTypes.func.isRequired,\n  changeRange: PropTypes.func.isRequired,\n  isDisabled: PropTypes.bool.isRequired\n};\n\nexport default PriceRangeBar;","import { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport './TimeRangeBar.css';\n\nfunction TimeRangeBar(props) {\n  const { minValue, maxValue, setMinValue, setMaxValue, changeRange, isDisabled } = props;\n\n  const [curX, setCurX] = useState(0);\n\n  const minDiff = 4;\n\n  let curMinValue = minValue >= 0 ? minValue : 0;\n  let curMaxValue = maxValue <= 24 ? maxValue : 24;\n  if (curMinValue + minDiff > curMaxValue) {\n    curMinValue = 0;\n    curMaxValue = 24;\n  }\n\n  const curMinPos = Math.round(curMinValue / 24 * 100);\n  const curMaxPos = 100 - Math.round(curMaxValue / 24 * 100);\n\n  const onPointerDownMin = (evt) => {\n    evt.target.setPointerCapture(evt.pointerId);\n    setCurX(evt.clientX);\n  }\n\n  const onPointerDownMax = (evt) => {\n    evt.target.setPointerCapture(evt.pointerId); \n    setCurX(evt.clientX); \n  }\n\n  const onPointerMoveMin = (evt) => {\n    if (evt.buttons !== 1 || isDisabled) {\n      return;\n    }\n\n    const deltaX = evt.target.parentElement.parentElement.clientWidth / 24;\n\n    if (evt.clientX > curX + deltaX) {\n      setCurX(evt.clientX);\n      if (curMinValue + minDiff < curMaxValue) {\n        setMinValue(curMinValue + 1);\n      }\n    }\n\n    if (evt.clientX < curX - deltaX) {\n      setCurX(evt.clientX);\n      if (curMinValue > 0) {\n        setMinValue(curMinValue - 1);\n      }\n    }\n  }\n\n  const onPointerMoveMax = (evt) => {\n    if (evt.buttons !== 1 || isDisabled) {\n      return;\n    }\n  \n    const deltaX = evt.target.parentElement.parentElement.clientWidth / 24;\n\n    if (evt.clientX < curX - deltaX) {\n      setCurX(evt.clientX);\n      if (curMinValue + minDiff < curMaxValue) {\n        setMaxValue(curMaxValue - 1);\n      }\n    }\n\n    if (evt.clientX > curX + deltaX) {\n      setCurX(evt.clientX);\n      if (curMaxValue < 24) {\n        setMaxValue(curMaxValue + 1);\n      }\n    }\n  }  \n\n  const onPointerUpMin = () => {\n    if (isDisabled) {\n      return;\n    }\n    changeRange(minValue, maxValue);\n  }\n\n  const onPointerUpMax = () => {\n    if (isDisabled) {\n      return;\n    }\n    changeRange(minValue, maxValue);\n  }  \n\n  return (\n    <div className=\"time-range-bar\"> \n      <div className={'time-range-bar__range' + (isDisabled ? ' time-range-bar__range_disabled' : '')} style={{ left: `${curMinPos}%`, right: `${curMaxPos}%` }}>\n        <div className=\"time-range-bar__handle time-range-bar__handle-min\" onPointerDown={onPointerDownMin} onPointerMove={onPointerMoveMin} onPointerUp={onPointerUpMin}>\n          <p className=\"time-range-bar__handle-value\">\n            {curMinValue}:00\n          </p>\n        </div>\n        <div className=\"time-range-bar__handle time-range-bar__handle-max\" onPointerDown={onPointerDownMax} onPointerMove={onPointerMoveMax} onPointerUp={onPointerUpMax}>\n          <p className=\"time-range-bar__handle-value\">\n            {curMaxValue}:00\n          </p>\n        </div>\n      </div>\n    </div>    \n  )\n}\n\nTimeRangeBar.propTypes = {\n  minValue: PropTypes.number.isRequired,\n  maxValue: PropTypes.number.isRequired,\n  setMinValue: PropTypes.func.isRequired,\n  setMaxValue: PropTypes.func.isRequired,\n  changeRange: PropTypes.func.isRequired,\n  isDisabled: PropTypes.bool.isRequired,\n};\n\nexport default TimeRangeBar;","import { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport './TrainsTimeFilter.css';\nimport TimeRangeBar from './TimeRangeBar/TimeRangeBar';\nimport icons from 'components/Main/icons.svg';\n\nfunction TrainsTimeFilter(props) {\n  const { times, setTimes, changeTimes, isStart, isDisabled } = props;\n  const { departureHourFrom, departureHourTo, arrivalHourFrom, arrivalHourTo } = times;\n  const { setDepartureHourFrom, setDepartureHourTo, setArrivalHourFrom, setArrivalHourTo } = setTimes;\n\n  const [isCollapsed, setIsCollapsed] = useState(true);\n\n  const changeDepartureTimes = (minValue, maxValue) => {\n    const times = {\n      departureHourFrom: minValue, \n      departureHourTo: maxValue, \n      arrivalHourFrom, \n      arrivalHourTo\n    }\n    changeTimes(times);\n  }\n\n  const changeArrivalTimes = (minValue, maxValue) => {\n    const times = {\n      departureHourFrom, \n      departureHourTo, \n      arrivalHourFrom: minValue, \n      arrivalHourTo: maxValue\n    }\n    changeTimes(times);\n  }\n\n  return (\n    <div className=\"trains-time-filter\"> \n      <div className={'trains-time-filter__collapsed' + (isCollapsed ? '' : ' trains-time-filter__collapsed_exp')}>\n        <svg className={'trains-time-filter__arrow' + (isStart ? '' : ' trains-time-filter__arrow_mirror')} width=\"32\" height=\"26\">\n          <use xlinkHref={icons + '#arrow-negative'} />\n        </svg>\n        <p className=\"trains-time-filter__title\">\n          {isStart ? 'Туда' : 'Обратно'}\n        </p>\n        <button className={'trains-time-filter__button' + (isCollapsed ? '' : ' trains-time-filter__button_minus')} type=\"button\" onClick={() => setIsCollapsed(!isCollapsed)}>      \n        </button>\n      </div>\n      {!isCollapsed &&\n        <div className=\"trains-time-filter__full\">\n          <p className=\"trains-time-filter__bar-title trains-time-filter__bar-title_departure\">\n            Время отбытия\n          </p>\n          <div className=\"trains-time-filter__bar\">\n            <TimeRangeBar \n              minValue={departureHourFrom}\n              maxValue={departureHourTo}\n              setMinValue={setDepartureHourFrom}\n              setMaxValue={setDepartureHourTo}\n              changeRange={changeDepartureTimes}\n              isDisabled={isDisabled}\n            />\n          </div>\n          <p className=\"trains-time-filter__bar-title trains-time-filter__bar-title_arrival\">\n            Время прибытия\n          </p>\n          <div className=\"trains-time-filter__bar\">\n            <TimeRangeBar \n              minValue={arrivalHourFrom}\n              maxValue={arrivalHourTo}\n              setMinValue={setArrivalHourFrom}\n              setMaxValue={setArrivalHourTo}\n              changeRange={changeArrivalTimes}\n              isDisabled={isDisabled}\n            />\n          </div>\n        </div> \n      }\n    </div>    \n  )\n}\n\nTrainsTimeFilter.propTypes = {\n  times: PropTypes.objectOf(PropTypes.number),\n  setTimes: PropTypes.objectOf(PropTypes.func),\n  changeTimes: PropTypes.func.isRequired,\n  isStart: PropTypes.bool.isRequired,\n  isDisabled: PropTypes.bool.isRequired\n};\n\nexport default TrainsTimeFilter;","import { useState, useContext, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport './TrainsParams.css';\nimport AppContext from 'AppContext';\nimport DateInput from 'components/Header/TicketSearchForm/DateInput/DateInput';\nimport OptionCheckBox from './OptionCheckBox/OptionCheckBox';\nimport PriceRangeBar from './PriceRangeBar/PriceRangeBar';\nimport TrainsTimeFilter from './TrainsTimeFilter/TrainsTimeFilter';\nimport { dayInFirstPosition, dayInLastPosition } from 'api/utils';\n\nfunction TrainsParams(props) {\n  const { reloadInfo } = props;\n\n  const [dateStart, setDateStart] = useState('');\n  const [dateEnd, setDateEnd] = useState('');\n\n  const [haveFirstClass, setHaveFirstClass] = useState(false);\n  const [haveSecondClass, setHaveSecondClass] = useState(false);\n  const [haveThirdClass, setHaveThirdClass] = useState(false);\n  const [haveFourthClass, setHaveFourthClass] = useState(false);\n  const [haveWifi, setHaveWifi] = useState(false);\n  const [isExpress, setIsExpress] = useState(false);\n\n  const [priceFrom, setPriceFrom] = useState(0);\n  const [priceTo, setPriceTo] = useState(0);\n\n  const [startDepartureHourFrom, setStartDepartureHourFrom] = useState(0);\n  const [startDepartureHourTo, setStartDepartureHourTo] = useState(24);\n  const [startArrivalHourFrom, setStartArrivalHourFrom] = useState(0);\n  const [startArrivalHourTo, setStartArrivalHourTo] = useState(24);\n  const [endDepartureHourFrom, setEndDepartureHourFrom] = useState(0);\n  const [endDepartureHourTo, setEndDepartureHourTo] = useState(24);\n  const [endArrivalHourFrom, setEndArrivalHourFrom] = useState(0);\n  const [endArrivalHourTo, setEndArrivalHourTo] = useState(24);\n\n  const { bookingStage, trainsInfo, seatsInfo } = useContext(AppContext);\n\n  useEffect(() => {\n    setDateStart(dayInFirstPosition(trainsInfo.params.dateStart));\n  }, [trainsInfo.params.dateStart]);\n\n  useEffect(() => {\n    setDateEnd(dayInFirstPosition(trainsInfo.params.dateEnd));\n  }, [trainsInfo.params.dateEnd]);\n\n  useEffect(() => { \n    setHaveFirstClass(!!(bookingStage === 'trains' ? trainsInfo.params.haveFirstClass : seatsInfo.params.haveFirstClass));\n  }, [bookingStage, trainsInfo.params.haveFirstClass, seatsInfo.params.haveFirstClass]);\n\n  useEffect(() => {\n    setHaveSecondClass(!!(bookingStage === 'trains' ? trainsInfo.params.haveSecondClass : seatsInfo.params.haveSecondClass));\n  }, [bookingStage, trainsInfo.params.haveSecondClass, seatsInfo.params.haveSecondClass]);\n\n  useEffect(() => {\n    setHaveThirdClass(!!(bookingStage === 'trains' ? trainsInfo.params.haveThirdClass : seatsInfo.params.haveThirdClass));\n  }, [bookingStage, trainsInfo.params.haveThirdClass, seatsInfo.params.haveThirdClass]);\n\n  useEffect(() => {\n    setHaveFourthClass(!!(bookingStage === 'trains' ? trainsInfo.params.haveFourthClass : seatsInfo.params.haveFourthClass));\n  }, [bookingStage, trainsInfo.params.haveFourthClass, seatsInfo.params.haveFourthClass]);\n\n  useEffect(() => {\n    setHaveWifi(!!(bookingStage === 'trains' ? trainsInfo.params.haveWifi : seatsInfo.params.haveWifi));\n  }, [bookingStage, trainsInfo.params.haveWifi, seatsInfo.params.haveWifi]);\n\n  useEffect(() => {\n    setIsExpress(!!(bookingStage === 'trains' ? trainsInfo.params.isExpress : seatsInfo.params.isExpress));\n  }, [bookingStage, trainsInfo.params.isExpress, seatsInfo.params.isExpress]);\n\n  useEffect(() => {\n    if (trainsInfo.params.priceFrom !== undefined) {\n      setPriceFrom(trainsInfo.params.priceFrom);\n    }\n  }, [trainsInfo.params.priceFrom]);\n\n  useEffect(() => {\n    if (trainsInfo.params.priceTo !== undefined) {\n      setPriceTo(trainsInfo.params.priceTo);\n    }\n  }, [trainsInfo.params.priceTo]);\n\n  useEffect(() => {\n    if (trainsInfo.params.startDepartureHourFrom !== undefined) {\n      setStartDepartureHourFrom(trainsInfo.params.startDepartureHourFrom);\n    }\n  }, [trainsInfo.params.startDepartureHourFrom]);\n\n  useEffect(() => {\n    if (trainsInfo.params.startDepartureHourTo !== undefined) {\n      setStartDepartureHourTo(trainsInfo.params.startDepartureHourTo);\n    }\n  }, [trainsInfo.params.startDepartureHourTo]);\n\n  useEffect(() => {\n    if (trainsInfo.params.startArrivalHourFrom !== undefined) {\n      setStartArrivalHourFrom(trainsInfo.params.startArrivalHourFrom);\n    }\n  }, [trainsInfo.params.startArrivalHourFrom]);\n\n  useEffect(() => {\n    if (trainsInfo.params.startArrivalHourTo !== undefined) {\n      setStartArrivalHourTo(trainsInfo.params.startArrivalHourTo );\n    }\n  }, [trainsInfo.params.startArrivalHourTo]);\n\n  useEffect(() => {\n    if (trainsInfo.params.endDepartureHourFrom !== undefined) {\n      setEndDepartureHourFrom(trainsInfo.params.endDepartureHourFrom);\n    }\n  }, [trainsInfo.params.endDepartureHourFrom]);\n\n  useEffect(() => {\n    if (trainsInfo.params.endDepartureHourTo !== undefined) {\n      setEndDepartureHourTo(trainsInfo.params.endDepartureHourTo);\n    }\n  }, [trainsInfo.params.endDepartureHourTo]);\n\n  useEffect(() => {\n    if (trainsInfo.params.endArrivalHourFrom !== undefined) {\n      setEndArrivalHourFrom(trainsInfo.params.endArrivalHourFrom);\n    }\n  }, [trainsInfo.params.endArrivalHourFrom]);\n\n  useEffect(() => {\n    if (trainsInfo.params.endArrivalHourTo !==undefined) {\n      setEndArrivalHourTo(trainsInfo.params.endArrivalHourTo);\n    }\n  }, [trainsInfo.params.endArrivalHourTo]);\n\n  const changeDateStart = (date) => {\n    setDateStart(date);\n    if(!date) {\n      reloadInfo({\n        dateStart: '',\n        offset: 0\n      });\n    } else if (date.length === 10) {\n      reloadInfo({\n        dateStart: dayInLastPosition(date),\n        offset: 0\n      });\n    }\n  }\n\n  const changeDateEnd = (date) => {\n    setDateEnd(date);\n    if(!date) {\n      reloadInfo({\n        dateEnd: '',\n        offset: 0\n      });\n    } else if (date.length === 10) {\n      reloadInfo({\n        dateEnd: dayInLastPosition(date),\n        offset: 0\n      }); \n    }  \n  }\n\n  const changeHaveFirstClass = (value) => {\n    setHaveFirstClass(value);\n    reloadInfo({\n      haveFirstClass: value,\n      offset: 0\n    });    \n  }\n\n  const changeHaveSecondClass = (value) => {\n    setHaveSecondClass(value);\n    reloadInfo({\n      haveSecondClass: value,\n      offset: 0\n    });    \n  }\n\n  const changeHaveThirdClass = (value) => {\n    setHaveThirdClass(value);\n    reloadInfo({\n      haveThirdClass: value,\n      offset: 0\n    });    \n  }\n\n  const changeHaveFourthClass = (value) => {\n    setHaveFourthClass(value);\n    reloadInfo({\n      haveFourthClass: value,\n      offset: 0\n    });    \n  }\n\n  const changeHaveWifi = (value) => {\n    setHaveWifi(value);\n    reloadInfo({\n      haveWifi: value,\n      offset: 0\n    });    \n  }\n\n  const changeIsExpress = (value) => {\n    setIsExpress(value);\n    reloadInfo({\n      isExpress: value,\n      offset: 0\n    });    \n  }\n\n  const changePriceRange = (minValue, maxValue) => {\n    reloadInfo({\n      priceFrom: minValue,\n      priceTo: maxValue,\n      offset: 0\n    });\n  }\n\n  const changeStartTimes = (times) => {\n    reloadInfo({\n      startDepartureHourFrom: times.departureHourFrom,\n      startDepartureHourTo: times.departureHourTo,\n      startArrivalHourFrom: times.arrivalHourFrom,\n      startArrivalHourTo: times.arrivalHourTo,\n      offset: 0\n    });  \n  }\n\n  const changeEndTimes = (times) => {\n    reloadInfo({\n      endDepartureHourFrom: times.departureHourFrom,\n      endDepartureHourTo: times.departureHourTo,\n      endArrivalHourFrom: times.arrivalHourFrom,\n      endArrivalHourTo: times.arrivalHourTo,\n      offset: 0\n    });  \n  }\n\n  const startTimes = {\n    departureHourFrom: startDepartureHourFrom,\n    departureHourTo: startDepartureHourTo,\n    arrivalHourFrom: startArrivalHourFrom,\n    arrivalHourTo: startArrivalHourTo\n  };\n\n  const endTimes = {\n    departureHourFrom: endDepartureHourFrom,\n    departureHourTo: endDepartureHourTo,\n    arrivalHourFrom: endArrivalHourFrom,\n    arrivalHourTo: endArrivalHourTo\n  };\n\n  const setStartTimes = {\n    setDepartureHourFrom: setStartDepartureHourFrom,\n    setDepartureHourTo: setStartDepartureHourTo,\n    setArrivalHourFrom: setStartArrivalHourFrom,\n    setArrivalHourTo: setStartArrivalHourTo\n  };\n\n  const setEndTimes = {\n    setDepartureHourFrom: setEndDepartureHourFrom,\n    setDepartureHourTo: setEndDepartureHourTo,\n    setArrivalHourFrom: setEndArrivalHourFrom,\n    setArrivalHourTo: setEndArrivalHourTo\n  };\n\n  return (\n    <div className=\"trains-params\"> \n      <section className=\"trains-params__dates\">\n        <label className=\"trains-params__date-title\">\n          Дата поездки\n          <div className=\"trains-params__date-container\">\n            <DateInput \n              name='start-date' \n              value={dateStart}\n              placeholder='ДД ММ ГГГГ' \n              setValue={changeDateStart} \n              isMini={true}\n              isDisabled={!(bookingStage === 'trains' && trainsInfo.params.direction === 'forward')}\n            />\n          </div>    \n        </label>\n        <label className=\"trains-params__date-title\">\n          Дата возвращения\n          <div className=\"trains-params__date-container\">\n            <DateInput \n              name='end-date' \n              value={dateEnd} \n              placeholder='ДД ММ ГГГГ' \n              setValue={changeDateEnd} \n              isMini={true}\n              isDisabled={!(bookingStage === 'trains' && trainsInfo.params.direction === 'backward')}\n            />\n          </div>    \n        </label>\n      </section>\n      <section className=\"trains-params__options\">\n        <div className=\"trains-params__option\">\n          <OptionCheckBox iconName='second-class' iconWidth={17} iconHeight={17} name='Купе' value={haveSecondClass} setValue={changeHaveSecondClass} />\n        </div>\n        <div className=\"trains-params__option\">\n          <OptionCheckBox iconName='third-class' iconWidth={17} iconHeight={17} name='Плацкарт' value={haveThirdClass} setValue={changeHaveThirdClass} />\n        </div>\n        <div className=\"trains-params__option\">\n          <OptionCheckBox iconName='fourth-class' iconWidth={14} iconHeight={23} name='Сидячий' value={haveFourthClass} setValue={changeHaveFourthClass} />\n        </div>\n        <div className=\"trains-params__option\">\n          <OptionCheckBox iconName='first-class' iconWidth={22} iconHeight={20} name='Люкс' value={haveFirstClass} setValue={changeHaveFirstClass} />\n        </div>\n        <div className=\"trains-params__option\">\n          <OptionCheckBox iconName='wifi' iconWidth={24} iconHeight={19} name='Wi-Fi' value={haveWifi} setValue={changeHaveWifi} />\n        </div>\n        <div className=\"trains-params__option\">\n          <OptionCheckBox iconName='express' iconWidth={20} iconHeight={20} name='Экспресс' value={isExpress} setValue={changeIsExpress} />\n        </div>\n      </section>\n      <section className=\"trains-params__price\">\n        <p className=\"trains-params__price-title\">\n          Стоимость\n        </p>\n        <div className=\"trains-params__price-range-bar\">\n          <PriceRangeBar \n            minValue={priceFrom} \n            maxValue={priceTo} \n            setMinValue={setPriceFrom} \n            setMaxValue={setPriceTo} \n            changeRange={changePriceRange} \n            isDisabled={bookingStage !== 'trains'}\n          />\n        </div>\n      </section>\n      <section className=\"trains-params__times\">\n        <TrainsTimeFilter \n          times={startTimes}\n          setTimes={setStartTimes}\n          changeTimes={changeStartTimes}\n          isStart={true}\n          isDisabled={!(bookingStage === 'trains' && trainsInfo.params.direction === 'forward')}\n        />\n      </section>\n      <section className=\"trains-params__times\">\n        <TrainsTimeFilter \n          times={endTimes}\n          setTimes={setEndTimes}\n          changeTimes={changeEndTimes}\n          isStart={false}\n          isDisabled={!(bookingStage === 'trains' && trainsInfo.params.direction === 'backward')}\n        />\n      </section>\n    </div>    \n  )\n}\n\nTrainsParams.propTypes = {\n  reloadInfo: PropTypes.func.isRequired\n};\n\nexport default TrainsParams;","import PropTypes from 'prop-types';\nimport './OptionIcons.css';\nimport icons from 'components/Main/icons.svg';\n\nfunction OptionIcons(props) {\n  const { haveWifi, isExpress, haveFood, darkColor } = props;\n\n  const iconClassName = `option-icons__icon option-icons__icon_${darkColor ? 'dark' : 'light'}`;\n  \n  return (\n    <div className=\"option-icons\">\n      {haveWifi && \n        <div className=\"option-icons__container\">\n          <svg className={iconClassName} width=\"20\" height=\"16\">\n            <use xlinkHref={icons + '#wifi'} />\n          </svg>\n        </div>\n      }\n      {isExpress && \n        <div className=\"option-icons__container\">\n          <svg className={iconClassName} width=\"20\" height=\"20\">\n            <use xlinkHref={icons + '#express'} />\n          </svg>\n        </div>\n      }\n      {haveFood &&\n        <div className=\"option-icons__container\">\n          <svg className={iconClassName} width=\"20\" height=\"18\">\n            <use xlinkHref={icons + '#food'} />\n          </svg>\n        </div>\n      }\n    </div>\n  )\n}\n\nOptionIcons.propTypes = {\n  haveWifi: PropTypes.bool.isRequired,\n  isExpress: PropTypes.bool.isRequired,\n  haveFood: PropTypes.bool.isRequired,\n  darkColor: PropTypes.bool.isRequired\n};\n\nexport default OptionIcons;","import PropTypes from 'prop-types';\nimport './LastRoutesItem.css';\nimport OptionIcons from '../../OptionIcons/OptionIcons';\nimport { separateThousands } from 'api/utils';\n\nfunction LastRoutesItem(props) {\n  const { route } = props;\n  const { \n    from,\n    to,\n    have_wifi,\n    is_express,\n    min_price\n  } = route.departure;\n\n  return (\n    <div className=\"last-routes-item\">\n      <div className=\"last-routes-item__city-names\">\n        <p className=\"last-routes-item__city-name-from\">\n          {from.city.name}\n        </p>\n        <p className=\"last-routes-item__city-name-to\">\n          {to.city.name}\n        </p>\n      </div>\n      <div className=\"last-routes-item__station-names\">\n        <p className=\"last-routes-item__station-name-from\">\n          {from.railway_station_name}\n        </p>\n        <p className=\"last-routes-item__station-name-to\">\n          {to.railway_station_name}\n        </p>\n      </div>\n      <div className=\"last-routes-item__min-price\">\n        <OptionIcons haveWifi={have_wifi} isExpress={is_express} haveFood={true} darkColor={false} />\n        <p className=\"last-routes-item__before-price\">\n          от\n        </p>\n        <p className=\"last-routes-item__price\">\n          {separateThousands(min_price)}\n        </p>\n        <p className=\"last-routes-item__after-price\">\n          &#x20bd;\n        </p>\n      </div>\n    </div>    \n  )\n}\n\nLastRoutesItem.propTypes = {\n  route: PropTypes.object.isRequired\n};\n\nexport default LastRoutesItem;","import { useContext } from 'react';\nimport './LastRoutes.css';\nimport AppContext from 'AppContext';\nimport LastRoutesItem from './LastRoutesItem/LastRoutesItem';\nimport shortid from 'shortid';\n\nfunction LastRoutes() {\n  const { trainsInfo } = useContext(AppContext);\n\n  return (\n    <div className=\"last-routes\"> \n      <h3 className=\"last-routes__title\">\n        Последние билеты\n      </h3>\n      <div className=\"last-routes__list\">\n        {trainsInfo.lastRoutes.map((item) => <LastRoutesItem route={item} key={shortid.generate()} />)}\n      </div>\n    </div>    \n  )\n}\n\nexport default LastRoutes;","import PropTypes from 'prop-types';\nimport './TrainClassSeatsInfo.css';\nimport { separateThousands } from 'api/utils';\n\nfunction TrainClassSeatsInfo(props) {\n  const { classNumber, seatsCount, priceInfo } = props;\n  const { \n   top_price = Infinity,\n   bottom_price = Infinity,\n   side_price = Infinity\n  } = priceInfo;\n\n  const classNames = ['Люкс', 'Купе', 'Плацкарт', 'Сидячий'];\n\n  return (\n    <div className=\"train-class-seats-info\"> \n      <p className=\"train-class-seats-info__class-name\">\n        {classNames[classNumber - 1]}\n      </p>\n      <p className=\"train-class-seats-info__seats-count\">\n        {seatsCount}\n      </p>        \n      <p className=\"train-class-seats-info__before-price\">\n        от\n      </p>        \n      <p className=\"train-class-seats-info__price\">\n        {separateThousands(Math.min(top_price, bottom_price, side_price))}\n      </p>\n      <p className=\"train-class-seats-info__after-price\">\n        &#x20bd;\n      </p>\n    </div>    \n  )\n}\n\nTrainClassSeatsInfo.propTypes = {\n  classNumber: PropTypes.number.isRequired,\n  seatsCount: PropTypes.number.isRequired,\n  priceInfo: PropTypes.object.isRequired\n};\n\nexport default TrainClassSeatsInfo;","import { useContext } from 'react'; \nimport { useHistory } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport './TrainsListItem.css';\nimport AppContext from 'AppContext';\nimport TrainClassSeatsInfo from './TrainClassSeatsInfo/TrainClassSeatsInfo';\nimport OptionIcons from '../../OptionIcons/OptionIcons';\nimport icons from 'components/Main/icons.svg';\nimport { secToDate, secToHourMin, durationToHourMin } from 'api/utils';\nimport { loadTrainsInfo } from 'api/http/loadTrainsInfo';\n\nfunction TrainsListItem(props) {\n  const { trainInfo, isForward, reloadInfo, loadSeats, isConfirmation } = props;\n  const { \n    from,\n    to,\n    train,\n    duration,\n    have_first_class,\n    have_second_class,\n    have_third_class,\n    have_fourth_class,\n    available_seats_info,\n    price_info,\n    have_wifi,\n    is_express,\n    _id\n  } = trainInfo;\n\n  const { setAnimation, setPopup, trainsInfo, setTrainsInfo, forwardTrain, setForwardTrain, backwardTrain, setBackwardTrain } = useContext(AppContext);\n\n  const history = useHistory();\n\n  const returnToTrains = async () => {\n    const result = await loadTrainsInfo(setAnimation, setPopup, setTrainsInfo, {\n      ...trainsInfo.params, \n      offset: 0,\n      direction: isForward ? 'forward' : 'backward'\n    });\n\n    if (result) {\n      history.push(process.env.PUBLIC_URL + '/run/trains');\n    }\n  }\n\n  const goToNextPage = async () => {\n    const trainInfoString = JSON.stringify(trainInfo);\n\n    if (isForward) {\n      setForwardTrain(JSON.parse(trainInfoString));\n      localStorage.setItem('forwardTrain', trainInfoString);\n    } else {\n      setBackwardTrain(JSON.parse(trainInfoString));\n      localStorage.setItem('backwardTrain', trainInfoString);\n    }\n\n    if (isForward && !backwardTrain) {\n      reloadInfo({ \n        direction: 'backward',\n        offset: 0\n      });    \n    } else {\n      const result = isForward ? await loadSeats( _id, backwardTrain._id) : await loadSeats(forwardTrain._id, _id );\n      if (result) {\n        history.push(process.env.PUBLIC_URL + '/run/seats');\n      }\n    }\n  }\n\n  return (\n    <div className=\"trains-list-item\">\n      {isConfirmation && \n        <h3 className=\"trains-list-item__title\">\n          Поезд {isForward ? 'туда' : 'обратно'}\n        </h3>\n      }\n      <div className=\"trains-list-item__body\">\n        <div className=\"trains-list-item__left\">\n          <div className=\"trains-list-item__icon-container\">\n            <svg className=\"trains-list-item__icon\" width=\"44\" height=\"52\">\n              <use xlinkHref={icons + '#train-face'} />\n            </svg>\n          </div>\n          <p className=\"trains-list-item__train-number\">\n            {train._id}\n          </p>\n          <div className=\"trains-list-item__train-properties\">\n            <p className=\"trains-list-item__train-property\">\n              {from.city.name} &#x2192;\n            </p>\n            <p className=\"trains-list-item__train-property\">\n              {to.city.name}\n            </p>\n            <p className=\"trains-list-item__train-property\">\n              {train.name  && `\\u00ab${train.name}\\u00bb`}\n            </p>\n          </div>\n        </div>\n        <div className=\"trains-list-item__middle\">\n          <div className=\"trains-list-item__middle-from\">\n            <p className=\"trains-list-item__time\">\n              {secToHourMin(isForward ? from.datetime : to.datetime)}\n            </p>\n            <p className=\"trains-list-item__date\">\n              {secToDate(isForward ? from.datetime : to.datetime)}\n            </p>\n            <p className=\"trains-list-item__city\">\n              {isForward ? from.city.name : to.city.name}\n            </p>\n            <p className=\"trains-list-item__station\">\n              {isForward ? from.railway_station_name : to.railway_station_name}\n            </p>\n          </div>\n          <div className=\"trains-list-item__middle-way\">\n            <p className=\"trains-list-item__duration\">\n              {durationToHourMin(duration)}\n            </p>\n            <svg className={'trains-list-item__arrow' + (isForward ? '' : ' trains-list-item__arrow_mirror')} width=\"30\" height=\"20\">\n              <use xlinkHref={icons + '#arrow'} />\n            </svg>\n          </div>\n          <div className=\"trains-list-item__middle-to\">\n            <p className=\"trains-list-item__time\">\n              {secToHourMin(isForward ? to.datetime : from.datetime)}\n            </p>\n            <p className=\"trains-list-item__date\">\n              {secToDate(isForward ? to.datetime : from.datetime)}\n            </p>\n            <p className=\"trains-list-item__city\">\n              {isForward ? to.city.name : from.city.name}\n            </p>\n            <p className=\"trains-list-item__station\">\n              {isForward ? to.railway_station_name : from.railway_station_name}\n            </p>\n          </div>\n        </div>\n        <div className=\"trains-list-item__right\">\n          <div className=\"trains-list-item__seats-info\">\n            {have_fourth_class &&\n              <div className=\"trains-list-item__train-class-seats-info\">\n                <TrainClassSeatsInfo classNumber={4} seatsCount={available_seats_info.fourth} priceInfo={price_info.fourth} />\n              </div>\n            }\n            {have_third_class &&\n              <div className=\"trains-list-item__train-class-seats-info\">\n                <TrainClassSeatsInfo classNumber={3} seatsCount={available_seats_info.third} priceInfo={price_info.third} />\n              </div>\n            }\n            {have_second_class &&\n              <div className=\"trains-list-item__train-class-seats-info\">\n                <TrainClassSeatsInfo classNumber={2} seatsCount={available_seats_info.second} priceInfo={price_info.second} />\n              </div>\n            }\n            {have_first_class &&\n              <div className=\"trains-list-item__train-class-seats-info\">\n                <TrainClassSeatsInfo classNumber={1} seatsCount={available_seats_info.first} priceInfo={price_info.first} />\n              </div>\n            }\n          </div>\n          <div className=\"trains-list-item__option-icons\">\n            <OptionIcons haveWifi={have_wifi} isExpress={is_express} haveFood={true} darkColor={true}/>\n          </div>\n          {isConfirmation ?\n            <button className=\"trains-list-item__button trains-list-item__button_return\" type=\"button\" onClick={returnToTrains}>\n              Изменить\n            </button>\n            :\n            <button className=\"trains-list-item__button trains-list-item__button_next\" type=\"button\" onClick={goToNextPage}>\n              Выбрать места\n            </button>\n          }\n        </div>     \n      </div>\n    </div>    \n  )\n}\n\nTrainsListItem.propTypes = {\n  trainInfo: PropTypes.object.isRequired,\n  isForward: PropTypes.bool.isRequired,\n  reloadInfo: PropTypes.func.isRequired,\n  loadSeats: PropTypes.func.isRequired,\n  isConfirmation: PropTypes.bool.isRequired\n};\n\nexport default TrainsListItem;","import { useState, useEffect, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport './SelectTrainsPage.css';\nimport shortid from 'shortid';\n\nfunction SelectTrainsPage (props) {\n  const { totalCount, limit, offset, reloadInfo} = props; \n\n  const [pageNumber, setPageNumber] = useState(0);\n  const [pageCount, setPageCount] = useState(0);\n  const [middleNumber, setMiddleNumber] = useState(1);\n\n  useEffect(() => {\n    setPageNumber(Math.floor(offset / limit));\n    setPageCount(Math.ceil(totalCount / limit));\n    if (!offset) {\n      setMiddleNumber(1);\n    }\n  }, [totalCount, limit, offset]);\n\n  if (pageCount < 2) {\n    return null;\n  }\n\n  const isManyPages = pageCount > 5;\n\n  const buttons = [];\n  if (!isManyPages) {\n    for (let i = 1; i <= pageCount; i++) {\n      buttons.push(i);\n    }\n  }\n\n  const buttonClassName = 'select-trains-page__button';\n  const activeButtonClassName = buttonClassName + ' select-trains-page__button_active';\n\n  const leftArrayClick = () => {\n    if (pageNumber < 1) {\n      return;\n    }\n\n    const newNumber = pageNumber - 1;\n\n    if ((newNumber < middleNumber) && (middleNumber > 1)) {\n      setMiddleNumber(newNumber);\n    }\n    setPageNumber(newNumber);\n    reloadInfo({ offset: newNumber * limit });\n  }\n\n  const rightArrayClick = () => {\n    if (pageNumber > pageCount - 2) {\n      return;\n    }\n\n    const newNumber = pageNumber + 1;\n\n    if ((newNumber > middleNumber + 1) && (middleNumber < pageCount - 3)) {\n      setMiddleNumber(newNumber - 1);\n    }\n    setPageNumber(newNumber);\n    reloadInfo({ offset: newNumber * limit });    \n  }\n\n  const leftPointsClick = () => {\n    let newNumber = middleNumber - 2;\n    if (newNumber < 1) {\n      newNumber = 1;\n    }\n\n    setMiddleNumber(newNumber);\n    setPageNumber(newNumber);\n    reloadInfo({ offset: newNumber * limit });    \n  }\n\n  const rightPointsClick = () => {\n    let newNumber = middleNumber + 2;\n    if (newNumber > pageCount - 3) {\n      newNumber = pageCount - 3;\n    }\n\n    setMiddleNumber(newNumber);\n    setPageNumber(newNumber + 1);\n    reloadInfo({ offset: (newNumber + 1) * limit }); \n  }\n\n  const numberClick = (number) => {\n    if (number === pageNumber) {\n      return;\n    }\n\n    if (!number) {\n      setMiddleNumber(1);\n    }\n    if (number === pageCount - 1) {\n      setMiddleNumber(pageCount - 3)\n    }\n\n    setPageNumber(number);\n    reloadInfo({ offset: number * limit });\n  } \n\n  return (\n    <div className=\"select-trains-page\"> \n      <button className={buttonClassName} type=\"button\" onClick={leftArrayClick}>\n        &lt;\n      </button>\n      {isManyPages ?\n        <Fragment>\n          <button className={pageNumber === 0 ? activeButtonClassName : buttonClassName} type=\"button\" onClick={() => numberClick(0)}>\n            1\n          </button>\n          {middleNumber > 1 &&\n            <button className={buttonClassName} type=\"button\" onClick={leftPointsClick}>\n              ...\n            </button>\n          }\n          <button className={pageNumber === middleNumber ? activeButtonClassName : buttonClassName} type=\"button\" onClick={() => numberClick(middleNumber)}>\n            {middleNumber + 1}\n          </button>\n          <button className={pageNumber === middleNumber + 1 ? activeButtonClassName : buttonClassName} type=\"button\" onClick={() => numberClick(middleNumber + 1)}>\n            {middleNumber + 2}\n          </button>\n          {middleNumber < pageCount - 3 &&\n            <button className={buttonClassName} type=\"button\" onClick={rightPointsClick}>\n              ...\n            </button>\n          }\n          <button className={pageNumber === pageCount - 1 ? activeButtonClassName : buttonClassName} type=\"button\" onClick={() => numberClick(pageCount - 1)}>\n            {pageCount}\n          </button>\n        </Fragment>\n        : buttons.map((item, i) => \n          <button \n            className={i === pageNumber ? activeButtonClassName : buttonClassName} \n            type=\"button\"\n            key={shortid.generate()}\n            onClick={() => numberClick(i)}\n          >\n            {item}\n          </button>    \n        )   \n      }\n      <button className=\"select-trains-page__button\" type=\"button\" onClick={rightArrayClick}>\n        &gt;\n      </button>\n    </div>    \n  )\n}\n\nSelectTrainsPage.propTypes = {\n  totalCount: PropTypes.number.isRequired,\n  limit: PropTypes.number.isRequired,\n  offset: PropTypes.number.isRequired,\n  reloadInfo: PropTypes.func.isRequired\n};\n\nexport default SelectTrainsPage;","import { useState, useContext, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport './TrainsList.css';\nimport AppContext from 'AppContext';\nimport TrainsListItem from './TrainsListItem/TrainsListItem';\nimport SelectTrainsPage from './SelectTrainsPage/SelectTrainsPage';\nimport shortid from 'shortid';\n\nfunction TrainsList(props) {\n  const { reloadInfo, loadSeats } = props; \n\n  const [sortIndex, setSortIndex] = useState(0);\n  const [limitIndex, setLimitIndex] = useState(0);\n  const [showList, setShowList] = useState(false);\n\n  const { trainsInfo } = useContext(AppContext);\n\n  useEffect(() => {\n    switch (trainsInfo.params.sort) {\n      case 'price_': \n        setSortIndex(1);\n        break;\n      case 'duration':\n        setSortIndex(2);\n        break;\n      default:\n        setSortIndex(0);\n    }\n  }, [trainsInfo.params.sort]);\n\n  useEffect(() => {\n    switch (+trainsInfo.params.limit) {\n      case 10: \n        setLimitIndex(1);\n        break;\n      case 20:\n        setLimitIndex(2);\n        break;\n      default:\n        setLimitIndex(0);\n    }\n  }, [trainsInfo.params.limit]);\n\n  const isForward = trainsInfo.params.direction === 'forward';\n  const trainsArray = isForward ? trainsInfo.forwardTrainsInfo.items : trainsInfo.backwardTrainsInfo.items;\n  const trainsCount = isForward ? `туда: ${trainsInfo.forwardTrainsInfo.total_count}` : `обратно: ${trainsInfo.backwardTrainsInfo.total_count}`\n\n  const sortModes = [\n    { mode: 'date', name: 'времени' },\n    { mode: 'price_', name: 'стоимости' },\n    { mode: 'duration', name: 'длительности' }\n  ];\n\n  const limits = [5, 10, 20];\n\n  const selectSort = (index) => {\n    setShowList(false);\n    setSortIndex(index);\n    reloadInfo({ sort: sortModes[index].mode });\n  }\n\n  const selectLimit = (index) => {\n    setLimitIndex(index);\n    reloadInfo({ \n      limit: limits[index],\n      offset: 0\n    });\n  }\n\n  return (\n    <div className=\"trains-list\"> \n      <div className=\"trains-list__menu\">\n        <p className=\"trains-list__menu-count\">\n          найдено поездов {trainsCount}\n        </p>\n        <p className=\"trains-list__menu-sort-title\">\n          сортировать по:\n        </p>\n        <div className=\"trains-list__menu-sort-value-container\">\n          <p className=\"trains-list__menu-sort-value\" onClick={() => setShowList(true)}>\n            {sortModes[sortIndex].name}\n          </p>\n          {showList &&\n            <ul className=\"trains-list__menu-sort-list\">\n              {sortModes.map((item, i) =>\n                <li className=\"trains-list__menu-sort-list-item\" key={i} onClick={() => selectSort(i)}>\n                  {item.name}\n                </li> \n              )}\n            </ul>\n          }\n        </div>\n        <p className=\"trains-list__menu-limit-title\">\n          показывать по:\n        </p>\n        {limits.map((item, i) => \n          <p className={'trains-list__menu-limit-value' + (i === limitIndex ? ' trains-list__menu-limit-value_active' : '')} key={i} onClick={() => selectLimit(i)}>\n            {item}\n          </p> \n        )}  \n      </div>\n      <div className=\"trains-list__list\">\n        {!!trainsArray.length &&\n          trainsArray.map((item) => \n          <TrainsListItem \n            trainInfo={item.departure}\n            isForward={isForward} \n            reloadInfo={reloadInfo} \n            loadSeats={loadSeats}\n            isConfirmation={false}\n            key={shortid.generate()} \n          />)\n        }\n      </div>\n      <div className=\"trains-list__select-page\">\n        <SelectTrainsPage \n          totalCount={isForward ? trainsInfo.forwardTrainsInfo.total_count : trainsInfo.backwardTrainsInfo.total_count} \n          limit={trainsInfo.params.limit}\n          offset={trainsInfo.params.offset}\n          reloadInfo={reloadInfo}\n        />\n      </div>\n    </div>    \n  )\n}\n\nTrainsList.propTypes = {\n  reloadInfo: PropTypes.func.isRequired,\n  loadSeats: PropTypes.func.isRequired\n};\n\nexport default TrainsList;","import { seats } from './http';\nimport { httpErrorBox, incorrectDataErrorBox } from '../gui';\n\nexport async function loadSeatsInfo (setAnimation, setPopup, setSeatsInfo, params) {\n  setAnimation({ loading: true, text: 'Идёт поиск' });\n\n  let response;\n  let forwardSeatsInfo;\n  let backwardSeatsInfo;\n\n  const {\n    forwardTrainId,\n    backwardTrainId,\n    haveFirstClass,\n    haveSecondClass,\n    haveThirdClass,\n    haveFourthClass,\n    haveWifi,\n    haveAirConditioning,\n    isExpress\n  } = params;\n\n  const seatsParams = {};\n\n  if (haveFirstClass) {\n    seatsParams.have_first_class = true;\n  }\n\n  if (haveSecondClass) {\n    seatsParams.have_second_class = true; \n  }\n\n  if (haveThirdClass) {\n    seatsParams.have_third_class = true;\n  }\n\n  if (haveFourthClass) {\n    seatsParams.have_fourth_class = true;\n  }\n\n  if (haveWifi) {\n    seatsParams.have_wifi = true; \n  }\n\n  if (haveAirConditioning) {\n    seatsParams.have_air_conditioning = true; \n  }\n\n  if (isExpress) {\n    seatsParams.is_express = true; \n  }\n\n  response = await seats (forwardTrainId, seatsParams);\n  if (!response.ok) {\n    setAnimation({ loading: false }); \n    httpErrorBox(setPopup, response);   \n    return false; \n  } \n\n  try {\n    forwardSeatsInfo = await response.json();\n  } catch(e) {\n    setAnimation({ loading: false }); \n    incorrectDataErrorBox(setPopup);\n    return false;\n  }\n\n  response = await seats (backwardTrainId, seatsParams);\n  if (!response.ok) {\n    setAnimation({ loading: false }); \n    httpErrorBox(setPopup, response);\n    return false; \n  } \n\n  try {\n    backwardSeatsInfo = await response.json();\n  } catch(e) {\n    setAnimation({ loading: false }); \n    incorrectDataErrorBox(setPopup);\n    return false;\n  }\n\n  const seatsInfo = {\n    params,\n    forwardSeatsInfo,\n    backwardSeatsInfo\n  };\n\n  setSeatsInfo(seatsInfo);\n  localStorage.setItem('seatsInfo', JSON.stringify(seatsInfo));\n\n  setAnimation({ loading: false }); \n  return true;\n}\n\n\n\n","import { useContext, useEffect } from 'react';\nimport './Trains.css';\nimport AppContext from 'AppContext';\nimport ProgressIndicator from '../ProgressIndicator/ProgressIndicator';\nimport TrainsParams from './TrainsParams/TrainsParams';\nimport LastRoutes from './LastRoutes/LastRoutes';\nimport TrainsList from './TrainsList/TrainsList';\nimport { loadTrainsInfo } from 'api/http/loadTrainsInfo';\nimport { loadSeatsInfo } from 'api/http/loadSeatsInfo';\n\nfunction Trains() {\n  const { setBookingStage, setAnimation, setPopup, trainsInfo, setTrainsInfo, setSeatsInfo } = useContext(AppContext);\n\n  useEffect(() => {\n    setBookingStage('trains');\n  }, [setBookingStage]);\n\n  const reloadInfo = async (params) => {\n    return await loadTrainsInfo(setAnimation, setPopup, setTrainsInfo, { ...trainsInfo.params, ...params });\n  }\n\n  const loadSeats = async (forwardTrainId, backwardTrainId) => {\n    return await loadSeatsInfo(setAnimation, setPopup, setSeatsInfo, { forwardTrainId, backwardTrainId });\n  }\n\n  return (\n    <main className=\"trains\"> \n      <ProgressIndicator stepNumber={1} />\n      <div className=\"trains__main\">\n        <section className=\"trains__left\">\n          <TrainsParams reloadInfo={reloadInfo} />\n          <LastRoutes />\n        </section>\n        <section className=\"trains__right\">\n          <TrainsList reloadInfo={reloadInfo} loadSeats={loadSeats} />\n        </section>\n      </div>\n    </main>\n  )\n}\n\nexport default Trains;","import PropTypes from 'prop-types';\nimport './TrainSeatsHeader.css';\nimport icons from 'components/Main/icons.svg';\nimport { secToDate, secToHourMin, durationToHourMinText } from 'api/utils';\n\nfunction TrainSeatsHeader(props) {\n  const { trainInfo, isForward } = props;\n\n  const { \n    from,\n    to,\n    train,\n    duration,\n  } = trainInfo;\n\n  const durationText = durationToHourMinText(duration);\n\n  return (\n    <div className=\"train-seats-header\">  \n      <div className=\"train-seats-header__left\">\n        <div className=\"train-seats-header__left-icon-container\">\n          <svg className=\"train-seats-header__icon\" width=\"15\" height=\"18\">\n            <use xlinkHref={icons + '#train-face'} />\n          </svg>\n        </div>\n        <div className=\"train-seats-header__text-container\">\n          <p className=\"train-seats-header__train-number\">\n            {train._id}\n          </p>\n          <div className=\"train-seats-header__train-properties\">\n            <p className=\"train-seats-header__train-property\">\n              {from.city.name} &#x2192;\n            </p>\n            <p className=\"train-seats-header__train-property\">\n              {to.city.name}\n            </p>\n            <p className=\"train-seats-header__train-property\">\n              {train.name  && `\\u00ab${train.name}\\u00bb`}\n            </p>\n          </div>\n        </div>\n      </div>\n      <div className=\"train-seats-header__middle\">\n        <div className=\"train-seats-header__middle-from\">\n          <p className=\"train-seats-header__time\">\n            {secToHourMin(isForward ? from.datetime : to.datetime)}\n          </p>\n          <p className=\"train-seats-header__date\">\n            {secToDate(isForward ? from.datetime : to.datetime)}\n          </p>\n          <p className=\"train-seats-header__city\">\n            {isForward ? from.city.name : to.city.name}\n          </p>\n          <p className=\"train-seats-header__station\">\n            {isForward ? from.railway_station_name : to.railway_station_name}\n          </p>\n        </div>\n        <svg className={'train-seats-header__arrow' + (isForward ? '' : ' train-seats-header__arrow_mirror')} width=\"30\" height=\"20\">\n          <use xlinkHref={icons + '#arrow'} />\n        </svg>\n        <div className=\"train-seats-header__middle-to\">\n          <p className=\"train-seats-header__time\">\n            {secToHourMin(isForward ? to.datetime : from.datetime)}\n          </p>\n          <p className=\"train-seats-header__date\">\n            {secToDate(isForward ? to.datetime : from.datetime)}\n          </p>\n          <p className=\"train-seats-header__city\">\n            {isForward ? to.city.name : from.city.name}\n          </p>\n          <p className=\"train-seats-header__station\">\n            {isForward ? to.railway_station_name : from.railway_station_name}\n          </p>\n        </div>\n      </div>\n      <div className=\"train-seats-header__right\">\n        <svg className=\"train-seats-header__icon-clock\" width=\"30\" height=\"30\">\n          <use xlinkHref={icons + '#clock'} />\n        </svg>        \n        <p className=\"train-seats-header__duration\">\n          {durationText.hour}\n          <br/>\n          {durationText.min}\n        </p>\n      </div>\n    </div>   \n  )\n}\n\nTrainSeatsHeader.propTypes = {\n  trainInfo: PropTypes.object.isRequired,\n  isForward: PropTypes.bool.isRequired,\n};\n\nexport default TrainSeatsHeader;","import PropTypes from 'prop-types';\nimport './SeatsCount.css';\n\nfunction SeatsCount(props) {\n  const { seatsState, setSeatsState } = props;\n\n  const ticketsCount = seatsState.fullTicketsCount + seatsState.childTicketsCount + seatsState.parentTicketsCount;\n  const maxCountValue = 6;\n\n  const fullClassName = 'seats-count__types-item' + (seatsState.curTicketType === 'full' ? ' seats-count__types-item_active' : '');\n  const childClassName = 'seats-count__types-item' + (seatsState.curTicketType === 'child' ? ' seats-count__types-item_active' : '');\n  const parentClassName = 'seats-count__types-item' + (seatsState.curTicketType === 'parent' ? ' seats-count__types-item_active' : '');\n\n  const setCurTicketType = (curTicketType) => {\n    setSeatsState({ ...seatsState, curTicketType });\n  }\n\n  return (\n    <div className=\"seats-count\">   \n      <h3 className=\"seats-count__title\">\n        Количество билетов\n      </h3>\n      <div className=\"seats-count__types-list\">\n        <div className={fullClassName} onClick={() => setCurTicketType('full')}>\n          <p className=\"seats-count__type-count\">\n            Взрослых - {seatsState.fullTicketsCount + seatsState.parentTicketsCount}\n          </p>\n          <p className=\"seats-count__type-description\">\n            Можно добавить ещё<br/>{maxCountValue - ticketsCount} пассажиров\n          </p>\n        </div>\n        <div className={childClassName} onClick={() => setCurTicketType('child')}>\n          <p className=\"seats-count__type-count\">\n            Детских - {seatsState.childTicketsCount}\n          </p>\n          <p className=\"seats-count__type-description\">\n            Можно добавить еще {maxCountValue - ticketsCount} детей до 10 лет. Свое место в вагоне, как у взрослых, но дешевле в среднем на 50-65%\n          </p>\n        </div>\n        <div className={parentClassName} onClick={() => setCurTicketType('parent')}>\n          <p className=\"seats-count__type-count\">\n            Детских «без места» - {seatsState.parentTicketsCount}\n          </p>\n          <p className=\"seats-count__type-description\">\n            Автоматически добавляется взрослый билет\n          </p>\n        </div>\n      </div>\n    </div>    \n  )\n}\n\nSeatsCount.propTypes = {\n  seatsState: PropTypes.object.isRequired,\n  setSeatsState: PropTypes.func.isRequired\n};\n\nexport default SeatsCount;","function createMapType1(coach) {\n  const seatsMap = [];\n\n  for (let i = 0; i < 16; i++) {\n    seatsMap.push({ \n      available: false, \n      selected: false,\n      isTop: false,\n      price: coach.coach.price,\n      width: 26,\n      height: 58,\n      top: 29,\n      paddingTop: 34\n    });\n  }\n\n  seatsMap[0].left = 134;\n  seatsMap[1].left = 194;\n  seatsMap[2].left = 223;\n  seatsMap[3].left = 283;\n  seatsMap[4].left = 312;\n  seatsMap[5].left = 373;\n  seatsMap[6].left = 402;\n  seatsMap[7].left = 462;\n  seatsMap[8].left = 491;\n  seatsMap[9].left = 552;\n  seatsMap[10].left = 581;\n  seatsMap[11].left = 641;\n  seatsMap[12].left = 670;\n  seatsMap[13].left = 731;\n  seatsMap[14].left = 760;\n  seatsMap[15].left = 820;\n\n  coach.seats.forEach((item) => {\n    if (item.available && item.index <= 16) {\n      seatsMap[item.index - 1].available = true;\n    }\n  });\n\n  return seatsMap;\n}\n\nfunction createMapType2(coach) {\n  const seatsMap = [];\n\n  for (let i = 0; i < 32; i++) {\n    seatsMap.push({ \n      available: false, \n      selected: false,\n      isTop: i % 2,\n      price: i % 2 ? coach.coach.top_price : coach.coach.bottom_price,\n      width: 26,\n      height: 29,\n      top: i % 2 ? 29 : 58,\n      paddingTop: 5\n    });\n  }\n\n  seatsMap[0].left = 133;\n  seatsMap[1].left = 133;\n  seatsMap[2].left = 194;\n  seatsMap[3].left = 194;\n  seatsMap[4].left = 223;\n  seatsMap[5].left = 223;\n  seatsMap[6].left = 283;\n  seatsMap[7].left = 283;\n  seatsMap[8].left = 312;\n  seatsMap[9].left = 312;\n  seatsMap[10].left = 373;\n  seatsMap[11].left = 373;\n  seatsMap[12].left = 402;\n  seatsMap[13].left = 402;\n  seatsMap[14].left = 462;\n  seatsMap[15].left = 462;\n  seatsMap[16].left = 491;\n  seatsMap[17].left = 491;\n  seatsMap[18].left = 552;\n  seatsMap[19].left = 552;\n  seatsMap[20].left = 581;\n  seatsMap[21].left = 581;\n  seatsMap[22].left = 641;\n  seatsMap[23].left = 641;\n  seatsMap[24].left = 670;\n  seatsMap[25].left = 670;\n  seatsMap[26].left = 731;\n  seatsMap[27].left = 731;\n  seatsMap[28].left = 760;\n  seatsMap[29].left = 760;\n  seatsMap[30].left = 820;\n  seatsMap[31].left = 820;\n\n  coach.seats.forEach((item) => {\n    if (item.available && item.index <= 32) {\n      seatsMap[item.index - 1].available = true;\n    }\n  });\n\n  return seatsMap;\n}\n\nfunction createMapType3(coach) {\n  const seatsMap = [];\n\n  for (let i = 0; i < 48; i++) {\n    seatsMap.push({ \n      available: false, \n      selected: false,\n      isTop: i % 2,\n      price: i % 2 ? coach.coach.top_price : coach.coach.bottom_price,\n      width: i > 31 ? 43 : 26,\n      height: i > 31 ? 25 : 31,\n      top: i > 31 ? 113 : (i % 2 ? 29 : 60),\n      paddingTop: i > 31 ? 2 : 5\n    });\n  }\n\n  seatsMap[0].left = 133;\n  seatsMap[1].left = 133;\n  seatsMap[2].left = 194;\n  seatsMap[3].left = 194;\n  seatsMap[4].left = 223;\n  seatsMap[5].left = 223;\n  seatsMap[6].left = 283;\n  seatsMap[7].left = 283;\n  seatsMap[8].left = 312;\n  seatsMap[9].left = 312;\n  seatsMap[10].left = 373;\n  seatsMap[11].left = 373;\n  seatsMap[12].left = 402;\n  seatsMap[13].left = 402;\n  seatsMap[14].left = 462;\n  seatsMap[15].left = 462;\n  seatsMap[16].left = 491;\n  seatsMap[17].left = 491;\n  seatsMap[18].left = 552;\n  seatsMap[19].left = 552;\n  seatsMap[20].left = 581;\n  seatsMap[21].left = 581;\n  seatsMap[22].left = 641;\n  seatsMap[23].left = 641;\n  seatsMap[24].left = 670;\n  seatsMap[25].left = 670;\n  seatsMap[26].left = 731;\n  seatsMap[27].left = 731;\n  seatsMap[28].left = 760;\n  seatsMap[29].left = 760;\n  seatsMap[30].left = 820;\n  seatsMap[31].left = 820;\n  seatsMap[32].left = 133;\n  seatsMap[33].left = 176;\n  seatsMap[34].left = 223;\n  seatsMap[35].left = 266;\n  seatsMap[36].left = 312;\n  seatsMap[37].left = 355;\n  seatsMap[38].left = 402;\n  seatsMap[39].left = 445;\n  seatsMap[40].left = 491;\n  seatsMap[41].left = 534;\n  seatsMap[42].left = 581;\n  seatsMap[43].left = 624;\n  seatsMap[44].left = 670;\n  seatsMap[45].left = 713;\n  seatsMap[46].left = 760;\n  seatsMap[47].left = 803;\n\n  coach.seats.forEach((item) => {\n    if (item.available && item.index <= 48) {\n      seatsMap[item.index - 1].available = true;\n    }\n  });\n\n  return seatsMap;\n}\n\nfunction createMapType4(coach) {\n  const seatsMap = [];\n  for (let i = 0; i < 62; i++) {\n    seatsMap.push({ \n      available: false, \n      selected: false,\n      isTop: false,\n      price: coach.coach.bottom_price,\n      width: 26,\n      height: 20,\n      paddingTop: 0\n    });\n\n    switch (i + 1) {\n      case 2:\n      case 4:\n      case 6:\n      case 8:\n      case 10:\n      case 12:\n      case 14:\n      case 16:\n      case 18:\n      case 20:\n      case 22:\n      case 24:\n      case 26:\n      case 28:\n      case 30:\n      case 32:\n        seatsMap[i].top = 32;\n        break;\n      case 1:\n      case 3:\n      case 5:\n      case 7:\n      case 9:\n      case 11:\n      case 13:\n      case 15:\n      case 17:\n      case 19:\n      case 21:\n      case 23:\n      case 25:\n      case 27:\n      case 29:\n      case 31:\n        seatsMap[i].top = 53;\n        break;\n      case 34:\n      case 36:\n      case 38:\n      case 40:\n      case 42:\n      case 44:\n      case 46:\n      case 48:\n      case 50:\n      case 52:\n      case 54:\n      case 56:\n      case 58:\n      case 60:\n        seatsMap[i].top = 92;\n        break;\n      case 33:\n      case 35:\n      case 37:\n      case 39:\n      case 41:\n      case 43:\n      case 45:\n      case 47:\n      case 49:\n      case 51:\n      case 53:\n      case 55:\n      case 57:\n      case 59:\n      case 61:\n      case 62:\n        seatsMap[i].top = 113;\n        break;\n      default:\n    }\n\n    switch (i + 1) {\n      case 2:\n      case 1:\n      case 33:\n        seatsMap[i].left = 144;\n        break;\n      case 4:\n      case 3:\n      case 34:\n      case 35:\n        seatsMap[i].left = 189;\n        break;\n      case 6:\n      case 5:\n      case 36:\n      case 37:\n        seatsMap[i].left = 233;\n        break;\n      case 8:\n      case 7:\n      case 38:\n      case 39:\n        seatsMap[i].left = 277;\n        break;\n      case 10:\n      case 9:\n      case 40:\n      case 41:\n        seatsMap[i].left = 321;\n        break;\n      case 12:\n      case 11:\n      case 42:\n      case 43:\n        seatsMap[i].left = 365;\n        break;\n      case 14:\n      case 13:\n      case 44:\n      case 45:\n        seatsMap[i].left = 409;\n        break;\n      case 16:\n      case 15:\n      case 46:\n      case 47:\n        seatsMap[i].left = 453;\n        break;\n      case 18:\n      case 17:\n      case 48:\n      case 49:\n        seatsMap[i].left = 497;\n        break;\n      case 20:\n      case 19:\n      case 50:\n      case 51:\n        seatsMap[i].left = 541;\n        break;\n      case 22:\n      case 21:\n      case 52:\n      case 53:\n        seatsMap[i].left = 585;\n        break;\n      case 24:\n      case 23:\n      case 54:\n      case 55:\n        seatsMap[i].left = 629;\n        break;\n      case 26:\n      case 25:\n      case 56:\n      case 57:\n        seatsMap[i].left = 672;\n        break;\n      case 28:\n      case 27:\n      case 58:\n      case 59:\n        seatsMap[i].left = 717;\n        break;\n      case 30:\n      case 29:\n      case 60:\n      case 61:\n        seatsMap[i].left = 761;\n        break;\n      case 32:\n      case 31:\n      case 62: \n        seatsMap[i].left = 805;\n        break;\n      default:  \n    }\n  }\n\n  coach.seats.forEach((item) => {\n    if (item.available && item.index <= 62) {\n      seatsMap[item.index - 1].available = true;\n    }\n  });\n\n  return seatsMap;\n}\n\nexport function createSeatsMap(coach) {\n  const result = {};\n  //имитатор номера вагона (номер вагона отсутствует в данных, полученных от сервера)\n  result.index = coach.coach._id % 15 + 1; \n\n  switch (coach.coach.class_type) {\n    case 'first':\n      result.classNumber = 1;\n      result.seatsMap = createMapType1(coach);\n      break;\n    case 'second':\n      result.classNumber = 2;\n      result.seatsMap = createMapType2(coach);\n      break;\n    case 'third':\n      result.classNumber = 3;\n      result.seatsMap = createMapType3(coach);\n      break;\n    default:\n      result.classNumber = 4; \n      result.seatsMap = createMapType4(coach);\n  }\n\n  result.price = coach.coach.price;\n  result.topPrice = coach.coach.top_price;\n  result.bottomPrice = coach.coach.bottom_price;\n  result.haveAirConditioning = coach.coach.have_air_conditioning;\n  result.haveWifi = coach.coach.have_wifi;\n  result.isLinensIncluded = coach.coach.is_linens_included;\n  result.haveFood = coach.coach.have_food;\n  result.wifiPrice = coach.coach.wifi_price;\n  result.linensPrice = coach.coach.linens_price;\n  result.coachId = coach.coach._id;\n\n  return result;\n}\n\nexport function getAvailableSeatsCount(seatsMap) {\n  return seatsMap.reduce((count, item) => item.available ? count + 1 : count, 0);\n}\n\nexport function getTopAvailableSeatsCount(seatsMap) {\n  return seatsMap.reduce((count, item) => (item.available && item.isTop) ? count + 1 : count, 0);\n}\n\nexport function getBottomAvailableSeatsCount(seatsMap) {\n  return seatsMap.reduce((count, item) => (item.available && !item.isTop) ? count + 1 : count, 0);   \n}\n\nexport function getPrice(param, coach) {\n  const seat = typeof param === 'object' ? param : coach.seatsMap[param];\n\n  if (!seat.selected) {\n    return 0;\n  }\n\n  let price = seat.price;\n  if (coach.addWifi) {\n    price += coach.wifiPrice;\n  }\n\n  if (coach.addLinens) {\n    price += coach.linensPrice;\n  }\n\n  if (seat.ticketType === 'child') {\n    price = Math.trunc(price * 0.5);\n  }\n  return price;\n}\n\nexport function getSumPrice(coach) {\n  return coach.seatsMap.reduce((sum, item) => sum + getPrice(item, coach), 0);\n}\n","import { useState, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport './CoachProperties.css';\nimport icons from 'components/Main/icons.svg';\nimport { separateThousands } from 'api/utils';\nimport { getAvailableSeatsCount, getTopAvailableSeatsCount, getBottomAvailableSeatsCount, getSumPrice } from 'api/seats';\n\nfunction CoachProperties(props) {\n  const { coach, checkOption, checkSeat, competitorCount } = props;\n\n  const [showHints, setShowHints] = useState([false, false, false, false]);\n\n  let price1 = null;\n  let price2 = null;\n  let isTop = false;\n\n  switch (coach.classNumber) {\n    case 1:\n      price1 = coach.price;\n      break;\n    case 2:\n    case 3:\n      price1 = coach.topPrice;\n      price2 = coach.bottomPrice;\n      isTop = true;\n      break;\n    case 4:\n      price1 = coach.bottomPrice;\n      break;\n      default:\n  }\n\n  const buttonClassName = \"coach-properties__button\";\n  const iconClassName = \"coach-properties__button-icon\";\n\n  let conditionerClassName = buttonClassName;\n  let conditionerIconClassName = iconClassName;\n  if (coach.haveAirConditioning) {\n    conditionerClassName += ` ${buttonClassName}_included`;\n  }\n\n  let wifiClassName = buttonClassName;\n  let wifiIconClassName = iconClassName;\n  if (coach.haveWifi) {\n    wifiClassName += ` ${buttonClassName}_enabled`;\n    wifiIconClassName += ` ${iconClassName}_enabled`;\n  }\n  if (coach.addWifi) {\n    wifiClassName += ` ${buttonClassName}_selected`;\n    wifiIconClassName += ` ${iconClassName}_selected`;\n  } \n  \n  let linensClassName = buttonClassName;\n  let linensIconClassName = iconClassName;\n  if (coach.classNumber !== 4) {\n    if (coach.isLinensIncluded) {\n      linensClassName += ` ${buttonClassName}_included`;\n    } else { \n      linensClassName += ` ${buttonClassName}_enabled`;\n      linensIconClassName += ` ${iconClassName}_enabled`;\n\n      if (coach.addLinens) {\n        linensClassName += ` ${buttonClassName}_selected`;\n        linensIconClassName += ` ${iconClassName}_selected`;\n      }  \n    }\n  }\n\n  let foodClassName = buttonClassName;\n  let foodIconClassName = iconClassName;\n  if (coach.haveFood) {\n    foodClassName += ` ${buttonClassName}_enabled`;\n    foodIconClassName += ` ${iconClassName}_enabled`;\n  }\n  if (coach.addFood) {\n    foodClassName += ` ${buttonClassName}_selected`;\n    foodIconClassName += ` ${iconClassName}_selected`;\n  } \n\n  const wifiChange = () => {\n    if (coach.haveWifi) {\n      checkOption(coach.index, 'addWifi');\n    }\n  }\n\n  const linensChange = () => {\n    if (coach.classNumber === 4 || coach.isLinensIncluded) {\n      return;\n    }\n    checkOption(coach.index, 'addLinens');\n  }\n\n  const foodChange = () => {\n    if (coach.haveFood) {\n      checkOption(coach.index, 'addFood');\n    }\n  }\n\n  const changeHint = (optionIndex, isShow) => {\n    const hints = [...showHints];\n    hints[optionIndex] = isShow;\n    setShowHints(hints); \n  }\n\n  const buttonMouseOver = (optionIndex) => {\n    changeHint(optionIndex, true);\n  }\n\n  const buttonMouseOut = (optionIndex) => {\n    changeHint(optionIndex, false);\n  }\n\n  let mapClassName = 'coach-properties__map coach-properties__map_' + coach.classNumber;\n\n  const seatChange = (seatIndex) => {\n    if (coach.seatsMap[seatIndex].available) {\n      checkSeat(coach.index, seatIndex);\n    }  \n  }\n\n  const sumPrice = getSumPrice(coach);\n\n  return (\n    <div className=\"coach-properties\">\n      <div className=\"coach-properties__header\"> \n        <div className=\"coach-properties__label\">\n          <p className=\"coach-properties__index\">\n            {coach.index > 9 ? coach.index : '0' + coach.index}\n          </p>\n        </div>\n        <div className=\"coach-properties__seats\">\n          <p className=\"coach-properties__seats-all-title\">\n            Места<span className=\"coach-properties__seats-all-count\">{getAvailableSeatsCount(coach.seatsMap)}</span>\n          </p>\n          {isTop && \n            <Fragment>\n              <p className=\"coach-properties__seats-title\">\n                Верхние<span className=\"coach-properties__seats-count\">{getTopAvailableSeatsCount(coach.seatsMap)}</span>\n              </p>\n              <p className=\"coach-properties__seats-title\">\n                Нижние<span className=\"coach-properties__seats-count\">{getBottomAvailableSeatsCount(coach.seatsMap)}</span>\n              </p>\n            </Fragment>\n          }\n        </div>\n        <div className=\"coach-properties__prices\">\n          <p className=\"coach-properties__prices-title\">\n            Стоимость\n          </p>\n          <p className=\"coach-properties__price\">\n            {separateThousands(price1)}<span className=\"coach-properties__currency\">&#x20bd;</span>\n          </p>\n          {price2 &&\n            <p className=\"coach-properties__price\">\n              {separateThousands(price2)}<span className=\"coach-properties__currency\">&#x20bd;</span>\n            </p>\n          }\n        </div>\n        <div className=\"coach-properties__service\">\n          <p className=\"coach-properties__service-title\">\n            Обслуживание<span className=\"coach-propertis__service-title_light\">Фпк</span>\n          </p>\n          <ul className=\"coach-properties__options\">\n            <li className={conditionerClassName} onMouseOver={() => buttonMouseOver(0)} onMouseOut={() => buttonMouseOut(0)}>\n              <svg className={conditionerIconClassName} width=\"21\" height=\"21\">\n                <use xlinkHref={icons + '#conditioner'} />\n              </svg> \n              {showHints[0] &&\n                <p className=\"coach-properties__button-hint\">\n                  Кондиционер\n                </p>\n              }\n            </li>\n            <li className={wifiClassName} onClick={wifiChange} onMouseOver={() => buttonMouseOver(1)} onMouseOut={() => buttonMouseOut(1)}>\n              <svg className={wifiIconClassName} width=\"20\" height=\"16\">\n                <use xlinkHref={icons + '#wifi'} />\n              </svg> \n              {showHints[1] &&\n                <p className=\"coach-properties__button-hint\">\n                  WI-FI\n                </p>\n              }\n            </li>\n            <li className={linensClassName} onClick={linensChange} onMouseOver={() => buttonMouseOver(2)} onMouseOut={() => buttonMouseOut(2)}>\n              <svg className={linensIconClassName} width=\"22\" height=\"16\">\n                <use xlinkHref={icons + '#linens'} />\n              </svg> \n              {showHints[2] &&\n                <p className=\"coach-properties__button-hint\">\n                  Бельё\n                </p>\n              }\n            </li>\n            <li className={foodClassName} onClick={foodChange} onMouseOver={() => buttonMouseOver(3)} onMouseOut={() => buttonMouseOut(3)}>\n              <svg className={foodIconClassName} width=\"20\" height=\"18\">\n                <use xlinkHref={icons + '#food'} />\n              </svg> \n              {showHints[3] &&\n                <p className=\"coach-properties__button-hint\">\n                  Питание\n                </p>\n              }\n            </li>\n          </ul>\n        </div>\n      </div>  \n      <div className=\"coach-properties__map-container\">\n        <p className=\"coach-properties__hint\">\n          {competitorCount} человек выбирают места в этом поезде\n        </p>\n        <div className={mapClassName}>\n          <p className=\"coach-properties__map-label\">\n            {coach.index > 9 ? coach.index : '0' + coach.index}\n          </p>\n          {coach.seatsMap.map((item, i) => \n            <p \n              className={'coach-properties__map-seat' \n                + (item.available ? ' coach-properties__map-seat_available' : '') \n                + (item.selected ? ' coach-properties__map-seat_selected' : '')\n                + ((item.selected && item.ticketType === 'child') ? ' coach-properties__map-seat_child' : '')\n                + ((item.selected && item.ticketType === 'parent') ? ' coach-properties__map-seat_parent' : '')\n              } \n              key={i} \n              style={{\n                top: `${item.top}px`,\n                left: `${item.left}px`,\n                width: `${item.width}px`,\n                height: `${item.height}px`, \n                paddingTop: `${item.paddingTop}px`          \n              }}\n              onClick = {() => seatChange(i)}\n            >\n              {i + 1}\n            </p>\n          )}\n        </div>\n        {!!sumPrice &&\n          <p className=\"coach-properties__sum-price\">\n            {separateThousands(sumPrice)}<span className=\"coach-properties__sum-price-currency\">&#x20bd;</span>\n          </p>\n        }\n      </div>\n    </div>  \n  )\n}\n\nCoachProperties.propTypes = {\n  coach: PropTypes.object.isRequired,\n  checkOption: PropTypes.func.isRequired,\n  checkSeat: PropTypes.func.isRequired,\n  competitorCount: PropTypes.number.isRequired\n};\n\nexport default CoachProperties;","import PropTypes from 'prop-types';\nimport './CoachSelect.css';\nimport CoachProperties from './CoachProperties/CoachProperties';\nimport shortid from 'shortid';\n\nfunction CoachSelect(props) {\n  const { seatsState, setSeatsState } = props;\n\n  const coachArray = seatsState.info\n    .filter((item) => item.classNumber === seatsState.classNumber)\n    .sort((a, b) => a.index - b.index);\n\n  const coachClick = (coachIndex) => {\n    const coach = seatsState.info.find((item) => coachIndex === item.index);\n    coach.isSelected = !coach.isSelected;\n    setSeatsState({ ...seatsState, info: seatsState.info });\n  }\n\n  const checkOption = (coachIndex, optionFlagName) => {\n    const coach = seatsState.info.find((item) => coachIndex === item.index);\n    coach[optionFlagName] = !coach[optionFlagName];\n    setSeatsState({ ...seatsState, info: seatsState.info });\n  }\n\n  const checkSeat = (coachIndex, seatIndex) => {\n    const coach = seatsState.info.find((item) => coachIndex === item.index);\n\n    if (coach.seatsMap[seatIndex].selected) {\n      coach.seatsMap[seatIndex].selected = false;\n      switch (coach.seatsMap[seatIndex].ticketType) {\n        case 'full':\n          setSeatsState({ ...seatsState, info: seatsState.info, fullTicketsCount: seatsState.fullTicketsCount - 1 });\n          break;\n        case 'child':\n          setSeatsState({ ...seatsState, info: seatsState.info, childTicketsCount: seatsState.childTicketsCount - 1 });\n          break;\n        case 'parent':\n          setSeatsState({ ...seatsState, info: seatsState.info, parentTicketsCount: seatsState.parentTicketsCount - 1 });\n          break;\n        default:\n      }\n\n    } else if (seatsState.fullTicketsCount + seatsState.childTicketsCount + seatsState.parentTicketsCount >= 6) {\n      return;\n\n    } else {\n      coach.seatsMap[seatIndex].selected = true; \n      coach.seatsMap[seatIndex].ticketType = seatsState.curTicketType;\n      switch (seatsState.curTicketType) {\n        case 'full':\n          setSeatsState({ ...seatsState, info: seatsState.info, fullTicketsCount: seatsState.fullTicketsCount + 1 });\n          break;\n        case 'child':\n          setSeatsState({ ...seatsState, info: seatsState.info, childTicketsCount: seatsState.childTicketsCount + 1 });\n          break;\n        case 'parent':\n          setSeatsState({ ...seatsState, info: seatsState.info, parentTicketsCount: seatsState.parentTicketsCount + 1 });\n          break;\n        default:\n      }     \n    }\n  }\n\n  return (\n    <div className=\"coach-select\">  \n      <div className=\"coach-select__header\"> \n        <p className=\"coach-select__title\">\n          Вагоны\n        </p>\n        {coachArray.map((item) =>\n          <p className={'coach-select__number' + (item.isSelected ? ' coach-select__number_selected' : '')} key={shortid.generate()} onClick={() => coachClick(item.index)}>\n            {item.index > 9 ? item.index : '0' + item.index}\n          </p> \n        )}\n        <p className=\"coach-select__numbering\">\n          Нумерация вагонов начинается с головы поезда\n        </p>\n      </div>\n      {coachArray.filter((item) => item.isSelected).map((item) => \n        <div className=\"coach-select__coach\" key={shortid.generate()}>\n          <CoachProperties coach={item} checkOption={checkOption} checkSeat={checkSeat} competitorCount={seatsState.competitorCount}/>\n        </div>\n      )}\n    </div>    \n  )\n}\n\nCoachSelect.propTypes = {\n  seatsState: PropTypes.object.isRequired,\n  setSeatsState: PropTypes.func.isRequired\n};\n\nexport default CoachSelect;","import PropTypes from 'prop-types';\nimport './CoachType.css';\nimport CoachSelect from './CoachSelect/CoachSelect';\nimport icons from 'components/Main/icons.svg';\n\nfunction CoachType(props) {\n  const { seatsState, setSeatsState } = props;\n\n  const arrayTypes = [\n    { iconName: 'fourth-class', className: 'Сидячий' , classNumber: 4, margin: 0 },\n    { iconName: 'third-class', className: 'Плацкарт' , classNumber: 3, margin: 80 },\n    { iconName: 'second-class', className: 'Купе' , classNumber: 2, margin: 45 },\n    { iconName: 'first-class', className: 'Люкс' , classNumber: 1, margin: 68 }\n  ];\n\n  const iconClick = (classNumber) => {\n    setSeatsState({ ...seatsState, classNumber });\n  }\n\n  return (\n    <div className=\"coach-type\">   \n      <h3 className=\"coach-type__title\">\n        Тип вагона\n      </h3>\n      <ul className={'coach-type__list' + (seatsState.classNumber ? ' coach-type__list_active' : '')}>\n        {arrayTypes.map((item, i) => \n          <li className=\"coach-type__item\" style={{ marginLeft: `${item.margin}px` }} key={i}>\n            <svg \n              className={'coach-type__icon' + (item.classNumber === seatsState.classNumber ? ' coach-type__icon_active' : '')} \n              width=\"50\"\n              height=\"50\" \n              onClick={() => iconClick(item.classNumber)}\n            >\n              <use xlinkHref={`${icons}#${item.iconName}`} />\n            </svg> \n            <p className={'coach-type__name' + (item.classNumber === seatsState.classNumber ? ' coach-type__name_active' : '')}>\n              {item.className}\n            </p>\n          </li>\n        )}\n      </ul>\n      {!!seatsState.classNumber && <CoachSelect seatsState={seatsState} setSeatsState={setSeatsState} />}\n    </div>    \n  )\n}\n\nCoachType.propTypes = {\n  seatsState: PropTypes.object.isRequired,\n  setSeatsState: PropTypes.func.isRequired\n};\n\nexport default CoachType;","import { useContext } from 'react'; \nimport { useHistory, Link } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport './TrainSeats.css';\nimport AppContext from 'AppContext';\nimport TrainSeatsHeader from './TrainSeatsHeader/TrainSeatsHeader';\nimport SeatsCount from './SeatsCount/SeatsCount';\nimport CoachType from './CoachType/CoachType';\nimport icons from 'components/Main/icons.svg';\nimport { loadTrainsInfo } from 'api/http/loadTrainsInfo';\n\nfunction TrainSeats(props) {\n  const { trainInfo, seatsState, setSeatsState, isForward } = props;\n\n  const { setAnimation, setPopup, trainsInfo, setTrainsInfo } = useContext(AppContext);\n\n  const history = useHistory();\n\n  const returnToTrains = async (evt) => {\n    evt.preventDefault();\n    \n    const result = await loadTrainsInfo(setAnimation, setPopup, setTrainsInfo, {\n      ...trainsInfo.params, \n      offset: 0,\n      direction: isForward ? 'forward' : 'backward'\n    });\n\n    if (result) {\n      history.push(process.env.PUBLIC_URL + '/run/trains');\n    }\n  }\n\n  return (\n    <div className=\"train-seats\">  \n      <div className={'train-seats__return' + (isForward ? '' : ' train-seats__return_mirror')}>  \n        <svg className={'train-seats__return-icon' + (isForward ? '' : ' train-seats__return-icon_mirror')} width=\"76\" height=\"60\">\n          <use xlinkHref={icons + '#arrow-negative-big'} />\n        </svg> \n        <Link to={process.env.PUBLIC_URL + '/run/trains'} className=\"train-seats__return-button\" onClick={returnToTrains}> \n          Выбрать другой поезд\n        </Link>\n      </div> \n      <TrainSeatsHeader trainInfo={trainInfo} isForward={isForward} /> \n      <SeatsCount seatsState={seatsState} setSeatsState={setSeatsState} /> \n      <CoachType seatsState={seatsState} setSeatsState={setSeatsState} />\n    </div>    \n  )\n}\n\nTrainSeats.propTypes = {\n  trainInfo: PropTypes.object.isRequired,\n  seatsState: PropTypes.object.isRequired,\n  setSeatsState: PropTypes.func.isRequired,\n  isForward: PropTypes.bool.isRequired\n};\n\nexport default TrainSeats;","import { useState, useContext, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport './Seats.css';\nimport AppContext from 'AppContext';\nimport ProgressIndicator from '../ProgressIndicator/ProgressIndicator';\nimport TrainsParams from '../Trains/TrainsParams/TrainsParams';\nimport LastRoutes from '../Trains/LastRoutes/LastRoutes';\nimport TrainSeats from './TrainSeats/TrainSeats';\nimport { loadSeatsInfo } from 'api/http/loadSeatsInfo';\nimport { errorBox } from 'api/gui';\nimport { createSeatsMap, getPrice } from 'api/seats';\n\nfunction Seats() {\n  const [forwardSeats, setForwardSeats] = useState({ competitorCount: 0 });\n  const [backwardSeats, setBackwardSeats] = useState({ competitorCount: 0 });\n\n  const { setBookingStage, setAnimation, setPopup, forwardTrain, backwardTrain, seatsInfo, setSeatsInfo, setOrderInfo } = useContext(AppContext);\n\n  useEffect(() => {\n    setBookingStage('seats');\n  }, [setBookingStage]);\n\n  useEffect(() => {\n    setForwardSeats({ \n      info: seatsInfo.forwardSeatsInfo.map((item) => createSeatsMap(item)),\n      classNumber: 0,\n      curTicketType: 'full',\n      fullTicketsCount: 0,\n      childTicketsCount: 0,\n      parentTicketsCount: 0,\n      competitorCount: Math.trunc(Math.random() * 10) + 5\n    });\n    setBackwardSeats({ \n      info: seatsInfo.backwardSeatsInfo.map((item) => createSeatsMap(item)),\n      classNumber: 0,\n      curTicketType: 'full',\n      fullTicketsCount: 0,\n      childTicketsCount: 0,\n      parentTicketsCount: 0,\n      competitorCount: Math.trunc(Math.random() * 10) + 5\n    });\n  }, [seatsInfo]);\n  \n  const reloadInfo = async (params) => {\n    await loadSeatsInfo(setAnimation, setPopup, setSeatsInfo, { ...seatsInfo.params, ...params });\n  }\n\n  const forwardTicketsCount = forwardSeats.fullTicketsCount + forwardSeats.childTicketsCount + forwardSeats.parentTicketsCount;\n  const backwardTicketsCount = backwardSeats.fullTicketsCount + backwardSeats.childTicketsCount + backwardSeats.parentTicketsCount;\n  const isNextEnabled = forwardTicketsCount \n    && forwardSeats.fullTicketsCount === backwardSeats.fullTicketsCount\n    && forwardSeats.childTicketsCount === backwardSeats.childTicketsCount\n    && forwardSeats.parentTicketsCount === backwardSeats.parentTicketsCount\n\n  const goToNext = (evt) => {\n    if (!isNextEnabled) {\n      evt.preventDefault();\n    }\n\n    if (!forwardTicketsCount || !backwardTicketsCount) {\n      errorBox(setPopup, [\n        'Ошибка ввода данных',\n        'Должен быть выбран хотя бы один билет туда и один билет обратно'\n      ]);\n      return;\n    }\n\n    if (forwardSeats.fullTicketsCount !== backwardSeats.fullTicketsCount) {\n      errorBox(setPopup, [\n        'Ошибка ввода данных',\n        'Количество взрослых билетов туда и обратно должно быть одинаковым'\n      ]);\n      return;\n    }\n\n    if (forwardSeats.childTicketsCount !== backwardSeats.childTicketsCount) {\n      errorBox(setPopup, [\n        'Ошибка ввода данных',\n        'Количество детских билетов туда и обратно должно быть одинаковым'\n      ]);\n      return;\n    }\n\n    if (forwardSeats.parentTicketsCount !== backwardSeats.parentTicketsCount) {\n      errorBox(setPopup, [\n        'Ошибка ввода данных',\n        'Количество детских билетов без места туда и обратно должно быть одинаковым'\n      ]);\n      return;\n    }\n\n    const forwardSeatList = [];\n    const backwardSeatList = [];\n\n    forwardSeats.info.forEach((coach) => \n      coach.seatsMap.forEach((seat, i) => {\n        if (seat.selected) {\n          forwardSeatList.push({\n            coachId: coach.coachId,\n            seatNumber: i + 1,\n            fullPrice: getPrice({ ...seat, ticketType: 'full' }, coach),\n            childPrice: getPrice({ ...seat, ticketType: 'child' }, coach)\n          });\n        }\n      })\n    );\n\n    backwardSeats.info.forEach((coach) => \n      coach.seatsMap.forEach((seat, i) => {\n        if (seat.selected) {\n          backwardSeatList.push({\n            coachId: coach.coachId,\n            seatNumber: i + 1,\n            fullPrice: getPrice({ ...seat, ticketType: 'full' }, coach),\n            childPrice: getPrice({ ...seat, ticketType: 'child' }, coach)\n          });\n        }\n      })\n    );\n\n    const initOrderInfo = {\n      seatList: {\n        forward: forwardSeatList,\n        backward: backwardSeatList\n      },\n      passengerList: [{\n        isCollapsed: false,\n        isAdult: true,\n        firstName: '',\n        lastName: '',\n        patronymic: '',\n        gender: true,\n        birthday: '',\n        isDisability: false,\n        includeChild: false,\n        documentType: 'Паспорт РФ',\n        passportSeries: '',\n        passportNumber: '',\n        birthSertificateNumber: '',\n        isChange: false,\n        isError: false,\n        isReady: false\n      }]\n    }\n\n    setOrderInfo(initOrderInfo);\n    localStorage.setItem('orderInfo', JSON.stringify(initOrderInfo));\n  }\n\n  return (\n    <main className=\"seats\"> \n      <ProgressIndicator stepNumber={1} /> \n      <div className=\"seats__main\">\n        <section className=\"seats__left\">\n          <TrainsParams reloadInfo={reloadInfo}/>\n          <LastRoutes />\n        </section>\n        <section className=\"seats__right\"> \n          <h2 className=\"seats__title\">\n            Выбор мест\n          </h2>\n          <div className=\"seats__train-seats\">\n            <TrainSeats trainInfo={forwardTrain} seatsState={forwardSeats} setSeatsState={setForwardSeats} isForward={true}/>\n          </div>\n          <div className=\"seats__train-seats\">\n            <TrainSeats trainInfo={backwardTrain} seatsState={backwardSeats} setSeatsState={setBackwardSeats} isForward={false}/>\n          </div>\n          <Link \n            to={process.env.PUBLIC_URL + '/run/passengers'} \n            className={'seats__button' + (isNextEnabled ? ' seats__button_active' : '')}\n            onClick={goToNext}\n          > \n            Далее\n          </Link>\n        </section>\n      </div>\n    </main>\n  )\n}\n\nexport default Seats;","import PropTypes from 'prop-types';\nimport './TravelDetailsTrain.css';\nimport icons from 'components/Main/icons.svg';\nimport { secToDate, secToHourMin, durationToHourMin } from 'api/utils';\n\nfunction TravelDetailsTrain(props) {\n  const { isForward, isCollapsed, setCollapsed, train } = props;\n\n  return (\n    <div className=\"travel-details-train\"> \n      <div className=\"travel-details-train__collapsed\">\n        <svg className={'travel-details-train__arrow-neg' + (isForward ? '' : ' travel-details-train__arrow-neg_mirror')} width=\"32\" height=\"26\">\n          <use xlinkHref={icons + '#arrow-negative'} />\n        </svg>\n        <p className=\"travel-details-train__title\">\n          {isForward ? 'Туда' : 'Обратно'}\n        </p>\n        <p className={'travel-details-train__title-date' + (isForward ? '' : ' travel-details-train__title-date_backward')}>\n          {secToDate(isForward ? train.from.datetime : train.to.datetime)}\n        </p>\n        <button className={'travel-details-train__button' + (isCollapsed ? '' : ' travel-details-train__button_minus')} type=\"button\" onClick={setCollapsed}>      \n        </button>\n      </div>\n      {!isCollapsed &&\n        <div className=\"travel-details-train__full\">\n          <div className=\"travel-details-train__number\">\n            <p className=\"travel-details-train__number-left\">\n              № Поезда\n            </p>\n            <p className=\"travel-details-train__number-right\">\n              {train.train._id}\n            </p>\n          </div>\n          <div className=\"travel-details-train__name\">\n            <p className=\"travel-details-train__name-left\">\n              Название\n            </p>\n            <p className=\"travel-details-train__name-right\">\n              {train.from.city.name}<br/>{train.to.city.name}<br/>{!!train.train.name && train.train.name}\n            </p> \n          </div>\n          <p className=\"travel-details-train__duration\">\n            {durationToHourMin(train.duration)}\n          </p>\n          <div className=\"travel-details-train__times\">\n            <p className=\"travel-details-train__time-left\">\n              {secToHourMin(isForward ? train.from.datetime : train.to.datetime)}\n            </p>\n            <svg className={'travel-details-train__arrow' + (isForward ? '' : ' travel-details-train__arrow_mirror')} width=\"30\" height=\"20\">\n              <use xlinkHref={icons + '#arrow'} />\n            </svg>\n            <p className=\"travel-details-train__time-right\">\n            {secToHourMin(isForward ? train.to.datetime : train.from.datetime)}\n            </p>\n          </div>\n          <div className=\"travel-details-train__dates\">\n            <p className=\"travel-details-train__date-left\">\n              {secToDate(isForward ? train.from.datetime : train.to.datetime)}\n            </p>\n            <p className=\"travel-details-train__date-right\">\n              {secToDate(isForward ? train.to.datetime : train.from.datetime)}\n            </p>\n          </div>\n          <div className=\"travel-details-train__cities\">\n            <p className=\"travel-details-train__city-left\">\n              {isForward ? train.from.city.name : train.to.city.name}\n            </p>\n            <p className=\"travel-details-train__city-right\">\n              {isForward ? train.to.city.name : train.from.city.name}\n            </p>\n          </div>\n          <div className=\"travel-details-train__stations\">\n            <p className=\"travel-details-train__station-left\">\n              {isForward ? train.from.railway_station_name : train.to.railway_station_name}\n            </p>\n            <p className=\"travel-details-train__station-right\">\n              {isForward ? train.to.railway_station_name : train.from.railway_station_name}\n            </p>\n          </div>\n        </div> \n      }\n    </div>    \n  )\n}\n\nTravelDetailsTrain.propTypes = {\n  isForward: PropTypes.bool.isRequired,\n  isCollapsed: PropTypes.bool.isRequired,\n  setCollapsed: PropTypes.func.isRequired,\n  train: PropTypes.object.isRequired\n};\n\nexport default TravelDetailsTrain;","import PropTypes from 'prop-types';\nimport './TravelDetailsPassengers.css';\nimport icons from 'components/Main/icons.svg';\nimport { separateThousands } from 'api/utils';\n\nfunction TravelDetailsPassengers(props) {\n  const { isCollapsed, setCollapsed, priceInfo } = props;\n\n  return (\n    <div className=\"travel-details-passengers\"> \n      <div className=\"travel-details-passengers__collapsed\">\n        <svg className=\"travel-details-passengers__icon\" width=\"26\" height=\"26\">\n          <use xlinkHref={icons + '#passenger'} />\n        </svg>\n        <p className=\"travel-details-passengers__title\">\n          Пассажиры\n        </p>\n        <button className={'travel-details-passengers__button' + (isCollapsed ? '' : ' travel-details-passengers__button_minus')} type=\"button\" onClick={setCollapsed}>      \n        </button>\n      </div>\n      {!isCollapsed &&\n        <div className=\"travel-details-passengers__full\">\n          {!!priceInfo.adult.count &&\n            <div className=\"travel-details-passengers__item\">\n              <p className=\"travel-details-passengers__count\">\n                {priceInfo.adult.count}\n              </p>\n              <p className=\"travel-details-passengers__price\">\n                {separateThousands(priceInfo.adult.price)}\n              </p>\n              <p className=\"travel-details-passengers__currency\">\n                &#x20bd;\n              </p>\n            </div>\n          }\n          {!!priceInfo.child.count &&\n            <div className=\"travel-details-passengers__item\">\n              <p className=\"travel-details-passengers__count\">\n                {priceInfo.child.count}\n              </p>\n              <p className=\"travel-details-passengers__price\">\n                {separateThousands(priceInfo.child.price)}\n              </p>\n              <p className=\"travel-details-passengers__currency\">\n                &#x20bd;\n              </p>\n            </div>\n          }\n        </div> \n      }\n    </div>    \n  )\n}\n\nTravelDetailsPassengers.propTypes = {\n  isCollapsed: PropTypes.bool.isRequired,\n  setCollapsed: PropTypes.func.isRequired,\n  priceInfo: PropTypes.object.isRequired\n};\n\nexport default TravelDetailsPassengers;","import { useContext } from 'react';\nimport './TravelDetails.css';\nimport AppContext from 'AppContext';\nimport TravelDetailsTrain from './TravelDetailsTrain/TravelDetailsTrain';\nimport TravelDetailsPassengers from './TravelDetailsPassengers/TravelDetailsPassengers';\nimport { separateThousands } from 'api/utils';\n\nfunction TravelDetails() {\n  const { forwardTrain, backwardTrain, travelDetailsCollapsed, setTravelDetailsCollapsed, orderInfo } = useContext(AppContext);\n\n  const setSectionCollapsed = (name) => {\n    setTravelDetailsCollapsed({ ...travelDetailsCollapsed, [name]: !travelDetailsCollapsed[name] });\n  }\n\n  const initPriceInfo = {\n    adult: { count: 0, price: 0 },\n    child: { count: 0, price: 0 }\n  };\n\n  const priceInfo = orderInfo.passengerList\n    .filter((item) => item.isReady)\n    .reduce((info, item, i) => {\n      if (item.isAdult) {\n        info.adult.count++;\n        info.adult.price += (orderInfo.seatList.forward[i].fullPrice + orderInfo.seatList.backward[i].fullPrice);\n      } else {\n        info.child.count++;\n        info.child.price += (orderInfo.seatList.forward[i].childPrice + orderInfo.seatList.backward[i].childPrice);\n      }\n\n      return info;\n    }, initPriceInfo);\n\n  switch (priceInfo.adult.count) {\n    case 0:\n      break;\n    case 1: \n      priceInfo.adult.count += ' Взрослый';\n      break;\n    default:\n      priceInfo.adult.count += ' Взрослых';\n  }\n\n  switch (priceInfo.child.count) {\n    case 0:\n      break;\n    case 1:\n      priceInfo.child.count += ' Ребёнок';\n      break;\n    case 2:\n    case 3:\n    case 4:\n      priceInfo.child.count += ' Ребёнка';\n      break;\n    default:\n      priceInfo.child.count += ' Детей';    \n  }\n\n  return (\n    <div className=\"travel-details\"> \n      <h2 className=\"travel-details__title\">\n        Детали поездки\n      </h2>\n      <div className=\"travel-details__train\">\n        <TravelDetailsTrain \n          isForward={true} \n          isCollapsed={travelDetailsCollapsed.forward} \n          setCollapsed={() => setSectionCollapsed('forward')}\n          train={forwardTrain}\n        />\n      </div>\n      <div className=\"travel-details__train\">\n        <TravelDetailsTrain \n          isForward={false} \n          isCollapsed={travelDetailsCollapsed.backward} \n          setCollapsed={() => setSectionCollapsed('backward')}\n          train={backwardTrain}\n        />\n      </div>\n      <div className=\"travel-details__passengers\">\n        <TravelDetailsPassengers \n          isCollapsed={travelDetailsCollapsed.passengers} \n          setCollapsed={() => setSectionCollapsed('passengers')}\n          priceInfo={priceInfo}\n        />\n      </div>\n      <div className=\"travel-details__total\">\n        <p className=\"travel-details__total-title\">\n          Итог\n        </p>\n        <p className=\"travel-details__price\">\n          {separateThousands(priceInfo.adult.price + priceInfo.child.price)}\n        </p>\n        <p className=\"travel-details__currency\">\n          &#x20bd;\n        </p>\n      </div>\n    </div>    \n  )\n}\n\nexport default TravelDetails;","import moment from 'moment';\n\nexport function verifyData(data) {\n  const { \n    isAdult,\n    firstName,\n    lastName,\n    patronymic,\n    birthday,\n    documentType,\n    passportSeries,\n    passportNumber,\n    birthSertificateNumber\n  } = data;\n\n  const result = {\n    errorFlags: {},\n    errorText: {},\n    isReady: true\n  };\n\n  if (!lastName) {\n    result.errorFlags.lastName = true;\n    if (result.isReady) {\n      result.errorText = {\n        string1: 'Поле \"Фамилия\" обязательно для заполнения'\n      };\n    }\n    result.isReady = false;\n  }\n\n  if (!firstName) {\n    result.errorFlags.firstName = true;\n    if (result.isReady) {\n      result.errorText = {\n        string1: 'Поле \"Имя\" обязательно для заполнения'\n      };\n    }\n    result.isReady = false;\n  }\n\n  if (!patronymic) {\n    result.errorFlags.patronymic = true;\n    if (result.isReady) {\n      result.errorText = {\n        string1: 'Поле \"Отчество\" обязательно для заполнения'\n      };\n    }\n    result.isReady = false;\n  }\n\n  if (birthday.length !== 10) {\n    result.errorFlags.birthday = true;\n    if (result.isReady) {\n      result.errorText = {\n        string1: 'Дата рождения не указана или указана некорректно',\n        string2: 'Пример (введите только цифры, точки появятся автоматически):',\n        string3: '25.05.1975'\n      };\n    }\n    result.isReady = false;\n  }\n\n  if (!moment(birthday, 'DD.MM.YYYY').isValid()) {\n    result.errorFlags.birthday = true;\n    if (result.isReady) {\n      result.errorText = {\n        string1: 'Поле \"Дата рождения\" содержит несуществующую дату',\n      };\n    }\n    result.isReady = false;\n  }\n\n  if (!isAdult && documentType === 'Паспорт РФ') {\n    result.errorFlags.documentType = true;\n    if (result.isReady) {\n      result.errorText = {\n        string1: 'Для проезда ребёнка требуется свидетельство о рождении'\n      };\n    }\n    result.isReady = false;    \n  } \n  \n  if (documentType === 'Паспорт РФ') {\n\n    if (passportSeries.length !== 4) {\n      result.errorFlags.passportSeries = true;\n      if (result.isReady) {\n        result.errorText = {\n          string1: 'Серия паспорта не указана или указана некорректно',\n          string2: 'Пример:',\n          string3: '1234'\n        };\n      }\n      result.isReady = false;\n    }\n\n    if (passportNumber.length !== 6) {\n      result.errorFlags.passportNumber = true;\n      if (result.isReady) {\n        result.errorText = {\n          string1: 'Номер паспорта не указан или указан некорректно',\n          string2: 'Пример:',\n          string3: '123456'\n        };\n      }\n      result.isReady = false;\n    }\n\n  } else {\n\n    if (!/^[IVX]{2,4}[А-Я]{2}[0-9]{6}$/.test(birthSertificateNumber)) {\n      result.errorFlags.birthSertificateNumber = true;\n      if (result.isReady) {\n        result.errorText = {\n          string1: 'Номер свидетельства о рождении не указан или указан некорректно',\n          string2: 'Пример:',\n          string3: 'VIII ЫП 123456'\n        };\n      }\n      result.isReady = false;\n    }\n  }\n\n  return result;\n}\n","export default __webpack_public_path__ + \"static/media/ready.e0b774b9.svg\";","export default __webpack_public_path__ + \"static/media/error.f0e873e6.svg\";","import { useState, useContext, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport './EditPassenger.css';\nimport AppContext from 'AppContext';\nimport { verifyData } from './verifyData';\nimport readyIcon from './ready.svg';\nimport errorIcon from './error.svg';\n\nfunction EditPassenger(props) {\n  const { passenger, index, passengerList, setPassengerList } = props;\n\n  const [passengerState, setPassengerState] = useState(passenger); \n  const [ageListShow, setAgeListShow] = useState(false);\n  const [documentTypeListShow, setDocumentTypeListShow] = useState(false);\n\n  const { orderInfo, setOrderInfo } = useContext(AppContext);\n\n  const { \n    isCollapsed,\n    isAdult,\n    firstName,\n    lastName,\n    patronymic,\n    gender,\n    birthday,\n    isDisability,\n    includeChild,\n    documentType,\n    passportSeries,\n    passportNumber,\n    birthSertificateNumber,\n    isChange,\n    isError,\n    isReady\n  } = passengerState;\n\n  const isPassport = documentType === 'Паспорт РФ';\n\n  const changeValue = (name, value) => {\n    setPassengerState({ ...passengerState, [name]: value });\n  }\n\n  const changeBirthday = (value) => {\n    const digitsArray = value.replace(/[^\\d]/g, '').split('', 8);\n    if (digitsArray.length > 4) {\n      digitsArray.splice(4, 0, '.');\n    }\n    if (digitsArray.length > 2) {\n      digitsArray.splice(2, 0, '.');\n    }\n    changeValue('birthday', digitsArray.join(''));\n  }\n\n  const changePassportSeries = (value) => {\n    const newValue = value.replace(/[^\\d]/g, '').slice(0, 4);\n    changeValue('passportSeries', newValue);\n  }\n\n  const changePassportNumber = (value) => {\n    const newValue = value.replace(/[^\\d]/g, '').slice(0, 6);\n    changeValue('passportNumber', newValue);\n  }\n\n  const setValue = (name, value) => {\n    const list = [...passengerList];\n\n    switch (name) {\n      case 'isCollapsed':\n      case 'isChange':\n      case 'isError':\n      case 'isReady':\n        break;\n      default:\n        if (list[index][name] !== value) {\n          list[index].isChange = true;\n          list[index].isError = false;\n          list[index].isReady = false;\n        } \n    }\n\n    list[index][name] = value;\n    setPassengerList(list);\n  }\n\n  const setBirthSertificateNumber = (value) => {\n    const newValue = value.replace(/[^0-9IVXА-Я]/g, '').slice(0, 12).toUpperCase();\n    setValue('birthSertificateNumber', newValue);\n  }\n\n  const keyPress = (evt) => {\n    if (evt.key === \"Enter\") {\n      evt.target.blur();\n    }\n  }\n\n  const savePassenger = (evt) => {\n    const list = [...passengerList];  \n\n    list[index].isChange = false;\n    list[index].isReady = verifyData(passengerState).isReady;\n    list[index].isError = !list[index].isReady;\n\n    const newOrderInfo = { ...orderInfo, passengerList: list };\n    setOrderInfo(newOrderInfo);\n    localStorage.setItem('orderInfo', JSON.stringify(newOrderInfo));\n  }\n\n  const deletePassenger = () => {\n    const list = passengerList;\n    list.splice(index, 1);\n    const newOrderInfo = { ...orderInfo, passengerList: list };\n    setOrderInfo(newOrderInfo);\n    localStorage.setItem('orderInfo', JSON.stringify(newOrderInfo));\n  }\n\n  let verify = {\n    errorFlags: {},\n    errorText: {}\n  };\n\n  if (isError) {\n    verify = verifyData(passengerState);\n  }\n\n  const { errorFlags, errorText } = verify;\n\n  return (\n    <div className=\"edit-passenger\">\n      <div className={'edit-passenger__collapsed' + (isCollapsed ? '' : ' edit-passenger__collapsed_gray')}>\n        <button \n          className={'edit-passenger__button-collapse' + (isCollapsed ? '' : ' edit-passenger__button-collapse_minus')} \n          type=\"button\" \n          onClick={() => setValue('isCollapsed', !isCollapsed)}>\n        </button>\n        <p className=\"edit-passenger__title\">\n          Пассажир {index + 1}\n        </p> \n        {!isCollapsed &&\n          <button className=\"edit-passenger__button-close\" type=\"button\" onClick={deletePassenger}>  \n          </button>\n        }\n      </div>\n      {!isCollapsed &&\n        <form className=\"edit-passenger__form\">\n          <div className=\"edit-passenger__ago-container\">\n            <input \n              className=\"edit-passenger__input edit-passenger__ago edit-passsenger__listbox\" \n              type=\"text\" \n              name=\"age\" \n              value={isAdult ? 'Взрослый' : 'Детский'} \n              readOnly\n              onClick={() => setAgeListShow(true)}\n            />\n            {ageListShow &&\n              <ul className=\"edit-passenger__list\">\n                <li className=\"edit-passenger__list-item\" onClick={() => setValue('isAdult', true)}>\n                  Взрослый\n                </li>\n                <li className=\"edit-passenger__list-item\" onClick={() => setValue('isAdult', false)}>\n                  Детский\n                </li>\n              </ul>\n            }\n          </div>\n          <div className=\"edit-passenger__name-section\">\n            <label className=\"edit-passenger__label edit-passenger__last-name\">\n              Фамилия\n              <input \n                className={'edit-passenger__input' + (errorFlags.lastName ? ' edit-passenger__error' : '')} \n                type=\"text\" \n                name=\"last-name\" \n                placeholder=\"Иванов\" \n                value={lastName} \n                onChange={(evt) => changeValue('lastName', evt.target.value)}\n                onBlur={(evt) => setValue('lastName', evt.target.value.trim())}\n                onKeyPress={keyPress}\n              />\n            </label>\n            <label className=\"edit-passenger__label edit-passenger__first-name\">\n              Имя\n              <input \n                className={'edit-passenger__input' + (errorFlags.firstName ? ' edit-passenger__error' : '')} \n                type=\"text\" \n                name=\"first-name\" \n                placeholder=\"Иван\" \n                value={firstName} \n                onChange={(evt) => changeValue('firstName', evt.target.value)}\n                onBlur={(evt) => setValue('firstName', evt.target.value.trim())}\n                onKeyPress={keyPress}\n              />\n            </label>\n            <label className=\"edit-passenger__label edit-passenger__patronymic\">\n              Отчество\n              <input \n                className={'edit-passenger__input' + (errorFlags.patronymic ? ' edit-passenger__error' : '')}\n                type=\"text\" \n                name=\"patronymic\" \n                placeholder=\"Иванович\" \n                value={patronymic} \n                onChange={(evt) => changeValue('patronymic', evt.target.value)}\n                onBlur={(evt) => setValue('patronymic', evt.target.value.trim())}\n                onKeyPress={keyPress}\n              />\n            </label>\n          </div>\n          <div className=\"edit-passenger__data-section\">\n            <label className=\"edit-passenger__label edit-passenger__gender\">\n              Пол\n              <div className=\"edit-passenger__gender-selector\">\n                <div \n                  className={'edit-passenger__gender-item' + (gender ? ' edit-passenger__gender-item_active' : '')}\n                  onClick={() => setValue('gender', true)}\n                >\n                  М\n                </div>\n                <div \n                  className={'edit-passenger__gender-item' + (gender ? '' : ' edit-passenger__gender-item_active')}\n                  onClick={() => setValue('gender', false)}\n                >\n                  Ж\n                </div>\n              </div>\n            </label>\n            <label className=\"edit-passenger__label edit-passenger__birthday\">\n              Дата рождения\n              <input \n                className={'edit-passenger__input' + (errorFlags.birthday ? ' edit-passenger__error' : '')} \n                type=\"text\" \n                name=\"birthday\" \n                placeholder=\"ДД ММ ГГГГ\" \n                value={birthday} \n                onChange={(evt) => changeBirthday(evt.target.value)}\n                onBlur={(evt) => setValue('birthday', evt.target.value)}\n                onKeyPress={keyPress}\n              />\n            </label>\n          </div>\n          <div className=\"edit-passenger__options-section\">\n            <label className={'edit-passenger__label edit-passenger__label-checkbox' + (isDisability ? ' edit-passenger__label-checkbox_checked' : '')}>\n              <input \n                className=\"edit-passenger__checkbox\" \n                type=\"checkbox\" \n                name=\"disability\" \n                checked={isDisability}\n                onChange={() => setValue('isDisability', !isDisability)}\n              />\n              ограниченная подвижность\n            </label>\n            {isAdult &&\n              <label className={'edit-passenger__label edit-passenger__label-checkbox' + (includeChild ? ' edit-passenger__label-checkbox_checked' : '')}>\n                <input \n                  className=\"edit-passenger__checkbox\" \n                  type=\"checkbox\" \n                  name=\"include-child\" \n                  checked={includeChild}\n                  onChange={() => setValue('includeChild', !includeChild)}\n                />\n                провоз ребёнка \"без места\"\n              </label>\n            }\n          </div>\n          <div className=\"edit-passenger__document-data-section\">\n            <label \n              className={'edit-passenger__label edit-passenger__document-type' + (isPassport ? ' edit-passenger__document-type_passport' : ' edit-passenger__document-type_sertificate')}>\n              Тип документа\n              <input \n                className={'edit-passenger__input edit-passsenger__listbox' + (errorFlags.documentType ? ' edit-passenger__error' : '')} \n                type=\"text\" \n                name=\"document-type\" \n                value={documentType} \n                readOnly\n                onClick={() => setDocumentTypeListShow(true)}\n              />\n              {documentTypeListShow &&\n                <ul className=\"edit-passenger__list edit-passenger__list_document-type\">\n                  <li className=\"edit-passenger__list-item\" onClick={() => setValue('documentType', 'Паспорт РФ')}>\n                    Паспорт РФ\n                  </li>\n                  <li className=\"edit-passenger__list-item\" onClick={() => setValue('documentType', 'Свидетельство о рождении')}>\n                    Свидетельство о рождении\n                  </li>\n                </ul>\n              }\n            </label>\n            {isPassport ?\n              <Fragment>\n                <label className=\"edit-passenger__label edit-passenger__passport-series\">\n                  Серия\n                  <input \n                    className={'edit-passenger__input edit-passenger__input_passport-series' + (errorFlags.passportSeries ? ' edit-passenger__error' : '')}\n                    type=\"text\" \n                    name=\"passport-series\" \n                    placeholder=\" \" \n                    value={passportSeries} \n                    onChange={(evt) => changePassportSeries(evt.target.value)}\n                    onBlur={(evt) => setValue('passportSeries', evt.target.value)}\n                    onKeyPress={keyPress}\n                  />\n                </label>\n                <label className=\"edit-passenger__label edit-passenger__passport-number\">\n                  Номер\n                  <input \n                    className={'edit-passenger__input edit-passenger__input_passport-number' + (errorFlags.passportNumber ? ' edit-passenger__error' : '')}\n                    type=\"text\" \n                    name=\"passport-number\" \n                    placeholder=\" \" \n                    value={passportNumber} \n                    onChange={(evt) => changePassportNumber(evt.target.value)}\n                    onBlur={(evt) => setValue('passportNumber', evt.target.value)}\n                    onKeyPress={keyPress}\n                  />\n                </label>\n              </Fragment> :\n              <label className=\"edit-passenger__label edit-passenger__sertificate-number\">\n                Номер\n                <input \n                  className={'edit-passenger__input edit-passenger__input_sertificate' + (errorFlags.birthSertificateNumber ? ' edit-passenger__error' : '')}\n                  type=\"text\" \n                  name=\"sertificate-number\" \n                  placeholder=\" \" \n                  value={birthSertificateNumber}\n                  onChange={(evt) => changeValue('birthSertificateNumber', evt.target.value.toUpperCase())}\n                  onBlur={(evt) => setBirthSertificateNumber(evt.target.value)}\n                  onKeyPress={keyPress}\n                />\n              </label>\n            }\n          </div>\n          <div className={'edit-passenger__state-section' + (isError ? ' edit-passenger__state-section_error' : '') + (isReady ? ' edit-passenger__state-section_ready' : '')}>\n            {isReady &&\n              <Fragment>\n                <img className=\"edit-passenger__state-icon\" src={readyIcon} width=\"32\" height=\"32\" alt=\"ready-icon\" />\n                <div className=\"edit-passenger__state-text-container\">\n                  <p className=\"edit-passenger__state-text-ready\">\n                    Готово\n                  </p>\n                </div>\n              </Fragment>\n            }\n            {isError &&\n              <Fragment>\n                <img className=\"edit-passenger__state-icon\" src={errorIcon} width=\"32\" height=\"32\" alt=\"error-icon\" />\n                <div className=\"edit-passenger__state-text-container\">\n                  {errorText.string1 &&\n                    <p className=\"edit-passenger__state-text-error\">\n                      {errorText.string1}\n                    </p>\n                  }\n                  {errorText.string2 &&\n                    <p className=\"edit-passenger__state-text-error\">\n                      {errorText.string2}\n                      {errorText.string3 &&\n                        <span className=\"edit-passenger__state-text-error_bold\">\n                          {errorText.string3}\n                        </span>\n                      }\n                    </p>\n                  }\n                </div>\n              </Fragment>\n            }\n            {isChange &&\n              <button className=\"edit-passenger__button-save\" type=\"button\" onClick={savePassenger}> \n                Сохранить изменения \n              </button>  \n            }          \n          </div>\n        </form>\n      }\n    </div>    \n  )\n}\n\nEditPassenger.propTypes = {\n  passenger: PropTypes.object.isRequired,\n  index: PropTypes.number.isRequired,\n  passengerList: PropTypes.array.isRequired,\n  setPassengerList: PropTypes.func.isRequired\n};\n\nexport default EditPassenger;","import PropTypes from 'prop-types';\nimport './AddPassenger.css';\n\n\nfunction AddPassenger(props) {\n  const { add } = props;\n\n  return (\n    <div className=\"add-passenger\" onClick={add}> \n      <h3 className=\"add-passenger__title\">\n        Добавить пассажира\n      </h3>\n      <button className=\"add-passenger__button\" type=\"button\">   \n        +   \n      </button>\n    </div>    \n  )\n}\n\nAddPassenger.propTypes = {\n  add: PropTypes.func.isRequired\n};\n\nexport default AddPassenger;","import { useState, useContext, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport './Passengers.css';\nimport AppContext from 'AppContext';\nimport ProgressIndicator from '../ProgressIndicator/ProgressIndicator';\nimport TravelDetails from './TravelDetails/TravelDetails';\nimport EditPassenger from './EditPassenger/EditPassenger';\nimport AddPassenger from './AddPassenger/AddPassenger';\nimport { errorBox } from 'api/gui';\nimport shortid from 'shortid';\n\nfunction Passengers() {\n  const [passengerList, setPassengerList] = useState([]);\n  \n  const { setBookingStage, orderInfo, setOrderInfo, setPopup } = useContext(AppContext);\n\n  useEffect(() => {\n    setBookingStage('passengers');\n  }, [setBookingStage]);\n\n  useEffect(() => {\n    setPassengerList(orderInfo.passengerList ? orderInfo.passengerList : [{}]);\n  }, [orderInfo.passengerList]);\n\n  const addPassenger = () => {\n    const list = [...passengerList, {\n      isCollapsed: false,\n      isAdult: true,\n      firstName: '',\n      lastName: '',\n      patronymic: '',\n      gender: true,\n      birthday: '',\n      isDisability: false,\n      includeChild: false,\n      documentType: 'Паспорт РФ',\n      passportSeries: '',\n      passportNumber: '',\n      birthSertificateNumber: '',\n      isChange: false,\n      isError: false,\n      isReady: false\n    }];\n    \n    const newOrderInfo = { ...orderInfo, passengerList: list };\n    setOrderInfo(newOrderInfo);\n    localStorage.setItem('orderInfo', JSON.stringify(newOrderInfo));\n  }\n\n  const isNextEnabled = passengerList.length && !passengerList.find((item) => !item.isReady);\n\n  const goToNext = (evt) => {\n    if (!isNextEnabled) {\n      evt.preventDefault();\n    }\n\n    if (!passengerList.length) {\n      errorBox(setPopup, [\n        'Ошибка ввода данных',\n        'Добавьте хотя бы одного пассажира'\n      ]);\n      return;\n    } \n\n    if (passengerList.find((item) => !item.isReady)) {\n      errorBox(setPopup, [\n        'Ошибка ввода данных',\n        'Не сохранены данные для одного или более пассажиров'\n      ]);\n      return;\n    } \n  }\n\n  return (\n    <main className=\"passengers\"> \n      <ProgressIndicator stepNumber={2} />\n      <div className=\"passengers__main\">\n        <section className=\"passengers__left\">\n          <TravelDetails />\n        </section>\n        <section className=\"passengers__right\">\n          {passengerList.map((item, i) => \n            <div className=\"passengers__edit-passenger\" key={shortid.generate()}>\n              <EditPassenger \n                passenger={item} \n                index={i}\n                passengerList={passengerList}\n                setPassengerList={setPassengerList} \n              />\n            </div>\n          )}\n          {orderInfo.seatList.forward.length > passengerList.length &&\n            <div className=\"passengers__add-passenger\">\n              <AddPassenger add={addPassenger}/>\n            </div>\n          }   \n          <Link \n            to={process.env.PUBLIC_URL + '/run/payment'} \n            className={'passengers__button' + (isNextEnabled ? ' passengers__button_active' : '')}\n            onClick={goToNext}\n          > \n            Далее\n          </Link>\n        </section>\n      </div>\n    </main>\n  )\n}\n\nexport default Passengers;","import { useState, useContext, useEffect } from 'react';\nimport { Link, useHistory } from 'react-router-dom';\nimport './UserData.css';\nimport AppContext from 'AppContext';\nimport { errorBox } from 'api/gui';\nimport { verifyPhone, verifyEmail } from 'api/utils';\n\nfunction UserData() {\n  const [user, setUser] = useState({});\n\n  const { orderInfo, setOrderInfo, setPopup } = useContext(AppContext);\n\n  const history = useHistory();\n\n  useEffect(() => {\n    setUser(orderInfo.user ? orderInfo.user : {});\n  }, [orderInfo.user]);\n\n  const {\n    firstName = '',\n    lastName = '',\n    patronymic = '',\n    phone = '',\n    email = '',\n    paymentMethod = ''\n  } = user;\n\n  const isOnline = paymentMethod === 'online';\n  const isCash = paymentMethod === 'cash';\n\n  const changeFirstName = (value) => {\n    setUser({ ...user, firstName: value});\n  }\n\n  const changeLastName = (value) => {\n    setUser({ ...user, lastName: value});\n  }\n\n  const changePatronymic = (value) => {\n    setUser({ ...user, patronymic: value});\n  }\n\n  const changePhone = (value) => {\n    setUser({ ...user, phone: value});\n  }\n\n  const normalizePhone = (value) => {\n    let newValue = value.replace(/[^\\d]/g, '');\n    if (newValue) {\n      newValue = '+' + newValue;\n    }\n    setUser({ ...user, phone: newValue});\n  }\n\n  const changeEmail = (value) => {\n    setUser({ ...user, email: value});\n  }\n\n  const changePaymentMethod = (value) => {\n    setUser({ ...user, paymentMethod: value});\n  }\n\n  const isNextEnabled = firstName.trim() && lastName.trim() && patronymic.trim() && phone.trim() && email.trim() && paymentMethod;\n\n  const goToNext = (evt) => {\n    evt.preventDefault();\n\n    if (!lastName) {\n      errorBox(setPopup, [\n        'Ошибка ввода данных',\n        'Поле \"Фамилия\" обязательно для заполнения'\n      ]);\n      return;\n    } \n\n    if (!firstName) {\n      errorBox(setPopup, [\n        'Ошибка ввода данных',\n        'Поле \"Имя\" обязательно для заполнения'\n      ]);\n      return;\n    } \n\n    if (!patronymic) {\n      errorBox(setPopup, [\n        'Ошибка ввода данных',\n        'Поле \"Отчество\" обязательно для заполнения'\n      ]);\n      return;\n    } \n\n    if (!verifyPhone(phone)) {\n      errorBox(setPopup, [\n        'Ошибка ввода контактного телефона',\n        'Номер телефона должен начинаться на +7 и содержать ещё 10 цифр',\n        'Примеры: +79101234567, +7 (910) 123-45-67'\n      ]);\n      return;\n    } \n\n    if (!verifyEmail(email)) {\n      errorBox(setPopup, [\n        'Ошибка ввода адреса электронной почты',\n        'E-mail должен иметь вид xxx@xxx.xx',\n        'Пример: qwerty111@mail.ru'\n      ]);\n      return;\n    }\n    \n    if (!paymentMethod) {\n      errorBox(setPopup, [\n        'Ошибка ввода данных',\n        'Не выбран способ оплаты'\n      ]);\n      return;\n    } \n\n    const newOrderInfo = { ...orderInfo, user };\n    setOrderInfo(newOrderInfo);\n    localStorage.setItem('orderInfo', JSON.stringify(newOrderInfo));\n\n    history.push(process.env.PUBLIC_URL + '/run/confirmation');\n  }\n\n  return (\n    <div className=\"user-data\"> \n      <form className=\"user-data__form\">\n        <h3 className=\"user-data__title\">\n          Персональные данные\n        </h3>\n        <div className=\"user-data__data-section\">\n          <div className='user-data__name-line'>\n            <label className=\"user-data__label user-data__last-name\">\n              Фамилия\n              <input \n                className=\"user-data__input\"\n                type=\"text\" \n                name=\"last-name\" \n                placeholder=\"Иванов\" \n                value={lastName} \n                onChange={(evt) => changeLastName(evt.target.value)}\n                onBlur={(evt) => changeLastName(evt.target.value.trim())}\n              />\n            </label>   \n            <label className=\"user-data__label user-data__first-name\">\n              Имя\n              <input \n                className=\"user-data__input\"\n                type=\"text\" \n                name=\"first-name\" \n                placeholder=\"Иван\" \n                value={firstName} \n                onChange={(evt) => changeFirstName(evt.target.value)}\n                onBlur={(evt) => changeFirstName(evt.target.value.trim())}\n              />\n            </label>  \n            <label className=\"user-data__label user-data__patronymic\">\n              Отчество\n              <input \n                className=\"user-data__input\"\n                type=\"text\" \n                name=\"patronymic\" \n                placeholder=\"Иванович\" \n                value={patronymic} \n                onChange={(evt) => changePatronymic(evt.target.value)}\n                onBlur={(evt) => changePatronymic(evt.target.value.trim())}\n              />\n            </label> \n          </div>\n          <label className=\"user-data__label user-data__phone\">\n            Контактный телефон\n            <input \n              className=\"user-data__input\"\n              type=\"text\" \n              name=\"phone\"\n              placeholder=\"+7 ___ ___ __ __\" \n              value={phone} \n              onChange={(evt) => changePhone(evt.target.value)}\n              onBlur={(evt) => normalizePhone(evt.target.value)}\n            />\n          </label>\n          <label className=\"user-data__label user-data__email\">\n            E-mail\n            <input \n              className=\"user-data__input\"\n              type=\"text\" \n              name=\"email\"\n              placeholder=\"inbox@gmail.ru\" \n              value={email} \n              onChange={(evt) => changeEmail(evt.target.value)}\n              onBlur={(evt) => changeEmail(evt.target.value.trim())}\n            />\n          </label>\n        </div>\n        <h3 className=\"user-data__title\">\n          Способ оплаты\n        </h3>\n        <div className=\"user-data__online-section\">\n          <label className={'user-data__label user-data__label-checkbox' + (isOnline ? ' user-data__label-checkbox_checked' : '')}>\n            <input \n              className=\"user-data__checkbox\" \n              type=\"checkbox\" \n              name=\"online\" \n              checked={isOnline}\n              onChange={() => changePaymentMethod('online')}\n            />\n            Онлайн\n          </label>\n          <ul className=\"user-data__online-list\">\n            <li className=\"user-data__online-list-item\">\n              Банковской картой\n            </li>\n            <li className=\"user-data__online-list-item\">\n              PayPal\n            </li>\n            <li className=\"user-data__online-list-item\">\n              Visa QIWI Wallet\n            </li>\n          </ul>\n        </div>\n        <div className=\"user-data__cash-section\">\n          <label className={'user-data__label user-data__label-checkbox' + (isCash ? ' user-data__label-checkbox_checked' : '')}>\n            <input \n              className=\"user-data__checkbox\" \n              type=\"checkbox\" \n              name=\"cash\" \n              checked={isCash}\n              onChange={() => changePaymentMethod('cash')}\n            />\n            Наличными\n          </label>\n        </div>\n      </form>\n      <Link \n        to={process.env.PUBLIC_URL + '/run/confirmation'} \n        className={'user-data__button' + (isNextEnabled ? ' user-data__button_active' : '')}\n        onClick={goToNext}\n      > \n        Купить билеты\n      </Link>\n    </div>    \n  )\n}\n\nexport default UserData;\n","import { useContext, useEffect } from 'react';\nimport './Payment.css';\nimport AppContext from 'AppContext';\nimport ProgressIndicator from '../ProgressIndicator/ProgressIndicator';\nimport TravelDetails from '../Passengers/TravelDetails/TravelDetails';\nimport UserData from './UserData/UserData';\n\nfunction Payment() {  \n  const { setBookingStage } = useContext(AppContext);\n\n  useEffect(() => {\n    setBookingStage('payment');\n  }, [setBookingStage]);\n\n  return (\n    <main className=\"payment\"> \n      <ProgressIndicator stepNumber={3} />\n      <div className=\"payment__main\">\n        <section className=\"payment__left\">\n          <TravelDetails />\n        </section>\n        <section className=\"payment__right\">\n          <UserData />\n        </section>\n      </div>\n    </main>\n  )\n}\n\nexport default Payment;","import { useContext } from 'react'; \nimport { Link } from 'react-router-dom';\nimport './PassengersConfirmation.css';\nimport AppContext from 'AppContext';\nimport icons from 'components/Main/icons.svg';\nimport { separateBirthdaySertificateNumber, separateThousands, totalTicketPrice } from 'api/utils';\nimport shortid from 'shortid';\n\n\nfunction PassengersConfirmation() {\n  const { orderInfo } = useContext(AppContext);\n  const { passengerList } = orderInfo;\n\n  return (\n    <div className=\"passengers-confirmation\"> \n      <h3 className=\"passengers-confirmation__title\">\n        Пассажиры\n      </h3>\n      <div className=\"passengers-confirmation__body\">\n        <div className=\"passengers-confirmation__left\">\n          {passengerList && passengerList.length &&\n            <ul className=\"passengers-confirmation__list\">\n              {passengerList.map((item) =>\n                <li className=\"passengers-confirmation__list-item\" key={shortid.generate()}>\n                  <div className=\"passengers-confirmation__list-item-title\">\n                    <svg className=\"passengers-confirmation__icon\" width=\"68\" height=\"68\">\n                      <use xlinkHref={icons + '#passenger-negative'} />\n                    </svg>\n                    <p className=\"passengers-confirmation__list-item-title-text\">\n                      {item.isAdult ? 'Взрослый' : 'Детский'}\n                    </p>\n                  </div>\n                  <div className=\"passengers-confirmation__list-item-body\">\n                    <p className=\"passengers-confirmation__list-item-name\">\n                      {item.lastName} {item.firstName} {item.patronymic}\n                    </p>\n                    <p className=\"passengers-confirmation__list-item-text\">\n                      Пол {item.gender ? 'мужской' : 'женский'}\n                    </p>\n                    <p className=\"passengers-confirmation__list-item-text\">\n                      Дата рождения {item.birthday}\n                    </p>\n                    <p className=\"passengers-confirmation__list-item-text\">\n                      {item.documentType}&nbsp;\n                      {item.documentType === 'Паспорт РФ' \n                        ? `${item.passportSeries} ${item.passportNumber}` \n                        : separateBirthdaySertificateNumber(item.birthSertificateNumber)\n                      }\n                    </p>\n                  </div>\n                </li>\n              )}\n            </ul>\n          }\n        </div>\n        <div className=\"passengers-confirmation__right\">\n          <div className=\"passengers-confirmation__total\">\n            <p className=\"passengers-confirmation__total-title\">\n              Всего\n            </p>\n            <p className=\"passengers-confirmation__price\">\n              {separateThousands(totalTicketPrice(orderInfo))}\n            </p>\n            <p className=\"passengers-confirmation__currency\">\n              &#x20bd;\n            </p>\n          </div>\n          <Link to={process.env.PUBLIC_URL + '/run/passengers'} className=\"passengers-confirmation__button\"> \n            Изменить\n          </Link>\n        </div>\n      </div>\n    </div>    \n  )\n}\n\nexport default PassengersConfirmation;","import { useContext } from 'react'; \nimport { Link } from 'react-router-dom';\nimport './PaymentConfirmation.css';\nimport AppContext from 'AppContext';\n\nfunction PaymentConfirmation() {\n  const { orderInfo } = useContext(AppContext);\n  const { user: { paymentMethod } } = orderInfo;\n\n  return (\n    <div className=\"payment-confirmation\"> \n      <h3 className=\"payment-confirmation__title\">\n        Способ оплаты\n      </h3>\n      <div className=\"payment-confirmation__body\">\n        <div className=\"payment-confirmation__left\">\n          <p className=\"payment-confirmation__method\">\n            {paymentMethod === 'online' ? 'Онлайн' : 'Наличными'}\n          </p>\n        </div>\n        <div className=\"payment-confirmation__right\">\n          <Link to={process.env.PUBLIC_URL + '/run/payment'} className=\"payment-confirmation__button\"> \n            Изменить\n          </Link>\n        </div>\n      </div>\n    </div>    \n  )\n}\n\nexport default PaymentConfirmation;","import { order } from './http';\nimport { dayInLastPosition } from '../utils';\n\nexport async function setOrder (setAnimation, forwardTrain, backwardTrain, orderInfo) {\n  const { seatList, passengerList, user } = orderInfo;\n  const { firstName, lastName, patronymic, phone, email, paymentMethod } = user;\n\n  const departure = {\n    route_direction_id: forwardTrain._id\n  };\n  \n  departure.seats = passengerList.map((item, i) => {\n    const isPassport = item.documentType === 'Паспорт РФ';\n\n    return {\n      coach_id: seatList.forward[i].coachId,\n      person_info: {\n        is_adult: item.isAdult,\n        first_name: item.firstName,\n        last_name: item.lastName,\n        patronymic: item.patronymic,\n        gender: item.gender,\n        birthday: dayInLastPosition(item.birthday),\n        document_type: isPassport ? 'паспорт' : 'свидетельство',\n        document_data: isPassport ? item.passportSeries + item.passportNumber : item.birthSertificateNumber\n      },\n      seat_number: seatList.forward[i].seatNumber,\n      is_child: !item.isAdult,\n      include_children_seat: item.includeChild\n    };\n  });\n\n  const arrival = {\n    route_direction_id: backwardTrain._id \n  }\n\n  arrival.seats = passengerList.map((item, i) => {\n    const isPassport = item.documentType === 'Паспорт РФ';\n\n    return {\n      coach_id: seatList.backward[i].coachId,\n      person_info: {\n        is_adult: item.isAdult,\n        first_name: item.firstName,\n        last_name: item.lastName,\n        patronymic: item.patronymic,\n        gender: item.gender,\n        birthday: dayInLastPosition(item.birthday),\n        document_type: isPassport ? 'паспорт' : 'свидетельство',\n        document_data: isPassport ? item.passportSeries + item.passportNumber : item.birthSertificateNumber\n      },\n      seat_number: seatList.backward[i].seatNumber,\n      is_child: !item.isAdult,\n      include_children_seat: item.includeChild\n    };\n  });\n\n  const fullOrderInfo = {\n    user: {\n      first_name: firstName,\n      last_name: lastName,\n      patronymic,\n      phone,\n      email,\n      payment_method: paymentMethod\n    },\n    departure,\n    arrival\n  };\n\n  setAnimation({ loading: true, text: 'Ожидание ответа сервера' });\n  const response = await order(fullOrderInfo);\n  setAnimation({ loading: false });\n  return response;\n}","import { useContext, useEffect } from 'react';\nimport { useHistory, Link } from 'react-router-dom';\nimport './Confirmation.css';\nimport AppContext from 'AppContext';\nimport ProgressIndicator from '../ProgressIndicator/ProgressIndicator';\nimport TravelDetails from '../Passengers/TravelDetails/TravelDetails';\nimport TrainsListItem from '../Trains/TrainsList/TrainsListItem/TrainsListItem';\nimport PassengersConfirmation from './PassengersConfirmation/PassengersConfirmation';\nimport PaymentConfirmation from './PaymentConfirmation/PaymentConfirmation';\nimport { setOrder } from 'api/http/setOrder';\nimport { httpErrorBox } from 'api/gui';\n\nfunction Confirmation() { \n  const { setBookingStage, setAnimation, setPopup, forwardTrain, backwardTrain, orderInfo } = useContext(AppContext);\n\n  const history = useHistory();\n\n  useEffect(() => {\n    setBookingStage('confirmation');\n  }, [setBookingStage]);\n\n  const goToNext = async (evt) => {\n    evt.preventDefault();\n\n    const response = await setOrder(setAnimation, forwardTrain, backwardTrain, orderInfo);\n\n    if (response.ok) {\n      history.push(process.env.PUBLIC_URL + '/run/completion');\n    } else {\n      httpErrorBox(setPopup, response);\n    }\n  }\n\n  return (\n    <main className=\"confirmation\"> \n      <ProgressIndicator stepNumber={4} />\n      <div className=\"confirmation__main\">\n        <section className=\"confirmation__left\">\n          <TravelDetails />\n        </section>\n        <section className=\"confirmation__right\">\n          <div className=\"confirmation__section\">\n            <TrainsListItem \n              trainInfo={forwardTrain}\n              isForward={true} \n              reloadInfo={(f) => f} \n              loadSeats={(f) => f}\n              isConfirmation={true}\n            />\n          </div>\n          <div className=\"confirmation__section\">\n            <TrainsListItem \n              trainInfo={backwardTrain}\n              isForward={false} \n              reloadInfo={(f) => f} \n              loadSeats={(f) => f}\n              isConfirmation={true}\n            />\n          </div>\n          <div className=\"confirmation__section\">\n            <PassengersConfirmation />\n          </div>\n          <div className=\"confirmation__section\">\n            <PaymentConfirmation />\n          </div>\n          <Link to={process.env.PUBLIC_URL + '/run/completion'} className=\"confirmation__button confirmation__button_active\" onClick={goToNext}> \n            Подтвердить\n          </Link>\n        </section>\n      </div>\n    </main>\n  )\n}\n\nexport default Confirmation;","export default __webpack_public_path__ + \"static/media/star.d4eb37de.svg\";","export default __webpack_public_path__ + \"static/media/active-star.d1fd1c72.svg\";","import { useState, useContext, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport './Completion.css';\nimport AppContext from 'AppContext';\nimport { separateThousands, totalTicketPrice } from 'api/utils';\nimport star from './star.svg';\nimport activeStar from './active-star.svg';\n\nfunction Completion() { \n  const initStar = {\n    clicked: false,\n    moved: false\n  };\n  const [stars, setStars] = useState([initStar, initStar, initStar, initStar, initStar]);\n  \n  const { setBookingStage, orderInfo } = useContext(AppContext);\n  const { user: { firstName, patronymic } } = orderInfo;\n\n  useEffect(() => {\n    setBookingStage('completion');\n  }, [setBookingStage]);\n\n  const starClick = (index) => {\n    const newStars = stars.map((item, i) => {\n      return { clicked: i <= index, moved: item.moved };\n    });\n    setStars(newStars);\n  }\n  \n  const starOver = (index) => {\n    const newStars = stars.map((item, i) => {\n      return { clicked: item.clicked, moved: i <= index };\n    });\n    setStars(newStars);  \n  }\n\n  const starsOut = () => {\n    const newStars = stars.map((item) => {\n      return { clicked: item.clicked, moved: false };\n    });\n    setStars(newStars);     \n  }\n\n  return (\n    <main className=\"completion\"> \n      <div className=\"completion__window\">\n        <h2 className=\"completion__title\">\n          Благодарим Вас за заказ!\n        </h2>\n        <div className=\"completion__body\">\n          <div className=\"completion__order-data\">\n            <p className=\"completion__order-number\">\n              №заказа {Math.trunc(Math.random() * 900 + 100)}АА\n            </p>\n            <p className=\"completion__order-sum-title\">\n              сумма\n            </p>\n            <p className=\"completion__order-price\">\n              {separateThousands(totalTicketPrice(orderInfo))}\n            </p>\n            <p className=\"completion__order-currency\">\n              &#x20bd;\n            </p>\n          </div>\n          <div className=\"completion__manual\">\n            <div className=\"completion__manual-item\">\n              <div className=\"completion__manual-icon completion__manual-icon_1\">\n              </div>\n              <p className=\"completion__manual-text\">\n                билеты будут\n              </p>\n              <p className=\"completion__manual-text\">\n                отправлены\n              </p>\n              <p className=\"completion__manual-text\">\n                на ваш <span className=\"completion__manual-text_bold\">e-mail</span>\n              </p>\n            </div>\n            <div className=\"completion__manual-item\">\n              <div className=\"completion__manual-icon completion__manual-icon_2\">\n              </div>\n              <p className=\"completion__manual-text completion__manual-text_bold\">\n                распечатайте\n              </p>\n              <p className=\"completion__manual-text\">\n                и сохраняйте билеты\n              </p>\n              <p className=\"completion__manual-text\">\n                до даты поездки\n              </p>\n            </div>\n            <div className=\"completion__manual-item\">\n              <div className=\"completion__manual-icon completion__manual-icon_3\">\n              </div>\n              <p className=\"completion__manual-text completion__manual-text_bold\">\n                предъявите\n              </p>\n              <p className=\"completion__manual-text\">\n                распечатанные\n              </p>\n              <p className=\"completion__manual-text\">\n                билеты при посадке\n              </p>\n            </div>\n          </div>\n          <div className=\"completion__text-container\">\n            <p className=\"completion__text-title\">\n              {firstName} {patronymic}!\n            </p>\n            <p className=\"completion__text-text\">\n              Ваш заказ успешно оформлен.\n            </p>\n            <p className=\"completion__text-text\">\n              В ближайшее время с Вами свяжется наш оператор для подтверждения.\n            </p>\n            <p className=\"completion__text-end\">\n              Благодарим Вас за оказанное доверие и желаем приятного путешествия!\n            </p>\n          </div>\n          <div className=\"completion__controls\">\n            <p className=\"completion__controls-text\">\n              Оценить сервис\n            </p>\n            <div className=\"completion__stars-container\" onMouseOut={starsOut}>\n              {stars.map((item, i) => \n                <div className=\"completion__star-cell\" key={i} onClick={() => starClick(i)} onMouseOver={() => starOver(i)}>\n                  <img className=\"completion__star\" src={(item.clicked || item.moved) ? activeStar : star} width=\"48\" height=\"48\" alt=\"star\" />\n                </div>\n              )}\n            </div>\n            <Link to={process.env.PUBLIC_URL} className=\"completion-button\"> \n              Вернуться на главную\n            </Link>  \n          </div>      \n        </div>\n      </div>\n    </main>\n  )\n}\n\nexport default Completion;","import { useContext, Fragment } from 'react';\nimport { Route, Switch } from 'react-router-dom';\nimport './Main.css';\nimport AppContext from 'AppContext';\n\nimport LoadingAnimation from './LoadingAnimation/LoadingAnimation';\nimport HomePage from './HomePage/HomePage';\nimport Trains from './Trains/Trains';\nimport Seats from './Seats/Seats';\nimport Passengers from './Passengers/Passengers';\nimport Payment from './Payment/Payment';\nimport Confirmation from './Confirmation/Confirmation';\nimport Completion from './Completion/Completion';\n\nfunction Main() {\n  const { animation } = useContext(AppContext);\n\n  return (\n    <Fragment>\n      {animation.loading && <LoadingAnimation />}\n      <div className={'main__body' + (animation.loading ? ' main__body_no-visible' : '')}>\n        <Switch>\n          <Route path={process.env.PUBLIC_URL + '/run/trains'} component={Trains} />\n          <Route path={process.env.PUBLIC_URL + '/run/seats'} component={Seats} />\n          <Route path={process.env.PUBLIC_URL + '/run/passengers'} component={Passengers} />\n          <Route path={process.env.PUBLIC_URL + '/run/payment'} component={Payment} />\n          <Route path={process.env.PUBLIC_URL + '/run/confirmation'} component={Confirmation} />\n          <Route path={process.env.PUBLIC_URL + '/run/completion'} component={Completion} />\n          <Route path={process.env.PUBLIC_URL} component={HomePage} />\n        </Switch>\n      </div>\n    </Fragment>\n  )\n}\n\nexport default Main;","export default __webpack_public_path__ + \"static/media/icons.03963612.svg\";","import './Contacts.css';\nimport icons from './icons.svg';\n\nfunction Contacts() {  \n  return (\n    <div className=\"contacts\">\n      <h3 className=\"contacts__title\">\n        Свяжитесь с нами\n      </h3>\n      <ul className=\"contacts__list\">\n        <li className=\"contacts__list-item\">\n          <div className=\"contacts__link-container\">\n            <a className=\"contacts__link\" href=\"tel:+78000000000\">\n              <svg className=\"contacts__icon\" width=\"30\" height=\"30\">\n                <use xlinkHref={icons + '#phone'} />\n              </svg>\n            </a>\n          </div>\n          <p className=\"contacts__text\">\n            8 (800) 000 00 00\n          </p>\n        </li>\n        <li className=\"contacts__list-item\">  \n          <div className=\"contacts__link-container\">\n            <a className=\"contacts__link\" href=\"mailto:inbox@mail.ru\"> \n              <svg className=\"contacts__icon\" width=\"30\" height=\"25\">\n                <use xlinkHref={icons + '#email'} />\n              </svg>\n            </a>\n          </div>\n          <p className=\"contacts__text\">\n            inbox@mail.ru\n          </p>\n        </li>\n        <li className=\"contacts__list-item\">\n          <div className=\"contacts__link-container\">\n            <a className=\"contacts__link\" href=\"skype:tu.train.tickets?call\"> \n              <svg className=\"contacts__icon\" width=\"30\" height=\"30\">\n                <use xlinkHref={icons + '#skype'} />\n              </svg>\n            </a>\n          </div>\n          <p className=\"contacts__text\">\n            tu.train.tickets\n          </p>\n        </li>\n        <li className=\"contacts__list-item contacts__list-item_geolocation\">\n          <div className=\"contacts__link-container\">\n            <a className=\"contacts__link\" href=\"https://yandex.ru/maps/-/CCUiROx52C\"> \n              <svg className=\"contacts__icon\" width=\"21\" height=\"30\">\n                <use xlinkHref={icons + '#location'} />\n              </svg>\n            </a>\n          </div>\n          <p className=\"contacts__text\">\n            г. Москва\n            <br/>\n            ул. Московская 27-35\n            <br/>\n            555 555\n          </p>\n        </li>\n      </ul>\n    </div>\n  )\n}\n\nexport default Contacts;","import { subscribe } from './http';\n\nexport async function setSubscribe (setAnimation, email) {\n  setAnimation({ loading: true, text: 'Ожидание ответа сервера' });\n  const response = await subscribe(email);\n  setAnimation({ loading: false });\n  return response;\n}\n","import { useState, useContext } from 'react';\nimport './SubscriptionForm.css';\nimport AppContext from 'AppContext';\nimport { infoBox, errorBox, httpErrorBox } from 'api/gui';\nimport { verifyEmail } from 'api/utils';\nimport { setSubscribe } from 'api/http/setSubscribe';\n\nfunction SubscriptionForm() { \n  const [email, setEmail] = useState('');\n  const { setAnimation, setPopup } = useContext(AppContext);\n  \n  const emailChange = (evt) => {\n    setEmail(evt.target.value);\n  }\n\n  const sendEmail = async (evt) => {\n    evt.preventDefault();\n    const mail = email.trim();\n\n    if (!mail) {\n      errorBox(setPopup, [\n        'Поле обязательно для заполнения',\n        'Введите адрес электронной почты в поле рядом с кнопкой \"Отправить\"',\n      ]);\n      setEmail('');\n      return;\n    }\n\n    if (!verifyEmail(mail)) {\n      errorBox(setPopup, [\n        'Ошибка ввода адреса электронной почты',\n        'Адрес должен иметь вид xxx@xxx.xx',\n        'Пример: qwerty111@mail.ru',\n      ]);\n      setEmail(mail);\n      return;      \n    }\n\n    setEmail('');\n    const response = await setSubscribe(setAnimation, mail);\n    if (response.ok) {\n      infoBox(setPopup, [\n        `На вашу почту ${mail} отправлено письмо`,\n        'Для подтверждения подписки откройте его и перейдите по указанной в нём ссылке'\n      ]);\n    } else {\n      httpErrorBox(setPopup, response);\n    }\n  }\n\n  return (\n    <form className=\"subscription-form\" onSubmit={sendEmail}>\n      <h3 className=\"subscription-form__title\">\n        Подписка\n      </h3>\n      <div className=\"subscription-form__body\">\n        <label className=\"subscription-form__label\">\n          Будьте в курсе событий\n          <input \n            className=\"subscription-form__input\"\n            type=\"text\" \n            name=\"e-mail\" \n            value={email}\n            placeholder=\"e-mail\"\n            onChange={emailChange}\n          />\n        </label>\n        <button className=\"subscription-form__button\" type=\"submit\">\n          Отправить\n        </button>        \n      </div>\n    </form>\n  )\n}\n\nexport default SubscriptionForm;","export default __webpack_public_path__ + \"static/media/icons.e4b19f5e.svg\";","import './SocialMedia.css';\nimport icons from './icons.svg';\n\nfunction SocialMedia() {  \n  return (\n    <div className=\"social-media\">\n      <h3 className=\"social-media__title\">\n        Подписывайтесь на нас\n      </h3>\n      <ul className=\"social-media__list\">\n        <li className=\"social-media__list-item\">\n          <a className=\"social-media__link\" href=\"https://www.youtube.com\">\n            <svg className=\"social-media__icon\" width=\"38\" height=\"30\">\n              <use xlinkHref={icons + '#youtube'} />\n            </svg>\n          </a>\n        </li>\n        <li className=\"social-media__list-item\">\n          <a className=\"social-media__link\" href=\"https://www.instagram.com\">\n            <svg className=\"social-media__icon\" width=\"32\" height=\"30\">\n              <use xlinkHref={icons + '#instagram'} />\n            </svg>\n          </a>\n        </li>\n        <li className=\"social-media__list-item\">\n          <a className=\"social-media__link\" href=\"https://plus.google.com\">\n            <svg className=\"social-media__icon\" width=\"47\" height=\"30\">\n              <use xlinkHref={icons + '#google-plus'} />\n            </svg>\n          </a>\n        </li>\n        <li className=\"social-media__list-item\">\n          <a className=\"social-media__link\" href=\"https://www.facebook.com\">\n            <svg className=\"social-media__icon\" width=\"14\" height=\"30\">\n              <use xlinkHref={icons + '#facebook'} />\n            </svg>\n          </a>\n        </li>  \n        <li className=\"social-media__list-item\">\n          <a className=\"social-media__link\" href=\"https://twitter.com\">\n            <svg className=\"social-media__icon\" width=\"37\" height=\"30\">\n              <use xlinkHref={icons + '#twitter'} />\n            </svg>            \n          </a>\n        </li>      \n      </ul>\n    </div>\n  )\n}\n\nexport default SocialMedia;","import { useState } from 'react';\nimport './Footer.css';\nimport Contacts from './Contacts/Contacts';\nimport SubscriptionForm from './SubscriptionForm/SubscriptionForm';\nimport SocialMedia from './SocialMedia/SocialMedia';\n\nfunction Footer() { \n  const [collapsed, setCollapsed] = useState(false);\n\n  const collapseFooter = () => {\n    setCollapsed(!collapsed);\n  }\n\n  const buttonClassName = 'footer__button-collapse' + (collapsed ? ' footer__button-collapse_collapsed' : '');\n  \n  return (\n    <footer className=\"footer\"> \n      <a className=\"footer__anchor\" href=\".\" name=\"footer\">\n        anchor\n      </a>\n      {!collapsed && \n        <div className=\"footer__full\"> \n          <Contacts />\n          <div className=\"footer__subscription\">\n            <SubscriptionForm />\n            <SocialMedia />\n          </div>\n        </div>\n      }\n      <div className=\"footer__reduced\">\n        <p className=\"footer__logo\"> \n          Лого\n        </p>\n        <button className={buttonClassName} type=\"button\" onClick={collapseFooter}>\n          &#x221F;\n        </button>\n        <p className=\"footer__copyright\">\n          2018 Web\n        </p>\n      </div>\n    </footer>\n  )\n}\n\nexport default Footer;","export default __webpack_public_path__ + \"static/media/icon-error.f617ffc6.svg\";","export default __webpack_public_path__ + \"static/media/icon-info.8160a758.svg\";","import { useContext } from 'react';\nimport './Popup.css';\nimport iconError from './icon-error.svg';\nimport iconInfo from './icon-info.svg';\nimport AppContext from 'AppContext';\nimport shortid from 'shortid';\n\nfunction Popup() { \n  const { popup, setPopup, animation } = useContext(AppContext);\n  const { visible, buttonText, content, error } = popup;\n\n  const classModificator = error ? 'error' : 'info';\n\n  const closePopup = () => setPopup({ visible: false });\n  \n  return (visible || animation.loading) && (\n    <div className=\"popup\">\n      {visible && \n        <div className={`popup__window popup__window_${classModificator}`}>\n          <div className={`popup__top popup__top_${classModificator}`}>\n            <img \n              className=\"popup__icon\" \n              src={error ? iconError : iconInfo} \n              width=\"32\" \n              alt=\"icon\" \n            />\n          </div>\n          <div className={`popup__content popup__content_${classModificator}`}>\n            {content.map((item, i) =>\n              <p className={`popup__paragraph popup__paragraph_${classModificator}`} key={shortid.generate()}>\n                {item}\n              </p>\n            )}\n          </div>\n          <div className=\"popup__bottom\">\n            <button className=\"popup__button\" type=\"button\" onClick={closePopup}>\n              {buttonText}\n            </button>\n          </div>\n        </div>\n      }\n    </div>\n  )\n}\n\nexport default Popup;","import { BrowserRouter as Router } from 'react-router-dom';\nimport './App.css';\nimport AppProvider from './AppProvider';\n\nimport Header from './components/Header/Header';\nimport Main from './components/Main/Main'\nimport Footer from './components/Footer/Footer';\nimport Popup from './components/Popup/Popup';\n\nfunction App() {\n  return (\n    <AppProvider>\n      <Router>\n        <Header />\n        <Main />\n        <Footer />\n        <Popup />\n      </Router>\n    </AppProvider>\n  );\n}\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}