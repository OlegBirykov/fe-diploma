(this["webpackJsonpfe-diploma"]=this["webpackJsonpfe-diploma"]||[]).push([[0],Array(32).concat([function(e,t,a){},,function(e,t,a){},function(e,t,a){},,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},,,,,,,,,,,,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var s=a(1),r=a.n(s),c=a(26),n=a.n(c),i=a(8),l=(a(32),a(3)),o=Object(s.createContext)({bookingStage:null,animation:{loading:!1,text:""},popup:{visible:!1,buttonText:"",content:[""],error:!1},trainsInfo:{},forwardTrain:null,backwardTrain:null,seatsInfo:{},orderInfo:{},travelDetailsCollapsed:{}}),d=a(0);var u=function(e){var t,a=Object(s.useState)(null),r=Object(l.a)(a,2),c=r[0],n=r[1],i=Object(s.useState)({loading:!1}),u=Object(l.a)(i,2),m=u[0],j=u[1],p=Object(s.useState)({visible:!1}),b=Object(l.a)(p,2),_=b[0],h=b[1];try{t=JSON.parse(localStorage.getItem("trainsInfo"))}catch(K){t=null}t&&t.params||(t={params:{}});var f,x=Object(s.useState)(t),O=Object(l.a)(x,2),v=O[0],N=O[1];try{f=JSON.parse(localStorage.getItem("forwardTrain"))}catch(U){f=null}var g,k=Object(s.useState)(f),y=Object(l.a)(k,2),w=y[0],C=y[1];try{g=JSON.parse(localStorage.getItem("backwardTrain"))}catch(q){g=null}var T,S=Object(s.useState)(g),I=Object(l.a)(S,2),H=I[0],F=I[1];try{T=JSON.parse(localStorage.getItem("seatsInfo"))}catch($){T=null}T&&T.params||(T={params:{}});var M,D=Object(s.useState)(T),E=Object(l.a)(D,2),P=E[0],Y=E[1];try{M=JSON.parse(localStorage.getItem("orderInfo"))}catch(Q){M={}}var A=Object(s.useState)(M),R=Object(l.a)(A,2),V=R[0],L=R[1],W=Object(s.useState)({forward:!1,backward:!1,passengers:!1}),B=Object(l.a)(W,2),X=B[0],J=B[1];return Object(d.jsx)(o.Provider,{value:{bookingStage:c,setBookingStage:n,animation:m,setAnimation:j,popup:_,setPopup:h,trainsInfo:v,setTrainsInfo:N,forwardTrain:w,setForwardTrain:C,backwardTrain:H,setBackwardTrain:F,seatsInfo:P,setSeatsInfo:Y,orderInfo:V,setOrderInfo:L,travelDetailsCollapsed:X,setTravelDetailsCollapsed:J},children:e.children})};a(34),a(35);var m=function(){return Object(d.jsxs)("nav",{className:"menu",children:[Object(d.jsx)("a",{className:"menu__item",href:"/fe-diploma#about",children:"\u041e \u043d\u0430\u0441"}),Object(d.jsx)("a",{className:"menu__item",href:"/fe-diploma#description",children:"\u041a\u0430\u043a \u044d\u0442\u043e \u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0442"}),Object(d.jsx)("a",{className:"menu__item",href:"/fe-diploma#feedbacks",children:"\u041e\u0442\u0437\u044b\u0432\u044b"}),Object(d.jsx)("a",{className:"menu__item",href:"#footer",children:"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b"})]})},j=a(4),p=a.n(j),b=a(5),_=a(2),h=a(7);a(37),a(38);function f(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"OK";e({visible:!0,buttonText:a,content:Array.isArray(t)?t:[t],error:!1})}function x(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"OK";e({visible:!0,buttonText:a,content:Array.isArray(t)?t:[t],error:!0})}function O(e,t){x(e,["\u041e\u0448\u0438\u0431\u043a\u0430 ".concat(t.status," - ").concat(t.statusText),"\u041f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435 \u0438\u043d\u0442\u0435\u0440\u043d\u0435\u0442-\u0441\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u0435 \u0438 \u043f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u0435 \u043f\u043e\u043f\u044b\u0442\u043a\u0443"])}function v(e){x(e,["\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0434\u0430\u043d\u043d\u044b\u0445","\u041f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435 \u0438\u043d\u0442\u0435\u0440\u043d\u0435\u0442-\u0441\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u0435 \u0438 \u043f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u0435 \u043f\u043e\u043f\u044b\u0442\u043a\u0443"])}function N(e,t){return g.apply(this,arguments)}function g(){return(g=Object(b.a)(p.a.mark((function e(t,a){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(t,a);case 3:return e.abrupt("return",e.sent);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",{ok:!1,status:"",statusText:"No Connect"});case 9:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}function k(e){return y.apply(this,arguments)}function y(){return(y=Object(b.a)(p.a.mark((function e(t){var a,s;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="".concat("https://fe-diplom.herokuapp.com","/routes/cities?name=").concat(t),e.next=3,N(a);case 3:return s=e.sent,e.abrupt("return",s);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function w(e){return C.apply(this,arguments)}function C(){return(C=Object(b.a)(p.a.mark((function e(t){var a,s;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new URL("".concat("https://fe-diplom.herokuapp.com","/routes")),Object.entries(t).forEach((function(e){return a.searchParams.append(e[0],e[1])})),e.next=4,N(a);case 4:return s=e.sent,e.abrupt("return",s);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function T(){return S.apply(this,arguments)}function S(){return(S=Object(b.a)(p.a.mark((function e(){var t,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="".concat("https://fe-diplom.herokuapp.com","/routes/last"),e.next=3,N(t);case 3:return a=e.sent,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function I(e,t){return H.apply(this,arguments)}function H(){return(H=Object(b.a)(p.a.mark((function e(t,a){var s,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=new URL("".concat("https://fe-diplom.herokuapp.com","/routes/").concat(t,"/seats")),Object.entries(a).forEach((function(e){return s.searchParams.append(e[0],e[1])})),e.next=4,N(s);case 4:return r=e.sent,e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function F(e){return M.apply(this,arguments)}function M(){return(M=Object(b.a)(p.a.mark((function e(t){var a,s,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="".concat("https://fe-diplom.herokuapp.com","/order"),s={method:"POST",headers:{"Content-Type":"application/json;charset=utf-8"},body:JSON.stringify(t)},e.next=4,N(a,s);case 4:return r=e.sent,e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function D(e){return E.apply(this,arguments)}function E(){return(E=Object(b.a)(p.a.mark((function e(t){var a,s,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="".concat("https://fe-diplom.herokuapp.com","/subscribe"),s={method:"POST",headers:{"Content-Type":"application/json;charset=utf-8"},body:JSON.stringify({email:t})},e.next=4,N(a,s);case 4:return r=e.sent,e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function P(e,t){return Y.apply(this,arguments)}function Y(){return(Y=Object(b.a)(p.a.mark((function e(t,a){var s;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({loading:!0,text:"\u0418\u0434\u0451\u0442 \u043f\u043e\u0438\u0441\u043a"}),e.next=3,k(a);case 3:return s=e.sent,t({loading:!1}),e.abrupt("return",s);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var A=a.p+"static/media/location.08fbb43a.svg";var R=function(e){var t=e.name,a=e.value,r=e.placeholder,c=e.setValue,n=Object(s.useState)(null),i=Object(l.a)(n,2),u=i[0],m=i[1],j=Object(s.useState)([]),_=Object(l.a)(j,2),h=_[0],x=_[1],v=Object(s.useState)(!1),N=Object(l.a)(v,2),g=N[0],k=N[1],y=Object(s.useContext)(o),w=y.animation,C=y.setAnimation,T=y.setPopup,S=function(){var e=Object(b.a)(p.a.mark((function e(t){var a,s;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P(C,t);case 2:return(a=e.sent).ok||O(T,a),e.prev=4,e.next=7,a.json();case 7:s=e.sent,x(s),k(!!s.length),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(4),k(!1);case 15:case"end":return e.stop()}}),e,null,[[4,12]])})));return function(t){return e.apply(this,arguments)}}();return Object(d.jsxs)(s.Fragment,{children:[Object(d.jsx)("input",{className:"location-input__input",type:"text",name:t,value:a,placeholder:r,onChange:function(e){if(!w.loading){clearTimeout(u);var t=e.target.value.trimLeft();c(t),t.length?m(setTimeout((function(){return function(e){S(e)}(t)}),1e3)):k(!1)}},onBlur:function(e){e.relatedTarget&&"location-input__list"===e.relatedTarget.className||k(!1)}}),Object(d.jsx)("button",{className:"location-input__button",type:"button",onClick:function(){f(T,["\u0418\u0437\u0432\u0438\u043d\u0438\u0442\u0435, \u0441\u0435\u0440\u0432\u0438\u0441 \u043f\u043e\u0438\u0441\u043a\u0430 \u043d\u0430 \u043a\u0430\u0440\u0442\u0435 \u043d\u0430\u0445\u043e\u0434\u0438\u0442\u0441\u044f \u0432 \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u0435 \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0438","\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0441\u0442\u0430\u043d\u0446\u0438\u0438 \u0442\u0435\u043a\u0441\u0442\u043e\u043c"])},children:Object(d.jsx)("img",{className:"location-input__button-icon",src:A,width:"100%",alt:"button-location"})}),g&&Object(d.jsx)("ul",{className:"location-input__list",tabIndex:"9999",children:h.map((function(e){return Object(d.jsx)("li",{className:"location-input__list-item",onClick:function(){return t=e.name,c(t),void k(!1);var t},children:e.name},e._id)}))})]})},V=(a(39),a(40),a(6)),L=a.n(V),W=a(10),B=a.n(W);var X=function(e){var t=e.date,a=e.selectDate,r="DD.MM.YYYY",c=Object(s.useState)([L()()]),n=Object(l.a)(c,2),i=n[0],o=n[1],u=Object(s.useState)(0),m=Object(l.a)(u,2),j=m[0],p=m[1],b=Object(s.useState)(L()()),_=Object(l.a)(b,2),h=_[0],f=_[1],x=Object(s.useState)(L()()),O=Object(l.a)(x,2),v=O[0],N=O[1];Object(s.useEffect)((function(){var e=L()(),a=L()(e).add(1,"days"),s=L()(e).add(90,"days");f(a),N(s);for(var r=L()(a).set("date",1),c=L()(s).set("date",1),n=[r],i=0;n[i].get("month")!==c.get("month");)n.push(L()(n[i]).add(1,"month")),i++;o(n);var l=n.findIndex((function(e){return t.slice(3)===e.format("MM.YYYY")}));l>=0&&p(l)}),[t]);for(var g=j>0,k=j<i.length-1,y=[],w=L()(i[j]);1!==w.get("day");)w.add(-1,"days");for(;w.get("month")!==i[j].get("month");)y.push({date:w.format(r),isOverMonth:!0}),w.add(1,"days");for(;w.get("month")===i[j].get("month");){var C=w.format("YYYYMMDD")<h.format("YYYYMMDD")||w.format("YYYYMMDD")>v.format("YYYYMMDD");y.push({date:w.format(r),isOverRange:C,isSunday:!w.get("day"),isSelected:w.format(r)===t&&!C}),w.add(1,"days")}for(;1!==w.get("day");)y.push({date:w.format(r),isOverMonth:!0,isSunday:!w.get("day")}),w.add(1,"days");return Object(d.jsxs)("div",{className:"calendar",tabIndex:"9999",children:[Object(d.jsxs)("div",{className:"calendar__month",children:[Object(d.jsx)("div",{className:"calendar__month-page calendar__month-page_dec"+(g?"":" calendar__month-page_dec-disabled"),onClick:function(){g&&p(j-1)}}),Object(d.jsx)("p",{className:"calendar__month-name",children:function(){switch(i[j].get("month")){case 0:return"\u042f\u043d\u0432\u0430\u0440\u044c";case 1:return"\u0424\u0435\u0432\u0440\u0430\u043b\u044c";case 2:return"\u041c\u0430\u0440\u0442";case 3:return"\u0410\u043f\u0440\u0435\u043b\u044c";case 4:return"\u041c\u0430\u0439";case 5:return"\u0418\u044e\u043d\u044c";case 6:return"\u0418\u044e\u043b\u044c";case 7:return"\u0410\u0432\u0433\u0443\u0441\u0442";case 8:return"\u0421\u0435\u043d\u0442\u044f\u0431\u0440\u044c";case 9:return"\u041e\u043a\u0442\u044f\u0431\u0440\u044c";case 10:return"\u041d\u043e\u044f\u0431\u0440\u044c";case 11:return"\u0414\u0435\u043a\u0430\u0431\u0440\u044c";default:return""}}()}),Object(d.jsx)("div",{className:"calendar__month-page calendar__month-page_inc"+(k?"":" calendar__month-page_inc-disabled"),onClick:function(){k&&p(j+1)}})]}),Object(d.jsx)("div",{className:"calendar__days-container",children:y.map((function(e){var t="calendar__day";return e.isOverMonth&&(t+=" calendar__day_over-month"),e.isOverRange&&(t+=" calendar__day_over-range"),e.isSunday&&(t+=" calendar__day_sunday"),e.isSelected&&(t+=" calendar__day_selected"),Object(d.jsx)("p",{className:t,onClick:function(){var t;(t=e).isOverMonth||t.isOverRange||a(t.date)},children:e.date.slice(0,2)},B.a.generate())}))})]})},J=a.p+"static/media/date.f3bd0495.svg";var K=function(e){var t=e.name,a=e.value,r=e.placeholder,c=e.setValue,n=e.isMini,i=e.isDisabled,o=Object(s.useState)(!1),u=Object(l.a)(o,2),m=u[0],j=u[1],p=function(e){e.relatedTarget&&"calendar"===e.relatedTarget.className||j(!1)};return Object(d.jsxs)(s.Fragment,{children:[Object(d.jsx)("input",{className:"date-input__input"+(n?" date-input__input_mini":"")+(i?" date-input__input_disabled":""),type:"text",name:t,value:a,placeholder:r,onChange:function(e){if(!i){var t=e.target.value.replace(/[^\d]/g,"").split("",8);t.length>4&&t.splice(4,0,"."),t.length>2&&t.splice(2,0,"."),c(t.join(""))}},onBlur:p}),Object(d.jsx)("button",{className:"date-input__button",type:"button",onClick:function(){i||j(!0)},onBlur:p,children:Object(d.jsx)("img",{className:"date-input__button-icon",src:J,width:n?"20":"30",alt:"button-date"})}),m&&Object(d.jsx)(X,{date:a,selectDate:function(e){c(e),j(!1)}})]})};function U(e){return/^[^@]+@([^@.]+\.)+[^@.]+$/.test(e)}function q(e,t){var a={status:!1},s="DD.MM.YYYY";if(!e)return a.errorText=["\u041e\u0448\u0438\u0431\u043a\u0430 \u0432\u0432\u043e\u0434\u0430 \u0434\u0430\u0442\u044b \u043f\u043e\u0435\u0437\u0434\u043a\u0438","\u041f\u043e\u043b\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0434\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f"],a;if(!t)return a.errorText=["\u041e\u0448\u0438\u0431\u043a\u0430 \u0432\u0432\u043e\u0434\u0430 \u0434\u0430\u0442\u044b \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0435\u043d\u0438\u044f","\u041f\u043e\u043b\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0434\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f"],a;if(10!==e.length||!L()(e,s).isValid())return a.errorText=["\u041e\u0448\u0438\u0431\u043a\u0430 \u0432\u0432\u043e\u0434\u0430 \u0434\u0430\u0442\u044b \u043f\u043e\u0435\u0437\u0434\u043a\u0438","\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435 ".concat(e," \u043d\u0435 \u044f\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u043e\u0439 \u0434\u0430\u0442\u043e\u0439"),"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u0432 \u0444\u043e\u0440\u043c\u0430\u0442\u0435 \u0414\u0414.\u041c\u041c.\u0413\u0413\u0413\u0413, \u0433\u0434\u0435 \u0414\u0414 - \u0447\u0438\u0441\u043b\u043e, \u041c\u041c - \u043c\u0435\u0441\u044f\u0446, \u0413\u0413\u0413\u0413 - \u0433\u043e\u0434"],a;if(10!==t.length||!L()(t,s).isValid())return a.errorText=["\u041e\u0448\u0438\u0431\u043a\u0430 \u0432\u0432\u043e\u0434\u0430 \u0434\u0430\u0442\u044b \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0435\u043d\u0438\u044f","\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435 ".concat(t," \u043d\u0435 \u044f\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u043e\u0439 \u0434\u0430\u0442\u043e\u0439"),"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u0432 \u0444\u043e\u0440\u043c\u0430\u0442\u0435 \u0414\u0414.\u041c\u041c.\u0413\u0413\u0413\u0413, \u0433\u0434\u0435 \u0414\u0414 - \u0447\u0438\u0441\u043b\u043e, \u041c\u041c - \u043c\u0435\u0441\u044f\u0446, \u0413\u0413\u0413\u0413 - \u0433\u043e\u0434"],a;var r=L()().format(s),c=L()(r,s),n=L()(r,s).add(1,"days"),i=L()(r,s).add(90,"days"),l=L()(e,s),o=L()(t,s),d=l.diff(c,"days"),u=o.diff(c,"days"),m="\u0414\u0430\u0442\u0430 \u0434\u043e\u043b\u0436\u043d\u0430 \u043d\u0430\u0445\u043e\u0434\u0438\u0442\u044c\u0441\u044f \u0432 \u0434\u0438\u0430\u043f\u0430\u0437\u043e\u043d\u0435 \u043e\u0442 ".concat(n.format(s)," \u0434\u043e ").concat(i.format(s));return d<1||d>90?(a.errorText=["\u041e\u0448\u0438\u0431\u043a\u0430 \u0432\u0432\u043e\u0434\u0430 \u0434\u0430\u0442\u044b \u043f\u043e\u0435\u0437\u0434\u043a\u0438",m],a):u<1||u>90?(a.errorText=["\u041e\u0448\u0438\u0431\u043a\u0430 \u0432\u0432\u043e\u0434\u0430 \u0434\u0430\u0442\u044b \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0435\u043d\u0438\u044f",m],a):d>=u?(a.errorText=["\u041e\u0448\u0438\u0431\u043a\u0430 \u0432\u0432\u043e\u0434\u0430 \u0434\u0430\u0442","\u0414\u0430\u0442\u0430 \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0435\u043d\u0438\u044f \u0434\u043e\u043b\u0436\u043d\u0430 \u0431\u044b\u0442\u044c \u0445\u043e\u0442\u044f \u0431\u044b \u043d\u0430 1 \u0434\u0435\u043d\u044c \u043f\u043e\u0437\u0436\u0435, \u0447\u0435\u043c \u0434\u0430\u0442\u0430 \u043f\u043e\u0435\u0437\u0434\u043a\u0438"],a):(a.date1=l.format("YYYY-MM-DD"),a.date2=o.format("YYYY-MM-DD"),a.status=!0,a)}function $(e){return L()(1e3*e).format("DD.MM.YYYY")}function Q(e){return L()(1e3*e).format("HH:mm")}function z(e){var t=+e,a=Math.trunc(t/60)%60;a=(a<10?"0":"")+a;var s=Math.trunc(t/3600);return"".concat(s," : ").concat(a)}function G(e){var t=e+"";return t.length>3&&(t=t.slice(0,-3)+" "+t.slice(-3)),t}function Z(e){return e?L()(e,"YYYY-MM-DD").format("DD.MM.YYYY"):""}function ee(e){return e?L()(e,"DD.MM.YYYY").format("YYYY-MM-DD"):""}function te(e){var t=e.seatList;return e.passengerList.reduce((function(e,a,s){return e+(a.isAdult?t.forward[s].fullPrice+t.backward[s].fullPrice:t.forward[s].childPrice+t.backward[s].childPrice)}),0)}function ae(e,t,a,s){return se.apply(this,arguments)}function se(){return(se=Object(b.a)(p.a.mark((function e(t,a,s,r){var c,n,i,l,o,d,u,m,j,b,_,h,f,x,N,g,k,y,C,S,I,H,F,M,D,E,P,Y,A,R;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({loading:!0,text:"\u0418\u0434\u0451\u0442 \u043f\u043e\u0438\u0441\u043a"}),o=r.fromCityId,d=r.toCityId,u=r.dateStart,m=r.dateEnd,j=r.limit,b=r.offset,_=r.sort,h=r.haveFirstClass,f=r.haveSecondClass,x=r.haveThirdClass,N=r.haveFourthClass,g=r.haveWifi,k=r.isExpress,y=r.priceFrom,C=r.priceTo,S=r.startDepartureHourFrom,I=r.startDepartureHourTo,H=r.startArrivalHourFrom,F=r.startArrivalHourTo,M=r.endDepartureHourFrom,D=r.endDepartureHourTo,E=r.endArrivalHourFrom,P=r.endArrivalHourTo,Y={from_city_id:o,to_city_id:d,date_start:u,limit:j,offset:b,sort:_},A={from_city_id:d,to_city_id:o,date_start_arrival:m,limit:j,offset:b,sort:_},h&&(Y.have_first_class=!0,A.have_first_class=!0),f&&(Y.have_second_class=!0,A.have_second_class=!0),x&&(Y.have_third_class=!0,A.have_third_class=!0),N&&(Y.have_fourth_class=!0,A.have_fourth_class=!0),g&&(Y.have_wifi=!0,A.have_wifi=!0),k&&(Y.is_express=!0,A.is_express=!0),isNaN(+y)||(Y.price_from=y,A.price_from=y),isNaN(+C)||(Y.price_to=C,A.price_to=C),isNaN(+S)||(Y.start_departure_hour_from=S),isNaN(+I)||(Y.start_departure_hour_to=I),isNaN(+H)||(Y.start_arrival_hour_from=H),isNaN(+F)||(Y.start_arrival_hour_to=F),isNaN(+M)||(A.start_departure_hour_from=M),isNaN(+D)||(A.start_departure_hour_to=D),isNaN(+E)||(A.start_arrival_hour_from=E),isNaN(+P)||(A.start_arrival_hour_to=P),e.next=22,w(Y);case 22:if((c=e.sent).ok){e.next=27;break}return t({loading:!1}),O(a,c),e.abrupt("return",!1);case 27:return e.prev=27,e.next=30,c.json();case 30:n=e.sent,e.next=38;break;case 33:return e.prev=33,e.t0=e.catch(27),t({loading:!1}),v(a),e.abrupt("return",!1);case 38:return e.next=40,w(A);case 40:if((c=e.sent).ok){e.next=45;break}return t({loading:!1}),O(a,c),e.abrupt("return",!1);case 45:return e.prev=45,e.next=48,c.json();case 48:i=e.sent,e.next=56;break;case 51:return e.prev=51,e.t1=e.catch(45),t({loading:!1}),v(a),e.abrupt("return",!1);case 56:return e.next=58,T();case 58:if((c=e.sent).ok){e.next=63;break}return t({loading:!1}),O(a,c),e.abrupt("return",!1);case 63:return e.prev=63,e.next=66,c.json();case 66:l=e.sent,e.next=74;break;case 69:return e.prev=69,e.t2=e.catch(63),t({loading:!1}),v(a),e.abrupt("return",!1);case 74:return s(R={params:r,forwardTrainsInfo:n,backwardTrainsInfo:i,lastRoutes:l}),localStorage.setItem("trainsInfo",JSON.stringify(R)),t({loading:!1}),e.abrupt("return",!0);case 79:case"end":return e.stop()}}),e,null,[[27,33],[45,51],[63,69]])})))).apply(this,arguments)}var re=a.p+"static/media/button-invert.5fca6600.svg";var ce=function(e){var t=e.classModificator,a="ticket-search-form"+(t?" ticket-search-form".concat(t):""),r="ticket-search-form__label"+(t?" ticket-search-form__label".concat(t):""),c="ticket-search-form__button"+(t?" ticket-search-form__button".concat(t):""),n={from:"",to:"",dateStart:"",dateEnd:""},i=Object(s.useState)(n),u=Object(l.a)(i,2),m=u[0],j=u[1],f=Object(s.useContext)(o),v=f.setPopup,N=f.setAnimation,g=f.setTrainsInfo,k=f.setForwardTrain,y=f.setBackwardTrain,w=Object(h.f)(),C=function(){var e=Object(b.a)(p.a.mark((function e(t,a){var s,r,c,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=t.trim(),e.next=3,P(N,s);case 3:if((r=e.sent).ok){e.next=7;break}return O(v,r),e.abrupt("return",null);case 7:return e.prev=7,e.next=10,r.json();case 10:c=e.sent,e.next=16;break;case 13:return e.prev=13,e.t0=e.catch(7),e.abrupt("return",null);case 16:if(c.length){e.next=19;break}return x(v,["\u041e\u0448\u0438\u0431\u043a\u0430 \u0432\u0432\u043e\u0434\u0430 \u043d\u0430\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f",'\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u0432 \u043f\u043e\u043b\u0435 "'.concat(a,'" \u043e\u0442\u0441\u0442\u0443\u0442\u0441\u0442\u0432\u0443\u0435\u0442 \u0432 \u0441\u043f\u0438\u0441\u043a\u0435 \u0441\u0442\u0430\u043d\u0446\u0438\u0439')]),e.abrupt("return",null);case 19:if(n=c.find((function(e){return e.name===s}))){e.next=23;break}return x(v,["\u041e\u0448\u0438\u0431\u043a\u0430 \u0432\u0432\u043e\u0434\u0430 \u043d\u0430\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f",'\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u0432 \u043f\u043e\u043b\u0435 "'.concat(a,'" \u043e\u0442\u0441\u0442\u0443\u0442\u0441\u0442\u0432\u0443\u0435\u0442 \u0432 \u0441\u043f\u0438\u0441\u043a\u0435 \u0441\u0442\u0430\u043d\u0446\u0438\u0439')]),e.abrupt("return",null);case 23:return e.abrupt("return",n._id);case 24:case"end":return e.stop()}}),e,null,[[7,13]])})));return function(t,a){return e.apply(this,arguments)}}(),T=function(){var e=Object(b.a)(p.a.mark((function e(t){var a,s,r,c,i;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),(a=q(m.dateStart,m.dateEnd)).status){e.next=5;break}return x(v,a.errorText),e.abrupt("return");case 5:if(s=a.date1,r=a.date2,m.from){e.next=10;break}return x(v,["\u041e\u0448\u0438\u0431\u043a\u0430 \u0432\u0432\u043e\u0434\u0430 \u043d\u0430\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f",'\u041f\u043e\u043b\u0435 "\u041e\u0442\u043a\u0443\u0434\u0430" \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0434\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f']),e.abrupt("return");case 10:if(m.to){e.next=13;break}return x(v,["\u041e\u0448\u0438\u0431\u043a\u0430 \u0432\u0432\u043e\u0434\u0430 \u043d\u0430\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f",'\u041f\u043e\u043b\u0435 "\u041a\u0443\u0434\u0430" \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0434\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f']),e.abrupt("return");case 13:return e.next=15,C(m.from,"\u041e\u0442\u043a\u0443\u0434\u0430");case 15:if(null!==(c=e.sent)){e.next=18;break}return e.abrupt("return");case 18:return e.next=20,C(m.to,"\u041a\u0443\u0434\u0430");case 20:if(null!==(i=e.sent)){e.next=23;break}return e.abrupt("return");case 23:if(c!==i){e.next=26;break}return x(v,["\u041e\u0448\u0438\u0431\u043a\u0430 \u0432\u0432\u043e\u0434\u0430 \u043d\u0430\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f",'\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u044f \u043f\u043e\u043b\u0435\u0439 "\u041e\u0442\u043a\u0443\u0434\u0430" \u0438 "\u041a\u0443\u0434\u0430" \u043d\u0435 \u0434\u043e\u043b\u0436\u043d\u044b \u0431\u044b\u0442\u044c \u043e\u0434\u0438\u043d\u0430\u043a\u043e\u0432\u044b\u043c\u0438']),e.abrupt("return");case 26:return e.next=28,ae(N,v,g,{fromCityId:c,toCityId:i,dateStart:s,dateEnd:r,limit:5,offset:0,sort:"date",direction:"forward"});case 28:if(e.sent){e.next=31;break}return e.abrupt("return");case 31:w.push("/fe-diploma/run/trains"),j(n),k(null),y(null),localStorage.setItem("forwardTrain",null),localStorage.setItem("backwardTrain",null);case 37:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(d.jsxs)("form",{className:a,onSubmit:T,children:[Object(d.jsxs)("label",{className:r,children:["\u041d\u0430\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435",Object(d.jsx)("div",{className:"ticket-search-form__input-container",children:Object(d.jsx)(R,{name:"from",value:m.from,placeholder:"\u041e\u0442\u043a\u0443\u0434\u0430",setValue:function(e){j(Object(_.a)(Object(_.a)({},m),{},{from:e}))}})})]}),Object(d.jsx)("button",{className:"ticket-search-form__button-invert",type:"button",onClick:function(){var e=m.to,t=m.from;j(Object(_.a)(Object(_.a)({},m),{},{from:e,to:t}))},children:Object(d.jsx)("img",{className:"ticket-search-form__image-invert",src:re,width:"100%",alt:"button-invert"})}),Object(d.jsx)("div",{className:"ticket-search-form__input-container",children:Object(d.jsx)(R,{name:"to",value:m.to,placeholder:"\u041a\u0443\u0434\u0430",setValue:function(e){j(Object(_.a)(Object(_.a)({},m),{},{to:e}))}})}),Object(d.jsxs)("label",{className:r,children:["\u0414\u0430\u0442\u0430",Object(d.jsx)("div",{className:"ticket-search-form__input-container",children:Object(d.jsx)(K,{name:"start-date",value:m.dateStart,placeholder:"\u0414\u0414 \u041c\u041c \u0413\u0413\u0413\u0413",setValue:function(e){j(Object(_.a)(Object(_.a)({},m),{},{dateStart:e}))}})})]}),Object(d.jsx)("div",{className:"ticket-search-form__input-container",children:Object(d.jsx)(K,{name:"end-date",value:m.dateEnd,placeholder:"\u0414\u0414 \u041c\u041c \u0413\u0413\u0413\u0413",setValue:function(e){j(Object(_.a)(Object(_.a)({},m),{},{dateEnd:e}))}})}),Object(d.jsx)("button",{className:c,type:"submit",children:"\u041d\u0430\u0439\u0442\u0438 \u0431\u0438\u043b\u0435\u0442\u044b"})]})};var ne=function(){var e="";switch(Object(s.useContext)(o).bookingStage){case"trains":case"seats":case"passengers":case"payment":case"confirmation":e="_run";break;case"completion":e="_completion"}var t="header"+(e?" header".concat(e):""),a="header__top"+(e?" header__top".concat(e):"");return Object(d.jsxs)("header",{className:t,children:[Object(d.jsx)("div",{className:a,children:Object(d.jsx)("p",{className:"header__logo",children:"\u041b\u043e\u0433\u043e"})}),Object(d.jsx)(m,{}),"_completion"!==e&&Object(d.jsxs)("div",{className:"header__body",children:[!e&&Object(d.jsxs)("p",{className:"header__slogan",children:["\u0412\u0441\u044f \u0436\u0438\u0437\u043d\u044c -",Object(d.jsx)("br",{}),Object(d.jsx)("span",{className:"header__slogan_bold",children:"\u043f\u0443\u0442\u0435\u0448\u0435\u0441\u0442\u0432\u0438\u0435!"})]}),Object(d.jsx)(ce,{classModificator:e})]})]})},ie=(a(55),a(56),a.p+"static/media/loading-animation.4e2e699c.gif");var le=function(){var e=Object(s.useContext)(o).animation;return Object(d.jsxs)("div",{className:"loading-animation",children:[Object(d.jsx)("img",{className:"loading-animation__image",src:ie,height:"780",alt:"loading-animation"}),Object(d.jsx)("p",{className:"loading-animation__text",children:e.text})]})};a(57),a(58);var oe=function(){return Object(d.jsxs)("div",{className:"about",name:"about",children:[Object(d.jsx)("h2",{className:"about__title",children:"\u041e \u043d\u0430\u0441"}),Object(d.jsxs)("div",{className:"about__content",children:[Object(d.jsxs)("p",{className:"about__text",children:["\u041c\u044b \u0440\u0430\u0434\u044b \u0432\u0438\u0434\u0435\u0442\u044c \u0432\u0430\u0441! \u041c\u044b \u0440\u0430\u0431\u043e\u0442\u0430\u0435\u043c \u0434\u043b\u044f \u0412\u0430\u0441 \u0441 2003 \u0433\u043e\u0434\u0430. 14 \u043b\u0435\u0442 \u043c\u044b \u043d\u0430\u0431\u043b\u044e\u0434\u0430\u0435\u043c, \u043a\u0430\u043a \u0441 \u043a\u0430\u0436\u0434\u044b\u043c \u0434\u043d\u0435\u043c",Object(d.jsx)("br",{}),"\u0432\u0441\u0435 \u0431\u043e\u043b\u044c\u0448\u0435 \u043b\u044e\u0434\u0435\u0439 \u0437\u0430\u043a\u0430\u0437\u044b\u0432\u0430\u044e\u0442 \u0436\u0434 \u0431\u0438\u043b\u0435\u0442\u044b \u0447\u0435\u0440\u0435\u0437 \u0438\u043d\u0442\u0435\u0440\u043d\u0435\u0442."]}),Object(d.jsxs)("p",{className:"about__text",children:["\u0421\u0435\u0433\u043e\u0434\u043d\u044f \u043c\u043e\u0436\u043d\u043e \u0437\u0430\u043a\u0430\u0437\u0430\u0442\u044c \u0436\u0435\u043b\u0435\u0437\u043d\u043e\u0434\u043e\u0440\u043e\u0436\u043d\u044b\u0435 \u0431\u0438\u043b\u0435\u0442\u044b \u043e\u043d\u043b\u0430\u0439\u043d \u0432\u0441\u0435\u0433\u043e \u0432 2 \u043a\u043b\u0438\u043a\u0430, \u043d\u043e \u0441\u0442\u043e\u0438\u0442 \u043b\u0438 \u044d\u0442\u043e \u0434\u0435\u043b\u0430\u0442\u044c?",Object(d.jsx)("br",{}),"\u041c\u044b \u0440\u0430\u0441\u0441\u043a\u0430\u0436\u0435\u043c \u043e \u043f\u0440\u0435\u0438\u043c\u0443\u0449\u0435\u0441\u0442\u0432\u0430\u0445 \u0437\u0430\u043a\u0430\u0437\u0430 \u0447\u0435\u0440\u0435\u0437 \u0438\u043d\u0442\u0435\u0440\u043d\u0435\u0442."]}),Object(d.jsxs)("p",{className:"about__text about__text_bold",children:["\u041f\u043e\u043a\u0443\u043f\u0430\u0442\u044c \u0436\u0434 \u0431\u0438\u043b\u0435\u0442\u044b \u0434\u0435\u0448\u0435\u0432\u043e \u043c\u043e\u0436\u043d\u043e \u0437\u0430 90 \u0441\u0443\u0442\u043e\u043a \u0434\u043e \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u043f\u043e\u0435\u0437\u0434\u0430.",Object(d.jsx)("br",{}),"\u0411\u043b\u0430\u0433\u043e\u0434\u0430\u0440\u044f \u0434\u0438\u043d\u0430\u043c\u0438\u0447\u0435\u0441\u043a\u043e\u043c\u0443 \u0446\u0435\u043d\u043e\u043e\u0431\u0440\u0430\u0437\u043e\u0432\u0430\u043d\u0438\u044e \u0446\u0435\u043d\u0430 \u043d\u0430 \u0431\u0438\u043b\u0435\u0442\u044b \u0432 \u044d\u0442\u043e \u0432\u0440\u0435\u043c\u044f \u0441\u0430\u043c\u0430\u044f \u043d\u0438\u0437\u043a\u0430\u044f."]})]})]})};a(59);var de=function(){var e=Object(s.useContext)(o).setPopup;return Object(d.jsxs)("div",{className:"description",name:"description",children:[Object(d.jsxs)("div",{className:"description__top",children:[Object(d.jsx)("h2",{className:"description__title",children:"\u041a\u0430\u043a \u044d\u0442\u043e \u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0442"}),Object(d.jsx)("button",{className:"description__button",type:"button",onClick:function(){f(e,'\u0427\u0442\u043e\u0431\u044b \u0443\u0437\u043d\u0430\u0442\u044c \u0431\u043e\u043b\u044c\u0448\u0435, \u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u0441\u0432\u044f\u0437\u0430\u0442\u044c\u0441\u044f \u0441 \u043d\u0430\u043c\u0438 \u043f\u043e \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0443, \u043f\u043e\u0447\u0442\u0435 \u0438\u043b\u0438 \u0441\u043a\u0430\u0439\u043f\u0443, \u0443\u043a\u0430\u0437\u0430\u043d\u043d\u044b\u043c \u0432 \u0440\u0430\u0437\u0434\u0435\u043b\u0435 "\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b"')},children:"\u0423\u0437\u043d\u0430\u0442\u044c \u0431\u043e\u043b\u044c\u0448\u0435"})]}),Object(d.jsx)("div",{className:"description__items",children:[["\u0423\u0434\u043e\u0431\u043d\u044b\u0439 \u0437\u0430\u043a\u0430\u0437","\u043d\u0430 \u0441\u0430\u0439\u0442\u0435"],["\u041d\u0435\u0442 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e\u0441\u0442\u0438","\u0435\u0445\u0430\u0442\u044c \u0432 \u043e\u0444\u0438\u0441"],["\u041e\u0433\u0440\u043e\u043c\u043d\u044b\u0439 \u0432\u044b\u0431\u043e\u0440","\u043d\u0430\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0439"]].map((function(e,t){return Object(d.jsxs)("div",{className:"description__item",children:[Object(d.jsx)("div",{className:"description__icon description__icon_".concat(t+1)}),Object(d.jsx)("p",{className:"description__text",children:e.map((function(e,t){return Object(d.jsxs)(r.a.Fragment,{children:[e,Object(d.jsx)("br",{})]},t)}))})]},t)}))})]})},ue=(a(60),a.p+"static/media/cat.e05877d1.png"),me=a.p+"static/media/eugene.65a6aedf.png",je=[{avatar:ue,name:"\u0415\u043a\u0430\u0442\u0435\u0440\u0438\u043d\u0430 \u0412\u0430\u043b\u044c\u043d\u043e\u0432\u0430",text:["\u0414\u043e\u0431\u0440\u043e\u0436\u0435\u043b\u0430\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u043f\u043e\u0434\u0441\u043a\u0430\u0437\u043a\u0438","\u043d\u0430 \u0432\u0441\u0435\u0445 \u044d\u0442\u0430\u043f\u0430\u0445 \u043f\u043e\u043c\u043e\u0433\u0443\u0442 \u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e \u0437\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u044c","\u043f\u043e\u043b\u044f \u0438 \u0431\u0435\u0437 \u0437\u0430\u0442\u0440\u0443\u0434\u043d\u0435\u043d\u0438\u0439 \u043a\u0443\u043f\u0438\u0442\u044c \u0430\u0432\u0438\u0430 \u0438\u043b\u0438 \u0436/\u0434","\u0431\u0438\u043b\u0435\u0442, \u0434\u0430\u0436\u0435 \u0435\u0441\u043b\u0438 \u0432\u044b \u0437\u0430\u043a\u0430\u0437\u044b\u0432\u0430\u0435\u0442\u0435 \u043e\u043d\u043b\u0430\u0439\u043d \u0431\u0438\u043b\u0435\u0442","\u0432\u043f\u0435\u0440\u0432\u044b\u0435."]},{avatar:me,name:"\u0415\u0432\u0433\u0435\u043d\u0438\u0439 \u0421\u0442\u0440\u044b\u043a\u0430\u043b\u043e",text:["\u0421\u041c\u0421-\u0441\u043e\u043f\u0440\u043e\u0432\u043e\u0436\u0434\u0435\u043d\u0438\u0435 \u0434\u043e \u043f\u043e\u0441\u0430\u0434\u043a\u0438","\u0421\u0440\u0430\u0437\u0443 \u043f\u043e\u0441\u043b\u0435 \u043e\u043f\u043b\u0430\u0442\u044b \u0436/\u0434 \u0431\u0438\u043b\u0435\u0442\u043e\u0432","\u0438 \u0437\u0430 3 \u0447\u0430\u0441\u0430 \u0434\u043e \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u043c\u044b \u043f\u0440\u0438\u0448\u043b\u0435\u043c \u0432\u0430\u043c","\u0421\u041c\u0421-\u043d\u0430\u043f\u043e\u043c\u0438\u043d\u0430\u043d\u0438\u0435 \u043e \u043f\u043e\u0435\u0437\u0434\u043a\u0435."]},{avatar:me,name:"\u0415\u0432\u0433\u0435\u043d\u0438\u0439 \u0421\u0442\u0440\u044b\u043a\u0430\u043b\u043e",text:["\u0421\u041c\u0421-\u0441\u043e\u043f\u0440\u043e\u0432\u043e\u0436\u0434\u0435\u043d\u0438\u0435 \u0434\u043e \u043f\u043e\u0441\u0430\u0434\u043a\u0438","\u0421\u0440\u0430\u0437\u0443 \u043f\u043e\u0441\u043b\u0435 \u043e\u043f\u043b\u0430\u0442\u044b \u0436/\u0434 \u0431\u0438\u043b\u0435\u0442\u043e\u0432","\u0438 \u0437\u0430 3 \u0447\u0430\u0441\u0430 \u0434\u043e \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u043c\u044b \u043f\u0440\u0438\u0448\u043b\u0435\u043c \u0432\u0430\u043c","\u0421\u041c\u0421-\u043d\u0430\u043f\u043e\u043c\u0438\u043d\u0430\u043d\u0438\u0435 \u043e \u043f\u043e\u0435\u0437\u0434\u043a\u0435."]},{avatar:ue,name:"\u0415\u043a\u0430\u0442\u0435\u0440\u0438\u043d\u0430 \u0412\u0430\u043b\u044c\u043d\u043e\u0432\u0430",text:["\u0414\u043e\u0431\u0440\u043e\u0436\u0435\u043b\u0430\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u043f\u043e\u0434\u0441\u043a\u0430\u0437\u043a\u0438","\u043d\u0430 \u0432\u0441\u0435\u0445 \u044d\u0442\u0430\u043f\u0430\u0445 \u043f\u043e\u043c\u043e\u0433\u0443\u0442 \u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e \u0437\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u044c","\u043f\u043e\u043b\u044f \u0438 \u0431\u0435\u0437 \u0437\u0430\u0442\u0440\u0443\u0434\u043d\u0435\u043d\u0438\u0439 \u043a\u0443\u043f\u0438\u0442\u044c \u0430\u0432\u0438\u0430 \u0438\u043b\u0438 \u0436/\u0434","\u0431\u0438\u043b\u0435\u0442, \u0434\u0430\u0436\u0435 \u0435\u0441\u043b\u0438 \u0432\u044b \u0437\u0430\u043a\u0430\u0437\u044b\u0432\u0430\u0435\u0442\u0435 \u043e\u043d\u043b\u0430\u0439\u043d \u0431\u0438\u043b\u0435\u0442","\u0432\u043f\u0435\u0440\u0432\u044b\u0435."]},{avatar:ue,name:"\u0415\u043a\u0430\u0442\u0435\u0440\u0438\u043d\u0430 \u0412\u0430\u043b\u044c\u043d\u043e\u0432\u0430",text:["\u0421\u041c\u0421-\u0441\u043e\u043f\u0440\u043e\u0432\u043e\u0436\u0434\u0435\u043d\u0438\u0435 \u0434\u043e \u043f\u043e\u0441\u0430\u0434\u043a\u0438","\u0421\u0440\u0430\u0437\u0443 \u043f\u043e\u0441\u043b\u0435 \u043e\u043f\u043b\u0430\u0442\u044b \u0436/\u0434 \u0431\u0438\u043b\u0435\u0442\u043e\u0432","\u0438 \u0437\u0430 3 \u0447\u0430\u0441\u0430 \u0434\u043e \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u043c\u044b \u043f\u0440\u0438\u0448\u043b\u0435\u043c \u0432\u0430\u043c","\u0421\u041c\u0421-\u043d\u0430\u043f\u043e\u043c\u0438\u043d\u0430\u043d\u0438\u0435 \u043e \u043f\u043e\u0435\u0437\u0434\u043a\u0435."]},{avatar:me,name:"\u0415\u0432\u0433\u0435\u043d\u0438\u0439 \u0421\u0442\u0440\u044b\u043a\u0430\u043b\u043e",text:["\u0414\u043e\u0431\u0440\u043e\u0436\u0435\u043b\u0430\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u043f\u043e\u0434\u0441\u043a\u0430\u0437\u043a\u0438","\u043d\u0430 \u0432\u0441\u0435\u0445 \u044d\u0442\u0430\u043f\u0430\u0445 \u043f\u043e\u043c\u043e\u0433\u0443\u0442 \u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e \u0437\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u044c","\u043f\u043e\u043b\u044f \u0438 \u0431\u0435\u0437 \u0437\u0430\u0442\u0440\u0443\u0434\u043d\u0435\u043d\u0438\u0439 \u043a\u0443\u043f\u0438\u0442\u044c \u0430\u0432\u0438\u0430 \u0438\u043b\u0438 \u0436/\u0434","\u0431\u0438\u043b\u0435\u0442, \u0434\u0430\u0436\u0435 \u0435\u0441\u043b\u0438 \u0432\u044b \u0437\u0430\u043a\u0430\u0437\u044b\u0432\u0430\u0435\u0442\u0435 \u043e\u043d\u043b\u0430\u0439\u043d \u0431\u0438\u043b\u0435\u0442","\u0432\u043f\u0435\u0440\u0432\u044b\u0435."]},{avatar:me,name:"\u0415\u0432\u0433\u0435\u043d\u0438\u0439 \u0421\u0442\u0440\u044b\u043a\u0430\u043b\u043e",text:["\u0421\u041c\u0421-\u0441\u043e\u043f\u0440\u043e\u0432\u043e\u0436\u0434\u0435\u043d\u0438\u0435 \u0434\u043e \u043f\u043e\u0441\u0430\u0434\u043a\u0438","\u0421\u0440\u0430\u0437\u0443 \u043f\u043e\u0441\u043b\u0435 \u043e\u043f\u043b\u0430\u0442\u044b \u0436/\u0434 \u0431\u0438\u043b\u0435\u0442\u043e\u0432","\u0438 \u0437\u0430 3 \u0447\u0430\u0441\u0430 \u0434\u043e \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u043c\u044b \u043f\u0440\u0438\u0448\u043b\u0435\u043c \u0432\u0430\u043c","\u0421\u041c\u0421-\u043d\u0430\u043f\u043e\u043c\u0438\u043d\u0430\u043d\u0438\u0435 \u043e \u043f\u043e\u0435\u0437\u0434\u043a\u0435."]},{avatar:ue,name:"\u0415\u043a\u0430\u0442\u0435\u0440\u0438\u043d\u0430 \u0412\u0430\u043b\u044c\u043d\u043e\u0432\u0430",text:["\u0414\u043e\u0431\u0440\u043e\u0436\u0435\u043b\u0430\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u043f\u043e\u0434\u0441\u043a\u0430\u0437\u043a\u0438","\u043d\u0430 \u0432\u0441\u0435\u0445 \u044d\u0442\u0430\u043f\u0430\u0445 \u043f\u043e\u043c\u043e\u0433\u0443\u0442 \u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e \u0437\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u044c","\u043f\u043e\u043b\u044f \u0438 \u0431\u0435\u0437 \u0437\u0430\u0442\u0440\u0443\u0434\u043d\u0435\u043d\u0438\u0439 \u043a\u0443\u043f\u0438\u0442\u044c \u0430\u0432\u0438\u0430 \u0438\u043b\u0438 \u0436/\u0434","\u0431\u0438\u043b\u0435\u0442, \u0434\u0430\u0436\u0435 \u0435\u0441\u043b\u0438 \u0432\u044b \u0437\u0430\u043a\u0430\u0437\u044b\u0432\u0430\u0435\u0442\u0435 \u043e\u043d\u043b\u0430\u0439\u043d \u0431\u0438\u043b\u0435\u0442","\u0432\u043f\u0435\u0440\u0432\u044b\u0435."]},{avatar:me,name:"\u0415\u0432\u0433\u0435\u043d\u0438\u0439 \u0421\u0442\u0440\u044b\u043a\u0430\u043b\u043e",text:["\u0414\u043e\u0431\u0440\u043e\u0436\u0435\u043b\u0430\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u043f\u043e\u0434\u0441\u043a\u0430\u0437\u043a\u0438","\u043d\u0430 \u0432\u0441\u0435\u0445 \u044d\u0442\u0430\u043f\u0430\u0445 \u043f\u043e\u043c\u043e\u0433\u0443\u0442 \u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e \u0437\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u044c","\u043f\u043e\u043b\u044f \u0438 \u0431\u0435\u0437 \u0437\u0430\u0442\u0440\u0443\u0434\u043d\u0435\u043d\u0438\u0439 \u043a\u0443\u043f\u0438\u0442\u044c \u0430\u0432\u0438\u0430 \u0438\u043b\u0438 \u0436/\u0434","\u0431\u0438\u043b\u0435\u0442, \u0434\u0430\u0436\u0435 \u0435\u0441\u043b\u0438 \u0432\u044b \u0437\u0430\u043a\u0430\u0437\u044b\u0432\u0430\u0435\u0442\u0435 \u043e\u043d\u043b\u0430\u0439\u043d \u0431\u0438\u043b\u0435\u0442","\u0432\u043f\u0435\u0440\u0432\u044b\u0435."]},{avatar:ue,name:"\u0415\u043a\u0430\u0442\u0435\u0440\u0438\u043d\u0430 \u0412\u0430\u043b\u044c\u043d\u043e\u0432\u0430",text:["\u0421\u041c\u0421-\u0441\u043e\u043f\u0440\u043e\u0432\u043e\u0436\u0434\u0435\u043d\u0438\u0435 \u0434\u043e \u043f\u043e\u0441\u0430\u0434\u043a\u0438","\u0421\u0440\u0430\u0437\u0443 \u043f\u043e\u0441\u043b\u0435 \u043e\u043f\u043b\u0430\u0442\u044b \u0436/\u0434 \u0431\u0438\u043b\u0435\u0442\u043e\u0432","\u0438 \u0437\u0430 3 \u0447\u0430\u0441\u0430 \u0434\u043e \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u043c\u044b \u043f\u0440\u0438\u0448\u043b\u0435\u043c \u0432\u0430\u043c","\u0421\u041c\u0421-\u043d\u0430\u043f\u043e\u043c\u0438\u043d\u0430\u043d\u0438\u0435 \u043e \u043f\u043e\u0435\u0437\u0434\u043a\u0435."]}];var pe=function(){var e=Object(s.useState)(0),t=Object(l.a)(e,2),a=t[0],c=t[1],n=je.filter((function(e,t){return!(t%2)})).map((function(e,t){return Object(d.jsx)("div",{className:"feedbacks__point"+(a===t?" feedbacks__point_active":""),onClick:function(){c(t)}},t)}));return Object(d.jsxs)("div",{className:"feedbacks",name:"feedbacks",children:[Object(d.jsx)("h2",{className:"feedbacks__title",children:"\u041e\u0442\u0437\u044b\u0432\u044b"}),Object(d.jsx)("div",{className:"feedbacks__items",children:je.filter((function(e,t){return Math.trunc(t/2)===a})).map((function(e,t){return Object(d.jsxs)("div",{className:"feedbacks__item",children:[Object(d.jsx)("img",{className:"feedbacks__avatar",src:e.avatar,alt:"avatar"}),Object(d.jsxs)("div",{className:"feedbacks__content",children:[Object(d.jsx)("h3",{className:"feedbacks__name",children:e.name}),Object(d.jsxs)("p",{className:"feedbacks__text",children:[Object(d.jsx)("span",{className:"feedbacks__quote feedbacks__quote_begin",children:"\u201c"}),e.text.map((function(t,a){return Object(d.jsxs)(r.a.Fragment,{children:[t,a<e.text.length-1&&Object(d.jsx)("br",{})]},a)})),Object(d.jsx)("span",{className:"feedbacks__quote feedbacks__quote_end",children:"\xa0\u201e"})]})]})]},t)}))}),Object(d.jsx)("div",{className:"feedbacks__points",children:n})]})};var be=function(){var e=Object(s.useContext)(o).setBookingStage;return Object(s.useEffect)((function(){e(null)}),[e]),Object(d.jsxs)("main",{className:"home-page",children:[Object(d.jsx)("a",{className:"home-page__anchor",href:".",name:"about",children:"anchor"}),Object(d.jsx)(oe,{}),Object(d.jsx)("a",{className:"home-page__anchor",href:".",name:"description",children:"anchor"}),Object(d.jsx)(de,{}),Object(d.jsx)("a",{className:"home-page__anchor",href:".",name:"feedbacks",children:"anchor"}),Object(d.jsx)(pe,{})]})},_e=(a(61),a(62),a.p+"static/media/dark-triangle.8b813f45.svg"),he=a.p+"static/media/light-triangle.5ca8bc48.svg";var fe=function(e){var t=e.stepNumber;return Object(d.jsx)("div",{className:"progress-indicator",children:["\u0411\u0438\u043b\u0435\u0442\u044b","\u041f\u0430\u0441\u0441\u0430\u0436\u0438\u0440\u044b","\u041e\u043f\u043b\u0430\u0442\u0430","\u041f\u0440\u043e\u0432\u0435\u0440\u043a\u0430"].map((function(e,a,s){var r="progress-indicator__step progress-indicator__step_".concat(a+1);a<t&&(r+=" progress-indicator__step_highlighted");var c="progress-indicator__step-name progress-indicator__step-name_".concat(a+1);return Object(d.jsxs)("div",{className:r,children:[Object(d.jsx)("p",{className:"progress-indicator__step-number",children:a+1}),Object(d.jsx)("p",{className:c,children:e}),a<s.length-1&&Object(d.jsx)("img",{className:"progress-indicator__triangle",src:a<t?he:_e,width:"37",height:"98",alt:"triangle"})]},a)}))})},xe=(a(63),a(64),a.p+"static/media/icons.659298fb.svg");var Oe=function(e){var t=e.iconName,a=e.iconWidth,s=e.iconHeight,r=e.name,c=e.value,n=e.setValue;return Object(d.jsxs)("div",{className:"option-check-box",children:[Object(d.jsx)("svg",{className:"option-check-box__icon",width:a,height:s,children:Object(d.jsx)("use",{xlinkHref:"".concat(xe,"#").concat(t)})}),Object(d.jsx)("p",{className:"option-check-box__title",children:r}),Object(d.jsx)("div",{className:"option-check-box__selector "+(c?"option-check-box__selector_on":"option-check-box__selector_off"),onClick:function(){return n(!c)},children:Object(d.jsx)("div",{className:"option-check-box__handle "+(c?"option-check-box__handle_on":"option-check-box__handle_off")})})]})};a(65);var ve=function(e){var t=e.minValue,a=e.maxValue,r=e.setMinValue,c=e.setMaxValue,n=e.changeRange,i=e.isDisabled,o=Object(s.useState)(0),u=Object(l.a)(o,2),m=u[0],j=u[1],p=500,b=5e3,_=100,h=1e3,f=t>=p?t:p,x=a<=b?a:b;f+h>x&&(f=p,x=b);var O=Math.round((f-p)/4500*100),v=100-Math.round((x-p)/4500*100);return Object(d.jsx)("div",{className:"price-range-bar",children:Object(d.jsxs)("div",{className:"price-range-bar__range"+(i?" price-range-bar__range_disabled":""),style:{left:"".concat(O,"%"),right:"".concat(v,"%")},children:[Object(d.jsxs)("div",{className:"price-range-bar__handle price-range-bar__handle-min",onPointerDown:function(e){e.target.setPointerCapture(e.pointerId),j(e.clientX)},onPointerMove:function(e){if(1===e.buttons&&!i){var t=e.target.parentElement.parentElement.clientWidth*_/4500;e.clientX>m+t&&(j(e.clientX),f+h<x&&r(f+=_)),e.clientX<m-t&&(j(e.clientX),f>p&&r((f-=_)>p?f:p))}},onPointerUp:function(){i||n(t,a)},children:[Object(d.jsx)("p",{className:"price-range-bar__handle-title",children:"\u043e\u0442"}),Object(d.jsx)("p",{className:"price-range-bar__handle-value",children:f>p?f:"min"})]}),Object(d.jsxs)("div",{className:"price-range-bar__handle price-range-bar__handle-max",onPointerDown:function(e){e.target.setPointerCapture(e.pointerId),j(e.clientX)},onPointerMove:function(e){if(1===e.buttons&&!i){var t=e.target.parentElement.parentElement.clientWidth*_/4500;e.clientX<m-t&&(j(e.clientX),f+h<x&&c(x-=_)),e.clientX>m+t&&(j(e.clientX),x<b&&c((x+=_)<b?x:b))}},onPointerUp:function(){i||n(t,a)},children:[Object(d.jsx)("p",{className:"price-range-bar__handle-title",children:"\u0434\u043e"}),Object(d.jsx)("p",{className:"price-range-bar__handle-value",children:x<b?x:"max"})]})]})})};a(66),a(67);var Ne=function(e){var t=e.minValue,a=e.maxValue,r=e.setMinValue,c=e.setMaxValue,n=e.changeRange,i=e.isDisabled,o=Object(s.useState)(0),u=Object(l.a)(o,2),m=u[0],j=u[1],p=t>=0?t:0,b=a<=24?a:24;p+4>b&&(p=0,b=24);var _=Math.round(p/24*100),h=100-Math.round(b/24*100);return Object(d.jsx)("div",{className:"time-range-bar",children:Object(d.jsxs)("div",{className:"time-range-bar__range"+(i?" time-range-bar__range_disabled":""),style:{left:"".concat(_,"%"),right:"".concat(h,"%")},children:[Object(d.jsx)("div",{className:"time-range-bar__handle time-range-bar__handle-min",onPointerDown:function(e){e.target.setPointerCapture(e.pointerId),j(e.clientX)},onPointerMove:function(e){if(1===e.buttons&&!i){var t=e.target.parentElement.parentElement.clientWidth/24;e.clientX>m+t&&(j(e.clientX),p+4<b&&r(p+1)),e.clientX<m-t&&(j(e.clientX),p>0&&r(p-1))}},onPointerUp:function(){i||n(t,a)},children:Object(d.jsxs)("p",{className:"time-range-bar__handle-value",children:[p,":00"]})}),Object(d.jsx)("div",{className:"time-range-bar__handle time-range-bar__handle-max",onPointerDown:function(e){e.target.setPointerCapture(e.pointerId),j(e.clientX)},onPointerMove:function(e){if(1===e.buttons&&!i){var t=e.target.parentElement.parentElement.clientWidth/24;e.clientX<m-t&&(j(e.clientX),p+4<b&&c(b-1)),e.clientX>m+t&&(j(e.clientX),b<24&&c(b+1))}},onPointerUp:function(){i||n(t,a)},children:Object(d.jsxs)("p",{className:"time-range-bar__handle-value",children:[b,":00"]})})]})})};var ge=function(e){var t=e.times,a=e.setTimes,r=e.changeTimes,c=e.isStart,n=e.isDisabled,i=t.departureHourFrom,o=t.departureHourTo,u=t.arrivalHourFrom,m=t.arrivalHourTo,j=a.setDepartureHourFrom,p=a.setDepartureHourTo,b=a.setArrivalHourFrom,_=a.setArrivalHourTo,h=Object(s.useState)(!0),f=Object(l.a)(h,2),x=f[0],O=f[1];return Object(d.jsxs)("div",{className:"trains-time-filter",children:[Object(d.jsxs)("div",{className:"trains-time-filter__collapsed"+(x?"":" trains-time-filter__collapsed_exp"),children:[Object(d.jsx)("svg",{className:"trains-time-filter__arrow"+(c?"":" trains-time-filter__arrow_mirror"),width:"32",height:"26",children:Object(d.jsx)("use",{xlinkHref:xe+"#arrow-negative"})}),Object(d.jsx)("p",{className:"trains-time-filter__title",children:c?"\u0422\u0443\u0434\u0430":"\u041e\u0431\u0440\u0430\u0442\u043d\u043e"}),Object(d.jsx)("button",{className:"trains-time-filter__button"+(x?"":" trains-time-filter__button_minus"),type:"button",onClick:function(){return O(!x)}})]}),!x&&Object(d.jsxs)("div",{className:"trains-time-filter__full",children:[Object(d.jsx)("p",{className:"trains-time-filter__bar-title trains-time-filter__bar-title_departure",children:"\u0412\u0440\u0435\u043c\u044f \u043e\u0442\u0431\u044b\u0442\u0438\u044f"}),Object(d.jsx)("div",{className:"trains-time-filter__bar",children:Object(d.jsx)(Ne,{minValue:i,maxValue:o,setMinValue:j,setMaxValue:p,changeRange:function(e,t){r({departureHourFrom:e,departureHourTo:t,arrivalHourFrom:u,arrivalHourTo:m})},isDisabled:n})}),Object(d.jsx)("p",{className:"trains-time-filter__bar-title trains-time-filter__bar-title_arrival",children:"\u0412\u0440\u0435\u043c\u044f \u043f\u0440\u0438\u0431\u044b\u0442\u0438\u044f"}),Object(d.jsx)("div",{className:"trains-time-filter__bar",children:Object(d.jsx)(Ne,{minValue:u,maxValue:m,setMinValue:b,setMaxValue:_,changeRange:function(e,t){r({departureHourFrom:i,departureHourTo:o,arrivalHourFrom:e,arrivalHourTo:t})},isDisabled:n})})]})]})};var ke=function(e){var t=e.reloadInfo,a=Object(s.useState)(""),r=Object(l.a)(a,2),c=r[0],n=r[1],i=Object(s.useState)(""),u=Object(l.a)(i,2),m=u[0],j=u[1],p=Object(s.useState)(!1),b=Object(l.a)(p,2),_=b[0],h=b[1],f=Object(s.useState)(!1),x=Object(l.a)(f,2),O=x[0],v=x[1],N=Object(s.useState)(!1),g=Object(l.a)(N,2),k=g[0],y=g[1],w=Object(s.useState)(!1),C=Object(l.a)(w,2),T=C[0],S=C[1],I=Object(s.useState)(!1),H=Object(l.a)(I,2),F=H[0],M=H[1],D=Object(s.useState)(!1),E=Object(l.a)(D,2),P=E[0],Y=E[1],A=Object(s.useState)(0),R=Object(l.a)(A,2),V=R[0],L=R[1],W=Object(s.useState)(0),B=Object(l.a)(W,2),X=B[0],J=B[1],U=Object(s.useState)(0),q=Object(l.a)(U,2),$=q[0],Q=q[1],z=Object(s.useState)(24),G=Object(l.a)(z,2),te=G[0],ae=G[1],se=Object(s.useState)(0),re=Object(l.a)(se,2),ce=re[0],ne=re[1],ie=Object(s.useState)(24),le=Object(l.a)(ie,2),oe=le[0],de=le[1],ue=Object(s.useState)(0),me=Object(l.a)(ue,2),je=me[0],pe=me[1],be=Object(s.useState)(24),_e=Object(l.a)(be,2),he=_e[0],fe=_e[1],xe=Object(s.useState)(0),Ne=Object(l.a)(xe,2),ke=Ne[0],ye=Ne[1],we=Object(s.useState)(24),Ce=Object(l.a)(we,2),Te=Ce[0],Se=Ce[1],Ie=Object(s.useContext)(o),He=Ie.bookingStage,Fe=Ie.trainsInfo,Me=Ie.seatsInfo;Object(s.useEffect)((function(){n(Z(Fe.params.dateStart))}),[Fe.params.dateStart]),Object(s.useEffect)((function(){j(Z(Fe.params.dateEnd))}),[Fe.params.dateEnd]),Object(s.useEffect)((function(){h(!!("trains"===He?Fe.params.haveFirstClass:Me.params.haveFirstClass))}),[He,Fe.params.haveFirstClass,Me.params.haveFirstClass]),Object(s.useEffect)((function(){v(!!("trains"===He?Fe.params.haveSecondClass:Me.params.haveSecondClass))}),[He,Fe.params.haveSecondClass,Me.params.haveSecondClass]),Object(s.useEffect)((function(){y(!!("trains"===He?Fe.params.haveThirdClass:Me.params.haveThirdClass))}),[He,Fe.params.haveThirdClass,Me.params.haveThirdClass]),Object(s.useEffect)((function(){S(!!("trains"===He?Fe.params.haveFourthClass:Me.params.haveFourthClass))}),[He,Fe.params.haveFourthClass,Me.params.haveFourthClass]),Object(s.useEffect)((function(){M(!!("trains"===He?Fe.params.haveWifi:Me.params.haveWifi))}),[He,Fe.params.haveWifi,Me.params.haveWifi]),Object(s.useEffect)((function(){Y(!!("trains"===He?Fe.params.isExpress:Me.params.isExpress))}),[He,Fe.params.isExpress,Me.params.isExpress]),Object(s.useEffect)((function(){void 0!==Fe.params.priceFrom&&L(Fe.params.priceFrom)}),[Fe.params.priceFrom]),Object(s.useEffect)((function(){void 0!==Fe.params.priceTo&&J(Fe.params.priceTo)}),[Fe.params.priceTo]),Object(s.useEffect)((function(){void 0!==Fe.params.startDepartureHourFrom&&Q(Fe.params.startDepartureHourFrom)}),[Fe.params.startDepartureHourFrom]),Object(s.useEffect)((function(){void 0!==Fe.params.startDepartureHourTo&&ae(Fe.params.startDepartureHourTo)}),[Fe.params.startDepartureHourTo]),Object(s.useEffect)((function(){void 0!==Fe.params.startArrivalHourFrom&&ne(Fe.params.startArrivalHourFrom)}),[Fe.params.startArrivalHourFrom]),Object(s.useEffect)((function(){void 0!==Fe.params.startArrivalHourTo&&de(Fe.params.startArrivalHourTo)}),[Fe.params.startArrivalHourTo]),Object(s.useEffect)((function(){void 0!==Fe.params.endDepartureHourFrom&&pe(Fe.params.endDepartureHourFrom)}),[Fe.params.endDepartureHourFrom]),Object(s.useEffect)((function(){void 0!==Fe.params.endDepartureHourTo&&fe(Fe.params.endDepartureHourTo)}),[Fe.params.endDepartureHourTo]),Object(s.useEffect)((function(){void 0!==Fe.params.endArrivalHourFrom&&ye(Fe.params.endArrivalHourFrom)}),[Fe.params.endArrivalHourFrom]),Object(s.useEffect)((function(){void 0!==Fe.params.endArrivalHourTo&&Se(Fe.params.endArrivalHourTo)}),[Fe.params.endArrivalHourTo]);var De={departureHourFrom:$,departureHourTo:te,arrivalHourFrom:ce,arrivalHourTo:oe},Ee={departureHourFrom:je,departureHourTo:he,arrivalHourFrom:ke,arrivalHourTo:Te},Pe={setDepartureHourFrom:Q,setDepartureHourTo:ae,setArrivalHourFrom:ne,setArrivalHourTo:de},Ye={setDepartureHourFrom:pe,setDepartureHourTo:fe,setArrivalHourFrom:ye,setArrivalHourTo:Se};return Object(d.jsxs)("div",{className:"trains-params",children:[Object(d.jsxs)("section",{className:"trains-params__dates",children:[Object(d.jsxs)("label",{className:"trains-params__date-title",children:["\u0414\u0430\u0442\u0430 \u043f\u043e\u0435\u0437\u0434\u043a\u0438",Object(d.jsx)("div",{className:"trains-params__date-container",children:Object(d.jsx)(K,{name:"start-date",value:c,placeholder:"\u0414\u0414 \u041c\u041c \u0413\u0413\u0413\u0413",setValue:function(e){n(e),e?10===e.length&&t({dateStart:ee(e),offset:0}):t({dateStart:"",offset:0})},isMini:!0,isDisabled:!("trains"===He&&"forward"===Fe.params.direction)})})]}),Object(d.jsxs)("label",{className:"trains-params__date-title",children:["\u0414\u0430\u0442\u0430 \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0435\u043d\u0438\u044f",Object(d.jsx)("div",{className:"trains-params__date-container",children:Object(d.jsx)(K,{name:"end-date",value:m,placeholder:"\u0414\u0414 \u041c\u041c \u0413\u0413\u0413\u0413",setValue:function(e){j(e),e?10===e.length&&t({dateEnd:ee(e),offset:0}):t({dateEnd:"",offset:0})},isMini:!0,isDisabled:!("trains"===He&&"backward"===Fe.params.direction)})})]})]}),Object(d.jsxs)("section",{className:"trains-params__options",children:[Object(d.jsx)("div",{className:"trains-params__option",children:Object(d.jsx)(Oe,{iconName:"second-class",iconWidth:17,iconHeight:17,name:"\u041a\u0443\u043f\u0435",value:O,setValue:function(e){v(e),t({haveSecondClass:e,offset:0})}})}),Object(d.jsx)("div",{className:"trains-params__option",children:Object(d.jsx)(Oe,{iconName:"third-class",iconWidth:17,iconHeight:17,name:"\u041f\u043b\u0430\u0446\u043a\u0430\u0440\u0442",value:k,setValue:function(e){y(e),t({haveThirdClass:e,offset:0})}})}),Object(d.jsx)("div",{className:"trains-params__option",children:Object(d.jsx)(Oe,{iconName:"fourth-class",iconWidth:14,iconHeight:23,name:"\u0421\u0438\u0434\u044f\u0447\u0438\u0439",value:T,setValue:function(e){S(e),t({haveFourthClass:e,offset:0})}})}),Object(d.jsx)("div",{className:"trains-params__option",children:Object(d.jsx)(Oe,{iconName:"first-class",iconWidth:22,iconHeight:20,name:"\u041b\u044e\u043a\u0441",value:_,setValue:function(e){h(e),t({haveFirstClass:e,offset:0})}})}),Object(d.jsx)("div",{className:"trains-params__option",children:Object(d.jsx)(Oe,{iconName:"wifi",iconWidth:24,iconHeight:19,name:"Wi-Fi",value:F,setValue:function(e){M(e),t({haveWifi:e,offset:0})}})}),Object(d.jsx)("div",{className:"trains-params__option",children:Object(d.jsx)(Oe,{iconName:"express",iconWidth:20,iconHeight:20,name:"\u042d\u043a\u0441\u043f\u0440\u0435\u0441\u0441",value:P,setValue:function(e){Y(e),t({isExpress:e,offset:0})}})})]}),Object(d.jsxs)("section",{className:"trains-params__price",children:[Object(d.jsx)("p",{className:"trains-params__price-title",children:"\u0421\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c"}),Object(d.jsx)("div",{className:"trains-params__price-range-bar",children:Object(d.jsx)(ve,{minValue:V,maxValue:X,setMinValue:L,setMaxValue:J,changeRange:function(e,a){t({priceFrom:e,priceTo:a,offset:0})},isDisabled:"trains"!==He})})]}),Object(d.jsx)("section",{className:"trains-params__times",children:Object(d.jsx)(ge,{times:De,setTimes:Pe,changeTimes:function(e){t({startDepartureHourFrom:e.departureHourFrom,startDepartureHourTo:e.departureHourTo,startArrivalHourFrom:e.arrivalHourFrom,startArrivalHourTo:e.arrivalHourTo,offset:0})},isStart:!0,isDisabled:!("trains"===He&&"forward"===Fe.params.direction)})}),Object(d.jsx)("section",{className:"trains-params__times",children:Object(d.jsx)(ge,{times:Ee,setTimes:Ye,changeTimes:function(e){t({endDepartureHourFrom:e.departureHourFrom,endDepartureHourTo:e.departureHourTo,endArrivalHourFrom:e.arrivalHourFrom,endArrivalHourTo:e.arrivalHourTo,offset:0})},isStart:!1,isDisabled:!("trains"===He&&"backward"===Fe.params.direction)})})]})};a(68),a(69),a(70);var ye=function(e){var t=e.haveWifi,a=e.isExpress,s=e.haveFood,r=e.darkColor,c="option-icons__icon option-icons__icon_".concat(r?"dark":"light");return Object(d.jsxs)("div",{className:"option-icons",children:[t&&Object(d.jsx)("div",{className:"option-icons__container",children:Object(d.jsx)("svg",{className:c,width:"20",height:"16",children:Object(d.jsx)("use",{xlinkHref:xe+"#wifi"})})}),a&&Object(d.jsx)("div",{className:"option-icons__container",children:Object(d.jsx)("svg",{className:c,width:"20",height:"20",children:Object(d.jsx)("use",{xlinkHref:xe+"#express"})})}),s&&Object(d.jsx)("div",{className:"option-icons__container",children:Object(d.jsx)("svg",{className:c,width:"20",height:"18",children:Object(d.jsx)("use",{xlinkHref:xe+"#food"})})})]})};var we=function(e){var t=e.route.departure,a=t.from,s=t.to,r=t.have_wifi,c=t.is_express,n=t.min_price;return Object(d.jsxs)("div",{className:"last-routes-item",children:[Object(d.jsxs)("div",{className:"last-routes-item__city-names",children:[Object(d.jsx)("p",{className:"last-routes-item__city-name-from",children:a.city.name}),Object(d.jsx)("p",{className:"last-routes-item__city-name-to",children:s.city.name})]}),Object(d.jsxs)("div",{className:"last-routes-item__station-names",children:[Object(d.jsx)("p",{className:"last-routes-item__station-name-from",children:a.railway_station_name}),Object(d.jsx)("p",{className:"last-routes-item__station-name-to",children:s.railway_station_name})]}),Object(d.jsxs)("div",{className:"last-routes-item__min-price",children:[Object(d.jsx)(ye,{haveWifi:r,isExpress:c,haveFood:!0,darkColor:!1}),Object(d.jsx)("p",{className:"last-routes-item__before-price",children:"\u043e\u0442"}),Object(d.jsx)("p",{className:"last-routes-item__price",children:G(n)}),Object(d.jsx)("p",{className:"last-routes-item__after-price",children:"\u20bd"})]})]})};var Ce=function(){var e=Object(s.useContext)(o).trainsInfo;return Object(d.jsxs)("div",{className:"last-routes",children:[Object(d.jsx)("h3",{className:"last-routes__title",children:"\u041f\u043e\u0441\u043b\u0435\u0434\u043d\u0438\u0435 \u0431\u0438\u043b\u0435\u0442\u044b"}),Object(d.jsx)("div",{className:"last-routes__list",children:e.lastRoutes.map((function(e){return Object(d.jsx)(we,{route:e},B.a.generate())}))})]})};a(71),a(72),a(73);var Te=function(e){var t=e.classNumber,a=e.seatsCount,s=e.priceInfo,r=s.top_price,c=void 0===r?1/0:r,n=s.bottom_price,i=void 0===n?1/0:n,l=s.side_price,o=void 0===l?1/0:l;return Object(d.jsxs)("div",{className:"train-class-seats-info",children:[Object(d.jsx)("p",{className:"train-class-seats-info__class-name",children:["\u041b\u044e\u043a\u0441","\u041a\u0443\u043f\u0435","\u041f\u043b\u0430\u0446\u043a\u0430\u0440\u0442","\u0421\u0438\u0434\u044f\u0447\u0438\u0439"][t-1]}),Object(d.jsx)("p",{className:"train-class-seats-info__seats-count",children:a}),Object(d.jsx)("p",{className:"train-class-seats-info__before-price",children:"\u043e\u0442"}),Object(d.jsx)("p",{className:"train-class-seats-info__price",children:G(Math.min(c,i,o))}),Object(d.jsx)("p",{className:"train-class-seats-info__after-price",children:"\u20bd"})]})};var Se=function(e){var t=e.trainInfo,a=e.isForward,r=e.reloadInfo,c=e.loadSeats,n=e.isConfirmation,i=t.from,l=t.to,u=t.train,m=t.duration,j=t.have_first_class,f=t.have_second_class,x=t.have_third_class,O=t.have_fourth_class,v=t.available_seats_info,N=t.price_info,g=t.have_wifi,k=t.is_express,y=t._id,w=Object(s.useContext)(o),C=w.setAnimation,T=w.setPopup,S=w.trainsInfo,I=w.setTrainsInfo,H=w.forwardTrain,F=w.setForwardTrain,M=w.backwardTrain,D=w.setBackwardTrain,E=Object(h.f)(),P=function(){var e=Object(b.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ae(C,T,I,Object(_.a)(Object(_.a)({},S.params),{},{offset:0,direction:a?"forward":"backward"}));case 2:e.sent&&E.push("/fe-diploma/run/trains");case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Y=function(){var e=Object(b.a)(p.a.mark((function e(){var s;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=JSON.stringify(t),a?(F(JSON.parse(s)),localStorage.setItem("forwardTrain",s)):(D(JSON.parse(s)),localStorage.setItem("backwardTrain",s)),!a||M){e.next=6;break}r({direction:"backward",offset:0}),e.next=17;break;case 6:if(!a){e.next=12;break}return e.next=9,c(y,M._id);case 9:e.t0=e.sent,e.next=15;break;case 12:return e.next=14,c(H._id,y);case 14:e.t0=e.sent;case 15:e.t0&&E.push("/fe-diploma/run/seats");case 17:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(d.jsxs)("div",{className:"trains-list-item",children:[n&&Object(d.jsxs)("h3",{className:"trains-list-item__title",children:["\u041f\u043e\u0435\u0437\u0434 ",a?"\u0442\u0443\u0434\u0430":"\u043e\u0431\u0440\u0430\u0442\u043d\u043e"]}),Object(d.jsxs)("div",{className:"trains-list-item__body",children:[Object(d.jsxs)("div",{className:"trains-list-item__left",children:[Object(d.jsx)("div",{className:"trains-list-item__icon-container",children:Object(d.jsx)("svg",{className:"trains-list-item__icon",width:"44",height:"52",children:Object(d.jsx)("use",{xlinkHref:xe+"#train-face"})})}),Object(d.jsx)("p",{className:"trains-list-item__train-number",children:u._id}),Object(d.jsxs)("div",{className:"trains-list-item__train-properties",children:[Object(d.jsxs)("p",{className:"trains-list-item__train-property",children:[i.city.name," \u2192"]}),Object(d.jsx)("p",{className:"trains-list-item__train-property",children:l.city.name}),Object(d.jsx)("p",{className:"trains-list-item__train-property",children:u.name&&"\xab".concat(u.name,"\xbb")})]})]}),Object(d.jsxs)("div",{className:"trains-list-item__middle",children:[Object(d.jsxs)("div",{className:"trains-list-item__middle-from",children:[Object(d.jsx)("p",{className:"trains-list-item__time",children:Q(a?i.datetime:l.datetime)}),Object(d.jsx)("p",{className:"trains-list-item__date",children:$(a?i.datetime:l.datetime)}),Object(d.jsx)("p",{className:"trains-list-item__city",children:a?i.city.name:l.city.name}),Object(d.jsx)("p",{className:"trains-list-item__station",children:a?i.railway_station_name:l.railway_station_name})]}),Object(d.jsxs)("div",{className:"trains-list-item__middle-way",children:[Object(d.jsx)("p",{className:"trains-list-item__duration",children:z(m)}),Object(d.jsx)("svg",{className:"trains-list-item__arrow"+(a?"":" trains-list-item__arrow_mirror"),width:"30",height:"20",children:Object(d.jsx)("use",{xlinkHref:xe+"#arrow"})})]}),Object(d.jsxs)("div",{className:"trains-list-item__middle-to",children:[Object(d.jsx)("p",{className:"trains-list-item__time",children:Q(a?l.datetime:i.datetime)}),Object(d.jsx)("p",{className:"trains-list-item__date",children:$(a?l.datetime:i.datetime)}),Object(d.jsx)("p",{className:"trains-list-item__city",children:a?l.city.name:i.city.name}),Object(d.jsx)("p",{className:"trains-list-item__station",children:a?l.railway_station_name:i.railway_station_name})]})]}),Object(d.jsxs)("div",{className:"trains-list-item__right",children:[Object(d.jsxs)("div",{className:"trains-list-item__seats-info",children:[O&&Object(d.jsx)("div",{className:"trains-list-item__train-class-seats-info",children:Object(d.jsx)(Te,{classNumber:4,seatsCount:v.fourth,priceInfo:N.fourth})}),x&&Object(d.jsx)("div",{className:"trains-list-item__train-class-seats-info",children:Object(d.jsx)(Te,{classNumber:3,seatsCount:v.third,priceInfo:N.third})}),f&&Object(d.jsx)("div",{className:"trains-list-item__train-class-seats-info",children:Object(d.jsx)(Te,{classNumber:2,seatsCount:v.second,priceInfo:N.second})}),j&&Object(d.jsx)("div",{className:"trains-list-item__train-class-seats-info",children:Object(d.jsx)(Te,{classNumber:1,seatsCount:v.first,priceInfo:N.first})})]}),Object(d.jsx)("div",{className:"trains-list-item__option-icons",children:Object(d.jsx)(ye,{haveWifi:g,isExpress:k,haveFood:!0,darkColor:!0})}),n?Object(d.jsx)("button",{className:"trains-list-item__button trains-list-item__button_return",type:"button",onClick:P,children:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c"}):Object(d.jsx)("button",{className:"trains-list-item__button trains-list-item__button_next",type:"button",onClick:Y,children:"\u0412\u044b\u0431\u0440\u0430\u0442\u044c \u043c\u0435\u0441\u0442\u0430"})]})]})]})};a(74);var Ie=function(e){var t=e.totalCount,a=e.limit,r=e.offset,c=e.reloadInfo,n=Object(s.useState)(0),i=Object(l.a)(n,2),o=i[0],u=i[1],m=Object(s.useState)(0),j=Object(l.a)(m,2),p=j[0],b=j[1],_=Object(s.useState)(1),h=Object(l.a)(_,2),f=h[0],x=h[1];if(Object(s.useEffect)((function(){u(Math.floor(r/a)),b(Math.ceil(t/a)),r||x(1)}),[t,a,r]),p<2)return null;var O=p>5,v=[];if(!O)for(var N=1;N<=p;N++)v.push(N);var g="select-trains-page__button",k=g+" select-trains-page__button_active",y=function(e){e!==o&&(e||x(1),e===p-1&&x(p-3),u(e),c({offset:e*a}))};return Object(d.jsxs)("div",{className:"select-trains-page",children:[Object(d.jsx)("button",{className:g,type:"button",onClick:function(){if(!(o<1)){var e=o-1;e<f&&f>1&&x(e),u(e),c({offset:e*a})}},children:"<"}),O?Object(d.jsxs)(s.Fragment,{children:[Object(d.jsx)("button",{className:0===o?k:g,type:"button",onClick:function(){return y(0)},children:"1"}),f>1&&Object(d.jsx)("button",{className:g,type:"button",onClick:function(){var e=f-2;e<1&&(e=1),x(e),u(e),c({offset:e*a})},children:"..."}),Object(d.jsx)("button",{className:o===f?k:g,type:"button",onClick:function(){return y(f)},children:f+1}),Object(d.jsx)("button",{className:o===f+1?k:g,type:"button",onClick:function(){return y(f+1)},children:f+2}),f<p-3&&Object(d.jsx)("button",{className:g,type:"button",onClick:function(){var e=f+2;e>p-3&&(e=p-3),x(e),u(e+1),c({offset:(e+1)*a})},children:"..."}),Object(d.jsx)("button",{className:o===p-1?k:g,type:"button",onClick:function(){return y(p-1)},children:p})]}):v.map((function(e,t){return Object(d.jsx)("button",{className:t===o?k:g,type:"button",onClick:function(){return y(t)},children:e},B.a.generate())})),Object(d.jsx)("button",{className:"select-trains-page__button",type:"button",onClick:function(){if(!(o>p-2)){var e=o+1;e>f+1&&f<p-3&&x(e-1),u(e),c({offset:e*a})}},children:">"})]})};var He=function(e){var t=e.reloadInfo,a=e.loadSeats,r=Object(s.useState)(0),c=Object(l.a)(r,2),n=c[0],i=c[1],u=Object(s.useState)(0),m=Object(l.a)(u,2),j=m[0],p=m[1],b=Object(s.useState)(!1),_=Object(l.a)(b,2),h=_[0],f=_[1],x=Object(s.useContext)(o).trainsInfo;Object(s.useEffect)((function(){switch(x.params.sort){case"price_":i(1);break;case"duration":i(2);break;default:i(0)}}),[x.params.sort]),Object(s.useEffect)((function(){switch(+x.params.limit){case 10:p(1);break;case 20:p(2);break;default:p(0)}}),[x.params.limit]);var O="forward"===x.params.direction,v=O?x.forwardTrainsInfo.items:x.backwardTrainsInfo.items,N=O?"\u0442\u0443\u0434\u0430: ".concat(x.forwardTrainsInfo.total_count):"\u043e\u0431\u0440\u0430\u0442\u043d\u043e: ".concat(x.backwardTrainsInfo.total_count),g=[{mode:"date",name:"\u0432\u0440\u0435\u043c\u0435\u043d\u0438"},{mode:"price_",name:"\u0441\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u0438"},{mode:"duration",name:"\u0434\u043b\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u0438"}],k=[5,10,20];return Object(d.jsxs)("div",{className:"trains-list",children:[Object(d.jsxs)("div",{className:"trains-list__menu",children:[Object(d.jsxs)("p",{className:"trains-list__menu-count",children:["\u043d\u0430\u0439\u0434\u0435\u043d\u043e \u043f\u043e\u0435\u0437\u0434\u043e\u0432 ",N]}),Object(d.jsx)("p",{className:"trains-list__menu-sort-title",children:"\u0441\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u043e:"}),Object(d.jsxs)("div",{className:"trains-list__menu-sort-value-container",children:[Object(d.jsx)("p",{className:"trains-list__menu-sort-value",onClick:function(){return f(!0)},children:g[n].name}),h&&Object(d.jsx)("ul",{className:"trains-list__menu-sort-list",children:g.map((function(e,a){return Object(d.jsx)("li",{className:"trains-list__menu-sort-list-item",onClick:function(){return e=a,f(!1),i(e),void t({sort:g[e].mode});var e},children:e.name},a)}))})]}),Object(d.jsx)("p",{className:"trains-list__menu-limit-title",children:"\u043f\u043e\u043a\u0430\u0437\u044b\u0432\u0430\u0442\u044c \u043f\u043e:"}),k.map((function(e,a){return Object(d.jsx)("p",{className:"trains-list__menu-limit-value"+(a===j?" trains-list__menu-limit-value_active":""),onClick:function(){return p(e=a),void t({limit:k[e],offset:0});var e},children:e},a)}))]}),Object(d.jsx)("div",{className:"trains-list__list",children:!!v.length&&v.map((function(e){return Object(d.jsx)(Se,{trainInfo:e.departure,isForward:O,reloadInfo:t,loadSeats:a,isConfirmation:!1},B.a.generate())}))}),Object(d.jsx)("div",{className:"trains-list__select-page",children:Object(d.jsx)(Ie,{totalCount:O?x.forwardTrainsInfo.total_count:x.backwardTrainsInfo.total_count,limit:x.params.limit,offset:x.params.offset,reloadInfo:t})})]})};function Fe(e,t,a,s){return Me.apply(this,arguments)}function Me(){return(Me=Object(b.a)(p.a.mark((function e(t,a,s,r){var c,n,i,l,o,d,u,m,j,b,_,h,f,x;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({loading:!0,text:"\u0418\u0434\u0451\u0442 \u043f\u043e\u0438\u0441\u043a"}),l=r.forwardTrainId,o=r.backwardTrainId,d=r.haveFirstClass,u=r.haveSecondClass,m=r.haveThirdClass,j=r.haveFourthClass,b=r.haveWifi,_=r.haveAirConditioning,h=r.isExpress,f={},d&&(f.have_first_class=!0),u&&(f.have_second_class=!0),m&&(f.have_third_class=!0),j&&(f.have_fourth_class=!0),b&&(f.have_wifi=!0),_&&(f.have_air_conditioning=!0),h&&(f.is_express=!0),e.next=12,I(l,f);case 12:if((c=e.sent).ok){e.next=17;break}return t({loading:!1}),O(a,c),e.abrupt("return",!1);case 17:return e.prev=17,e.next=20,c.json();case 20:n=e.sent,e.next=28;break;case 23:return e.prev=23,e.t0=e.catch(17),t({loading:!1}),v(a),e.abrupt("return",!1);case 28:return e.next=30,I(o,f);case 30:if((c=e.sent).ok){e.next=35;break}return t({loading:!1}),O(a,c),e.abrupt("return",!1);case 35:return e.prev=35,e.next=38,c.json();case 38:i=e.sent,e.next=46;break;case 41:return e.prev=41,e.t1=e.catch(35),t({loading:!1}),v(a),e.abrupt("return",!1);case 46:return s(x={params:r,forwardSeatsInfo:n,backwardSeatsInfo:i}),localStorage.setItem("seatsInfo",JSON.stringify(x)),t({loading:!1}),e.abrupt("return",!0);case 51:case"end":return e.stop()}}),e,null,[[17,23],[35,41]])})))).apply(this,arguments)}var De=function(){var e=Object(s.useContext)(o),t=e.setBookingStage,a=e.setAnimation,r=e.setPopup,c=e.trainsInfo,n=e.setTrainsInfo,i=e.setSeatsInfo;Object(s.useEffect)((function(){t("trains")}),[t]);var l=function(){var e=Object(b.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ae(a,r,n,Object(_.a)(Object(_.a)({},c.params),t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),u=function(){var e=Object(b.a)(p.a.mark((function e(t,s){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Fe(a,r,i,{forwardTrainId:t,backwardTrainId:s});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();return Object(d.jsxs)("main",{className:"trains",children:[Object(d.jsx)(fe,{stepNumber:1}),Object(d.jsxs)("div",{className:"trains__main",children:[Object(d.jsxs)("section",{className:"trains__left",children:[Object(d.jsx)(ke,{reloadInfo:l}),Object(d.jsx)(Ce,{})]}),Object(d.jsx)("section",{className:"trains__right",children:Object(d.jsx)(He,{reloadInfo:l,loadSeats:u})})]})]})};a(75),a(76),a(77);var Ee=function(e){var t=e.trainInfo,a=e.isForward,s=t.from,r=t.to,c=t.train,n=function(e){var t=+e,a=Math.trunc(t/60)%60,s=Math.trunc(t/3600);switch(s%100){case 11:case 12:case 13:case 14:s+=" \u0447\u0430\u0441\u043e\u0432";break;default:switch(s%10){case 1:s+=" \u0447\u0430\u0441";break;case 2:case 3:case 4:s+=" \u0447\u0430\u0441\u0430";break;default:s+=" \u0447\u0430\u0441\u043e\u0432"}}switch(a){case 11:case 12:case 13:case 14:a+=" \u043c\u0438\u043d\u0443\u0442";break;default:switch(a%10){case 1:a+=" \u043c\u0438\u043d\u0443\u0442\u0430";break;case 2:case 3:case 4:a+=" \u043c\u0438\u043d\u0443\u0442\u044b";break;default:a+=" \u043c\u0438\u043d\u0443\u0442"}}return{hour:s,min:a}}(t.duration);return Object(d.jsxs)("div",{className:"train-seats-header",children:[Object(d.jsxs)("div",{className:"train-seats-header__left",children:[Object(d.jsx)("div",{className:"train-seats-header__left-icon-container",children:Object(d.jsx)("svg",{className:"train-seats-header__icon",width:"15",height:"18",children:Object(d.jsx)("use",{xlinkHref:xe+"#train-face"})})}),Object(d.jsxs)("div",{className:"train-seats-header__text-container",children:[Object(d.jsx)("p",{className:"train-seats-header__train-number",children:c._id}),Object(d.jsxs)("div",{className:"train-seats-header__train-properties",children:[Object(d.jsxs)("p",{className:"train-seats-header__train-property",children:[s.city.name," \u2192"]}),Object(d.jsx)("p",{className:"train-seats-header__train-property",children:r.city.name}),Object(d.jsx)("p",{className:"train-seats-header__train-property",children:c.name&&"\xab".concat(c.name,"\xbb")})]})]})]}),Object(d.jsxs)("div",{className:"train-seats-header__middle",children:[Object(d.jsxs)("div",{className:"train-seats-header__middle-from",children:[Object(d.jsx)("p",{className:"train-seats-header__time",children:Q(a?s.datetime:r.datetime)}),Object(d.jsx)("p",{className:"train-seats-header__date",children:$(a?s.datetime:r.datetime)}),Object(d.jsx)("p",{className:"train-seats-header__city",children:a?s.city.name:r.city.name}),Object(d.jsx)("p",{className:"train-seats-header__station",children:a?s.railway_station_name:r.railway_station_name})]}),Object(d.jsx)("svg",{className:"train-seats-header__arrow"+(a?"":" train-seats-header__arrow_mirror"),width:"30",height:"20",children:Object(d.jsx)("use",{xlinkHref:xe+"#arrow"})}),Object(d.jsxs)("div",{className:"train-seats-header__middle-to",children:[Object(d.jsx)("p",{className:"train-seats-header__time",children:Q(a?r.datetime:s.datetime)}),Object(d.jsx)("p",{className:"train-seats-header__date",children:$(a?r.datetime:s.datetime)}),Object(d.jsx)("p",{className:"train-seats-header__city",children:a?r.city.name:s.city.name}),Object(d.jsx)("p",{className:"train-seats-header__station",children:a?r.railway_station_name:s.railway_station_name})]})]}),Object(d.jsxs)("div",{className:"train-seats-header__right",children:[Object(d.jsx)("svg",{className:"train-seats-header__icon-clock",width:"30",height:"30",children:Object(d.jsx)("use",{xlinkHref:xe+"#clock"})}),Object(d.jsxs)("p",{className:"train-seats-header__duration",children:[n.hour,Object(d.jsx)("br",{}),n.min]})]})]})};a(78);var Pe=function(e){var t=e.seatsState,a=e.setSeatsState,s=t.fullTicketsCount+t.childTicketsCount+t.parentTicketsCount,r="seats-count__types-item"+("full"===t.curTicketType?" seats-count__types-item_active":""),c="seats-count__types-item"+("child"===t.curTicketType?" seats-count__types-item_active":""),n="seats-count__types-item"+("parent"===t.curTicketType?" seats-count__types-item_active":""),i=function(e){a(Object(_.a)(Object(_.a)({},t),{},{curTicketType:e}))};return Object(d.jsxs)("div",{className:"seats-count",children:[Object(d.jsx)("h3",{className:"seats-count__title",children:"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0431\u0438\u043b\u0435\u0442\u043e\u0432"}),Object(d.jsxs)("div",{className:"seats-count__types-list",children:[Object(d.jsxs)("div",{className:r,onClick:function(){return i("full")},children:[Object(d.jsxs)("p",{className:"seats-count__type-count",children:["\u0412\u0437\u0440\u043e\u0441\u043b\u044b\u0445 - ",t.fullTicketsCount+t.parentTicketsCount]}),Object(d.jsxs)("p",{className:"seats-count__type-description",children:["\u041c\u043e\u0436\u043d\u043e \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0435\u0449\u0451",Object(d.jsx)("br",{}),6-s," \u043f\u0430\u0441\u0441\u0430\u0436\u0438\u0440\u043e\u0432"]})]}),Object(d.jsxs)("div",{className:c,onClick:function(){return i("child")},children:[Object(d.jsxs)("p",{className:"seats-count__type-count",children:["\u0414\u0435\u0442\u0441\u043a\u0438\u0445 - ",t.childTicketsCount]}),Object(d.jsxs)("p",{className:"seats-count__type-description",children:["\u041c\u043e\u0436\u043d\u043e \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0435\u0449\u0435 ",6-s," \u0434\u0435\u0442\u0435\u0439 \u0434\u043e 10 \u043b\u0435\u0442. \u0421\u0432\u043e\u0435 \u043c\u0435\u0441\u0442\u043e \u0432 \u0432\u0430\u0433\u043e\u043d\u0435, \u043a\u0430\u043a \u0443 \u0432\u0437\u0440\u043e\u0441\u043b\u044b\u0445, \u043d\u043e \u0434\u0435\u0448\u0435\u0432\u043b\u0435 \u0432 \u0441\u0440\u0435\u0434\u043d\u0435\u043c \u043d\u0430 50-65%"]})]}),Object(d.jsxs)("div",{className:n,onClick:function(){return i("parent")},children:[Object(d.jsxs)("p",{className:"seats-count__type-count",children:["\u0414\u0435\u0442\u0441\u043a\u0438\u0445 \xab\u0431\u0435\u0437 \u043c\u0435\u0441\u0442\u0430\xbb - ",t.parentTicketsCount]}),Object(d.jsx)("p",{className:"seats-count__type-description",children:"\u0410\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438 \u0434\u043e\u0431\u0430\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u0432\u0437\u0440\u043e\u0441\u043b\u044b\u0439 \u0431\u0438\u043b\u0435\u0442"})]})]})]})},Ye=(a(79),a(80),a(14));a(81);function Ae(e){var t={};switch(t.index=e.coach._id%15+1,e.coach.class_type){case"first":t.classNumber=1,t.seatsMap=function(e){for(var t=[],a=0;a<16;a++)t.push({available:!1,selected:!1,isTop:!1,price:e.coach.price,width:26,height:58,top:29,paddingTop:34});return t[0].left=134,t[1].left=194,t[2].left=223,t[3].left=283,t[4].left=312,t[5].left=373,t[6].left=402,t[7].left=462,t[8].left=491,t[9].left=552,t[10].left=581,t[11].left=641,t[12].left=670,t[13].left=731,t[14].left=760,t[15].left=820,e.seats.forEach((function(e){e.available&&e.index<=16&&(t[e.index-1].available=!0)})),t}(e);break;case"second":t.classNumber=2,t.seatsMap=function(e){for(var t=[],a=0;a<32;a++)t.push({available:!1,selected:!1,isTop:a%2,price:a%2?e.coach.top_price:e.coach.bottom_price,width:26,height:29,top:a%2?29:58,paddingTop:5});return t[0].left=133,t[1].left=133,t[2].left=194,t[3].left=194,t[4].left=223,t[5].left=223,t[6].left=283,t[7].left=283,t[8].left=312,t[9].left=312,t[10].left=373,t[11].left=373,t[12].left=402,t[13].left=402,t[14].left=462,t[15].left=462,t[16].left=491,t[17].left=491,t[18].left=552,t[19].left=552,t[20].left=581,t[21].left=581,t[22].left=641,t[23].left=641,t[24].left=670,t[25].left=670,t[26].left=731,t[27].left=731,t[28].left=760,t[29].left=760,t[30].left=820,t[31].left=820,e.seats.forEach((function(e){e.available&&e.index<=32&&(t[e.index-1].available=!0)})),t}(e);break;case"third":t.classNumber=3,t.seatsMap=function(e){for(var t=[],a=0;a<48;a++)t.push({available:!1,selected:!1,isTop:a%2,price:a%2?e.coach.top_price:e.coach.bottom_price,width:a>31?43:26,height:a>31?25:31,top:a>31?113:a%2?29:60,paddingTop:a>31?2:5});return t[0].left=133,t[1].left=133,t[2].left=194,t[3].left=194,t[4].left=223,t[5].left=223,t[6].left=283,t[7].left=283,t[8].left=312,t[9].left=312,t[10].left=373,t[11].left=373,t[12].left=402,t[13].left=402,t[14].left=462,t[15].left=462,t[16].left=491,t[17].left=491,t[18].left=552,t[19].left=552,t[20].left=581,t[21].left=581,t[22].left=641,t[23].left=641,t[24].left=670,t[25].left=670,t[26].left=731,t[27].left=731,t[28].left=760,t[29].left=760,t[30].left=820,t[31].left=820,t[32].left=133,t[33].left=176,t[34].left=223,t[35].left=266,t[36].left=312,t[37].left=355,t[38].left=402,t[39].left=445,t[40].left=491,t[41].left=534,t[42].left=581,t[43].left=624,t[44].left=670,t[45].left=713,t[46].left=760,t[47].left=803,e.seats.forEach((function(e){e.available&&e.index<=48&&(t[e.index-1].available=!0)})),t}(e);break;default:t.classNumber=4,t.seatsMap=function(e){for(var t=[],a=0;a<62;a++){switch(t.push({available:!1,selected:!1,isTop:!1,price:e.coach.bottom_price,width:26,height:20,paddingTop:0}),a+1){case 2:case 4:case 6:case 8:case 10:case 12:case 14:case 16:case 18:case 20:case 22:case 24:case 26:case 28:case 30:case 32:t[a].top=32;break;case 1:case 3:case 5:case 7:case 9:case 11:case 13:case 15:case 17:case 19:case 21:case 23:case 25:case 27:case 29:case 31:t[a].top=53;break;case 34:case 36:case 38:case 40:case 42:case 44:case 46:case 48:case 50:case 52:case 54:case 56:case 58:case 60:t[a].top=92;break;case 33:case 35:case 37:case 39:case 41:case 43:case 45:case 47:case 49:case 51:case 53:case 55:case 57:case 59:case 61:case 62:t[a].top=113}switch(a+1){case 2:case 1:case 33:t[a].left=144;break;case 4:case 3:case 34:case 35:t[a].left=189;break;case 6:case 5:case 36:case 37:t[a].left=233;break;case 8:case 7:case 38:case 39:t[a].left=277;break;case 10:case 9:case 40:case 41:t[a].left=321;break;case 12:case 11:case 42:case 43:t[a].left=365;break;case 14:case 13:case 44:case 45:t[a].left=409;break;case 16:case 15:case 46:case 47:t[a].left=453;break;case 18:case 17:case 48:case 49:t[a].left=497;break;case 20:case 19:case 50:case 51:t[a].left=541;break;case 22:case 21:case 52:case 53:t[a].left=585;break;case 24:case 23:case 54:case 55:t[a].left=629;break;case 26:case 25:case 56:case 57:t[a].left=672;break;case 28:case 27:case 58:case 59:t[a].left=717;break;case 30:case 29:case 60:case 61:t[a].left=761;break;case 32:case 31:case 62:t[a].left=805}}return e.seats.forEach((function(e){e.available&&e.index<=62&&(t[e.index-1].available=!0)})),t}(e)}return t.price=e.coach.price,t.topPrice=e.coach.top_price,t.bottomPrice=e.coach.bottom_price,t.haveAirConditioning=e.coach.have_air_conditioning,t.haveWifi=e.coach.have_wifi,t.isLinensIncluded=e.coach.is_linens_included,t.haveFood=e.coach.have_food,t.wifiPrice=e.coach.wifi_price,t.linensPrice=e.coach.linens_price,t.coachId=e.coach._id,t}function Re(e){return e.reduce((function(e,t){return t.available&&t.isTop?e+1:e}),0)}function Ve(e){return e.reduce((function(e,t){return t.available&&!t.isTop?e+1:e}),0)}function Le(e,t){var a="object"===typeof e?e:t.seatsMap[e];if(!a.selected)return 0;var s=a.price;return t.addWifi&&(s+=t.wifiPrice),t.addLinens&&(s+=t.linensPrice),"child"===a.ticketType&&(s=Math.trunc(.5*s)),s}var We=function(e){var t=e.coach,a=e.checkOption,r=e.checkSeat,c=e.competitorCount,n=Object(s.useState)([!1,!1,!1,!1]),i=Object(l.a)(n,2),o=i[0],u=i[1],m=null,j=null,p=!1;switch(t.classNumber){case 1:m=t.price;break;case 2:case 3:m=t.topPrice,j=t.bottomPrice,p=!0;break;case 4:m=t.bottomPrice}var b="coach-properties__button",_="coach-properties__button-icon",h=b;t.haveAirConditioning&&(h+=" ".concat(b,"_included"));var f=b,x=_;t.haveWifi&&(f+=" ".concat(b,"_enabled"),x+=" ".concat(_,"_enabled")),t.addWifi&&(f+=" ".concat(b,"_selected"),x+=" ".concat(_,"_selected"));var O=b,v=_;4!==t.classNumber&&(t.isLinensIncluded?O+=" ".concat(b,"_included"):(O+=" ".concat(b,"_enabled"),v+=" ".concat(_,"_enabled"),t.addLinens&&(O+=" ".concat(b,"_selected"),v+=" ".concat(_,"_selected"))));var N=b,g=_;t.haveFood&&(N+=" ".concat(b,"_enabled"),g+=" ".concat(_,"_enabled")),t.addFood&&(N+=" ".concat(b,"_selected"),g+=" ".concat(_,"_selected"));var k,y=function(e,t){var a=Object(Ye.a)(o);a[e]=t,u(a)},w=function(e){y(e,!0)},C=function(e){y(e,!1)},T="coach-properties__map coach-properties__map_"+t.classNumber,S=function(e){return e.seatsMap.reduce((function(t,a){return t+Le(a,e)}),0)}(t);return Object(d.jsxs)("div",{className:"coach-properties",children:[Object(d.jsxs)("div",{className:"coach-properties__header",children:[Object(d.jsx)("div",{className:"coach-properties__label",children:Object(d.jsx)("p",{className:"coach-properties__index",children:t.index>9?t.index:"0"+t.index})}),Object(d.jsxs)("div",{className:"coach-properties__seats",children:[Object(d.jsxs)("p",{className:"coach-properties__seats-all-title",children:["\u041c\u0435\u0441\u0442\u0430",Object(d.jsx)("span",{className:"coach-properties__seats-all-count",children:(k=t.seatsMap,k.reduce((function(e,t){return t.available?e+1:e}),0))})]}),p&&Object(d.jsxs)(s.Fragment,{children:[Object(d.jsxs)("p",{className:"coach-properties__seats-title",children:["\u0412\u0435\u0440\u0445\u043d\u0438\u0435",Object(d.jsx)("span",{className:"coach-properties__seats-count",children:Re(t.seatsMap)})]}),Object(d.jsxs)("p",{className:"coach-properties__seats-title",children:["\u041d\u0438\u0436\u043d\u0438\u0435",Object(d.jsx)("span",{className:"coach-properties__seats-count",children:Ve(t.seatsMap)})]})]})]}),Object(d.jsxs)("div",{className:"coach-properties__prices",children:[Object(d.jsx)("p",{className:"coach-properties__prices-title",children:"\u0421\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c"}),Object(d.jsxs)("p",{className:"coach-properties__price",children:[G(m),Object(d.jsx)("span",{className:"coach-properties__currency",children:"\u20bd"})]}),j&&Object(d.jsxs)("p",{className:"coach-properties__price",children:[G(j),Object(d.jsx)("span",{className:"coach-properties__currency",children:"\u20bd"})]})]}),Object(d.jsxs)("div",{className:"coach-properties__service",children:[Object(d.jsxs)("p",{className:"coach-properties__service-title",children:["\u041e\u0431\u0441\u043b\u0443\u0436\u0438\u0432\u0430\u043d\u0438\u0435",Object(d.jsx)("span",{className:"coach-propertis__service-title_light",children:"\u0424\u043f\u043a"})]}),Object(d.jsxs)("ul",{className:"coach-properties__options",children:[Object(d.jsxs)("li",{className:h,onMouseOver:function(){return w(0)},onMouseOut:function(){return C(0)},children:[Object(d.jsx)("svg",{className:"coach-properties__button-icon",width:"21",height:"21",children:Object(d.jsx)("use",{xlinkHref:xe+"#conditioner"})}),o[0]&&Object(d.jsx)("p",{className:"coach-properties__button-hint",children:"\u041a\u043e\u043d\u0434\u0438\u0446\u0438\u043e\u043d\u0435\u0440"})]}),Object(d.jsxs)("li",{className:f,onClick:function(){t.haveWifi&&a(t.index,"addWifi")},onMouseOver:function(){return w(1)},onMouseOut:function(){return C(1)},children:[Object(d.jsx)("svg",{className:x,width:"20",height:"16",children:Object(d.jsx)("use",{xlinkHref:xe+"#wifi"})}),o[1]&&Object(d.jsx)("p",{className:"coach-properties__button-hint",children:"WI-FI"})]}),Object(d.jsxs)("li",{className:O,onClick:function(){4===t.classNumber||t.isLinensIncluded||a(t.index,"addLinens")},onMouseOver:function(){return w(2)},onMouseOut:function(){return C(2)},children:[Object(d.jsx)("svg",{className:v,width:"22",height:"16",children:Object(d.jsx)("use",{xlinkHref:xe+"#linens"})}),o[2]&&Object(d.jsx)("p",{className:"coach-properties__button-hint",children:"\u0411\u0435\u043b\u044c\u0451"})]}),Object(d.jsxs)("li",{className:N,onClick:function(){t.haveFood&&a(t.index,"addFood")},onMouseOver:function(){return w(3)},onMouseOut:function(){return C(3)},children:[Object(d.jsx)("svg",{className:g,width:"20",height:"18",children:Object(d.jsx)("use",{xlinkHref:xe+"#food"})}),o[3]&&Object(d.jsx)("p",{className:"coach-properties__button-hint",children:"\u041f\u0438\u0442\u0430\u043d\u0438\u0435"})]})]})]})]}),Object(d.jsxs)("div",{className:"coach-properties__map-container",children:[Object(d.jsxs)("p",{className:"coach-properties__hint",children:[c," \u0447\u0435\u043b\u043e\u0432\u0435\u043a \u0432\u044b\u0431\u0438\u0440\u0430\u044e\u0442 \u043c\u0435\u0441\u0442\u0430 \u0432 \u044d\u0442\u043e\u043c \u043f\u043e\u0435\u0437\u0434\u0435"]}),Object(d.jsxs)("div",{className:T,children:[Object(d.jsx)("p",{className:"coach-properties__map-label",children:t.index>9?t.index:"0"+t.index}),t.seatsMap.map((function(e,a){return Object(d.jsx)("p",{className:"coach-properties__map-seat"+(e.available?" coach-properties__map-seat_available":"")+(e.selected?" coach-properties__map-seat_selected":"")+(e.selected&&"child"===e.ticketType?" coach-properties__map-seat_child":"")+(e.selected&&"parent"===e.ticketType?" coach-properties__map-seat_parent":""),style:{top:"".concat(e.top,"px"),left:"".concat(e.left,"px"),width:"".concat(e.width,"px"),height:"".concat(e.height,"px"),paddingTop:"".concat(e.paddingTop,"px")},onClick:function(){return e=a,void(t.seatsMap[e].available&&r(t.index,e));var e},children:a+1},a)}))]}),!!S&&Object(d.jsxs)("p",{className:"coach-properties__sum-price",children:[G(S),Object(d.jsx)("span",{className:"coach-properties__sum-price-currency",children:"\u20bd"})]})]})]})};var Be=function(e){var t=e.seatsState,a=e.setSeatsState,s=t.info.filter((function(e){return e.classNumber===t.classNumber})).sort((function(e,t){return e.index-t.index})),r=function(e,s){var r=t.info.find((function(t){return e===t.index}));r[s]=!r[s],a(Object(_.a)(Object(_.a)({},t),{},{info:t.info}))},c=function(e,s){var r=t.info.find((function(t){return e===t.index}));if(r.seatsMap[s].selected)switch(r.seatsMap[s].selected=!1,r.seatsMap[s].ticketType){case"full":a(Object(_.a)(Object(_.a)({},t),{},{info:t.info,fullTicketsCount:t.fullTicketsCount-1}));break;case"child":a(Object(_.a)(Object(_.a)({},t),{},{info:t.info,childTicketsCount:t.childTicketsCount-1}));break;case"parent":a(Object(_.a)(Object(_.a)({},t),{},{info:t.info,parentTicketsCount:t.parentTicketsCount-1}))}else{if(t.fullTicketsCount+t.childTicketsCount+t.parentTicketsCount>=6)return;switch(r.seatsMap[s].selected=!0,r.seatsMap[s].ticketType=t.curTicketType,t.curTicketType){case"full":a(Object(_.a)(Object(_.a)({},t),{},{info:t.info,fullTicketsCount:t.fullTicketsCount+1}));break;case"child":a(Object(_.a)(Object(_.a)({},t),{},{info:t.info,childTicketsCount:t.childTicketsCount+1}));break;case"parent":a(Object(_.a)(Object(_.a)({},t),{},{info:t.info,parentTicketsCount:t.parentTicketsCount+1}))}}};return Object(d.jsxs)("div",{className:"coach-select",children:[Object(d.jsxs)("div",{className:"coach-select__header",children:[Object(d.jsx)("p",{className:"coach-select__title",children:"\u0412\u0430\u0433\u043e\u043d\u044b"}),s.map((function(e){return Object(d.jsx)("p",{className:"coach-select__number"+(e.isSelected?" coach-select__number_selected":""),onClick:function(){return function(e){var s=t.info.find((function(t){return e===t.index}));s.isSelected=!s.isSelected,a(Object(_.a)(Object(_.a)({},t),{},{info:t.info}))}(e.index)},children:e.index>9?e.index:"0"+e.index},B.a.generate())})),Object(d.jsx)("p",{className:"coach-select__numbering",children:"\u041d\u0443\u043c\u0435\u0440\u0430\u0446\u0438\u044f \u0432\u0430\u0433\u043e\u043d\u043e\u0432 \u043d\u0430\u0447\u0438\u043d\u0430\u0435\u0442\u0441\u044f \u0441 \u0433\u043e\u043b\u043e\u0432\u044b \u043f\u043e\u0435\u0437\u0434\u0430"})]}),s.filter((function(e){return e.isSelected})).map((function(e){return Object(d.jsx)("div",{className:"coach-select__coach",children:Object(d.jsx)(We,{coach:e,checkOption:r,checkSeat:c,competitorCount:t.competitorCount})},B.a.generate())}))]})};var Xe=function(e){var t=e.seatsState,a=e.setSeatsState;return Object(d.jsxs)("div",{className:"coach-type",children:[Object(d.jsx)("h3",{className:"coach-type__title",children:"\u0422\u0438\u043f \u0432\u0430\u0433\u043e\u043d\u0430"}),Object(d.jsx)("ul",{className:"coach-type__list"+(t.classNumber?" coach-type__list_active":""),children:[{iconName:"fourth-class",className:"\u0421\u0438\u0434\u044f\u0447\u0438\u0439",classNumber:4,margin:0},{iconName:"third-class",className:"\u041f\u043b\u0430\u0446\u043a\u0430\u0440\u0442",classNumber:3,margin:80},{iconName:"second-class",className:"\u041a\u0443\u043f\u0435",classNumber:2,margin:45},{iconName:"first-class",className:"\u041b\u044e\u043a\u0441",classNumber:1,margin:68}].map((function(e,s){return Object(d.jsxs)("li",{className:"coach-type__item",style:{marginLeft:"".concat(e.margin,"px")},children:[Object(d.jsx)("svg",{className:"coach-type__icon"+(e.classNumber===t.classNumber?" coach-type__icon_active":""),width:"50",height:"50",onClick:function(){return s=e.classNumber,void a(Object(_.a)(Object(_.a)({},t),{},{classNumber:s}));var s},children:Object(d.jsx)("use",{xlinkHref:"".concat(xe,"#").concat(e.iconName)})}),Object(d.jsx)("p",{className:"coach-type__name"+(e.classNumber===t.classNumber?" coach-type__name_active":""),children:e.className})]},s)}))}),!!t.classNumber&&Object(d.jsx)(Be,{seatsState:t,setSeatsState:a})]})};var Je=function(e){var t=e.trainInfo,a=e.seatsState,r=e.setSeatsState,c=e.isForward,n=Object(s.useContext)(o),l=n.setAnimation,u=n.setPopup,m=n.trainsInfo,j=n.setTrainsInfo,f=Object(h.f)(),x=function(){var e=Object(b.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,ae(l,u,j,Object(_.a)(Object(_.a)({},m.params),{},{offset:0,direction:c?"forward":"backward"}));case 3:e.sent&&f.push("/fe-diploma/run/trains");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(d.jsxs)("div",{className:"train-seats",children:[Object(d.jsxs)("div",{className:"train-seats__return"+(c?"":" train-seats__return_mirror"),children:[Object(d.jsx)("svg",{className:"train-seats__return-icon"+(c?"":" train-seats__return-icon_mirror"),width:"76",height:"60",children:Object(d.jsx)("use",{xlinkHref:xe+"#arrow-negative-big"})}),Object(d.jsx)(i.b,{to:"/fe-diploma/run/trains",className:"train-seats__return-button",onClick:x,children:"\u0412\u044b\u0431\u0440\u0430\u0442\u044c \u0434\u0440\u0443\u0433\u043e\u0439 \u043f\u043e\u0435\u0437\u0434"})]}),Object(d.jsx)(Ee,{trainInfo:t,isForward:c}),Object(d.jsx)(Pe,{seatsState:a,setSeatsState:r}),Object(d.jsx)(Xe,{seatsState:a,setSeatsState:r})]})};var Ke=function(){var e=Object(s.useState)({competitorCount:0}),t=Object(l.a)(e,2),a=t[0],r=t[1],c=Object(s.useState)({competitorCount:0}),n=Object(l.a)(c,2),u=n[0],m=n[1],j=Object(s.useContext)(o),h=j.setBookingStage,f=j.setAnimation,O=j.setPopup,v=j.forwardTrain,N=j.backwardTrain,g=j.seatsInfo,k=j.setSeatsInfo,y=j.setOrderInfo;Object(s.useEffect)((function(){h("seats")}),[h]),Object(s.useEffect)((function(){r({info:g.forwardSeatsInfo.map((function(e){return Ae(e)})),classNumber:0,curTicketType:"full",fullTicketsCount:0,childTicketsCount:0,parentTicketsCount:0,competitorCount:Math.trunc(10*Math.random())+5}),m({info:g.backwardSeatsInfo.map((function(e){return Ae(e)})),classNumber:0,curTicketType:"full",fullTicketsCount:0,childTicketsCount:0,parentTicketsCount:0,competitorCount:Math.trunc(10*Math.random())+5})}),[g]);var w=function(){var e=Object(b.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Fe(f,O,k,Object(_.a)(Object(_.a)({},g.params),t));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),C=a.fullTicketsCount+a.childTicketsCount+a.parentTicketsCount,T=u.fullTicketsCount+u.childTicketsCount+u.parentTicketsCount,S=C&&a.fullTicketsCount===u.fullTicketsCount&&a.childTicketsCount===u.childTicketsCount&&a.parentTicketsCount===u.parentTicketsCount;return Object(d.jsxs)("main",{className:"seats",children:[Object(d.jsx)(fe,{stepNumber:1}),Object(d.jsxs)("div",{className:"seats__main",children:[Object(d.jsxs)("section",{className:"seats__left",children:[Object(d.jsx)(ke,{reloadInfo:w}),Object(d.jsx)(Ce,{})]}),Object(d.jsxs)("section",{className:"seats__right",children:[Object(d.jsx)("h2",{className:"seats__title",children:"\u0412\u044b\u0431\u043e\u0440 \u043c\u0435\u0441\u0442"}),Object(d.jsx)("div",{className:"seats__train-seats",children:Object(d.jsx)(Je,{trainInfo:v,seatsState:a,setSeatsState:r,isForward:!0})}),Object(d.jsx)("div",{className:"seats__train-seats",children:Object(d.jsx)(Je,{trainInfo:N,seatsState:u,setSeatsState:m,isForward:!1})}),Object(d.jsx)(i.b,{to:"/fe-diploma/run/passengers",className:"seats__button"+(S?" seats__button_active":""),onClick:function(e){if(S||e.preventDefault(),C&&T)if(a.fullTicketsCount===u.fullTicketsCount)if(a.childTicketsCount===u.childTicketsCount)if(a.parentTicketsCount===u.parentTicketsCount){var t=[],s=[];a.info.forEach((function(e){return e.seatsMap.forEach((function(a,s){a.selected&&t.push({coachId:e.coachId,seatNumber:s+1,fullPrice:Le(Object(_.a)(Object(_.a)({},a),{},{ticketType:"full"}),e),childPrice:Le(Object(_.a)(Object(_.a)({},a),{},{ticketType:"child"}),e)})}))})),u.info.forEach((function(e){return e.seatsMap.forEach((function(t,a){t.selected&&s.push({coachId:e.coachId,seatNumber:a+1,fullPrice:Le(Object(_.a)(Object(_.a)({},t),{},{ticketType:"full"}),e),childPrice:Le(Object(_.a)(Object(_.a)({},t),{},{ticketType:"child"}),e)})}))}));var r={seatList:{forward:t,backward:s},passengerList:[{isCollapsed:!1,isAdult:!0,firstName:"",lastName:"",patronymic:"",gender:!0,birthday:"",isDisability:!1,includeChild:!1,documentType:"\u041f\u0430\u0441\u043f\u043e\u0440\u0442 \u0420\u0424",passportSeries:"",passportNumber:"",birthSertificateNumber:"",isChange:!1,isError:!1,isReady:!1}]};y(r),localStorage.setItem("orderInfo",JSON.stringify(r))}else x(O,["\u041e\u0448\u0438\u0431\u043a\u0430 \u0432\u0432\u043e\u0434\u0430 \u0434\u0430\u043d\u043d\u044b\u0445","\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0434\u0435\u0442\u0441\u043a\u0438\u0445 \u0431\u0438\u043b\u0435\u0442\u043e\u0432 \u0431\u0435\u0437 \u043c\u0435\u0441\u0442\u0430 \u0442\u0443\u0434\u0430 \u0438 \u043e\u0431\u0440\u0430\u0442\u043d\u043e \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u043e\u0434\u0438\u043d\u0430\u043a\u043e\u0432\u044b\u043c"]);else x(O,["\u041e\u0448\u0438\u0431\u043a\u0430 \u0432\u0432\u043e\u0434\u0430 \u0434\u0430\u043d\u043d\u044b\u0445","\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0434\u0435\u0442\u0441\u043a\u0438\u0445 \u0431\u0438\u043b\u0435\u0442\u043e\u0432 \u0442\u0443\u0434\u0430 \u0438 \u043e\u0431\u0440\u0430\u0442\u043d\u043e \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u043e\u0434\u0438\u043d\u0430\u043a\u043e\u0432\u044b\u043c"]);else x(O,["\u041e\u0448\u0438\u0431\u043a\u0430 \u0432\u0432\u043e\u0434\u0430 \u0434\u0430\u043d\u043d\u044b\u0445","\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0432\u0437\u0440\u043e\u0441\u043b\u044b\u0445 \u0431\u0438\u043b\u0435\u0442\u043e\u0432 \u0442\u0443\u0434\u0430 \u0438 \u043e\u0431\u0440\u0430\u0442\u043d\u043e \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u043e\u0434\u0438\u043d\u0430\u043a\u043e\u0432\u044b\u043c"]);else x(O,["\u041e\u0448\u0438\u0431\u043a\u0430 \u0432\u0432\u043e\u0434\u0430 \u0434\u0430\u043d\u043d\u044b\u0445","\u0414\u043e\u043b\u0436\u0435\u043d \u0431\u044b\u0442\u044c \u0432\u044b\u0431\u0440\u0430\u043d \u0445\u043e\u0442\u044f \u0431\u044b \u043e\u0434\u0438\u043d \u0431\u0438\u043b\u0435\u0442 \u0442\u0443\u0434\u0430 \u0438 \u043e\u0434\u0438\u043d \u0431\u0438\u043b\u0435\u0442 \u043e\u0431\u0440\u0430\u0442\u043d\u043e"])},children:"\u0414\u0430\u043b\u0435\u0435"})]})]})]})},Ue=(a(82),a(16));a(83),a(84);var qe=function(e){var t=e.isForward,a=e.isCollapsed,s=e.setCollapsed,r=e.train;return Object(d.jsxs)("div",{className:"travel-details-train",children:[Object(d.jsxs)("div",{className:"travel-details-train__collapsed",children:[Object(d.jsx)("svg",{className:"travel-details-train__arrow-neg"+(t?"":" travel-details-train__arrow-neg_mirror"),width:"32",height:"26",children:Object(d.jsx)("use",{xlinkHref:xe+"#arrow-negative"})}),Object(d.jsx)("p",{className:"travel-details-train__title",children:t?"\u0422\u0443\u0434\u0430":"\u041e\u0431\u0440\u0430\u0442\u043d\u043e"}),Object(d.jsx)("p",{className:"travel-details-train__title-date"+(t?"":" travel-details-train__title-date_backward"),children:$(t?r.from.datetime:r.to.datetime)}),Object(d.jsx)("button",{className:"travel-details-train__button"+(a?"":" travel-details-train__button_minus"),type:"button",onClick:s})]}),!a&&Object(d.jsxs)("div",{className:"travel-details-train__full",children:[Object(d.jsxs)("div",{className:"travel-details-train__number",children:[Object(d.jsx)("p",{className:"travel-details-train__number-left",children:"\u2116 \u041f\u043e\u0435\u0437\u0434\u0430"}),Object(d.jsx)("p",{className:"travel-details-train__number-right",children:r.train._id})]}),Object(d.jsxs)("div",{className:"travel-details-train__name",children:[Object(d.jsx)("p",{className:"travel-details-train__name-left",children:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"}),Object(d.jsxs)("p",{className:"travel-details-train__name-right",children:[r.from.city.name,Object(d.jsx)("br",{}),r.to.city.name,Object(d.jsx)("br",{}),!!r.train.name&&r.train.name]})]}),Object(d.jsx)("p",{className:"travel-details-train__duration",children:z(r.duration)}),Object(d.jsxs)("div",{className:"travel-details-train__times",children:[Object(d.jsx)("p",{className:"travel-details-train__time-left",children:Q(t?r.from.datetime:r.to.datetime)}),Object(d.jsx)("svg",{className:"travel-details-train__arrow"+(t?"":" travel-details-train__arrow_mirror"),width:"30",height:"20",children:Object(d.jsx)("use",{xlinkHref:xe+"#arrow"})}),Object(d.jsx)("p",{className:"travel-details-train__time-right",children:Q(t?r.to.datetime:r.from.datetime)})]}),Object(d.jsxs)("div",{className:"travel-details-train__dates",children:[Object(d.jsx)("p",{className:"travel-details-train__date-left",children:$(t?r.from.datetime:r.to.datetime)}),Object(d.jsx)("p",{className:"travel-details-train__date-right",children:$(t?r.to.datetime:r.from.datetime)})]}),Object(d.jsxs)("div",{className:"travel-details-train__cities",children:[Object(d.jsx)("p",{className:"travel-details-train__city-left",children:t?r.from.city.name:r.to.city.name}),Object(d.jsx)("p",{className:"travel-details-train__city-right",children:t?r.to.city.name:r.from.city.name})]}),Object(d.jsxs)("div",{className:"travel-details-train__stations",children:[Object(d.jsx)("p",{className:"travel-details-train__station-left",children:t?r.from.railway_station_name:r.to.railway_station_name}),Object(d.jsx)("p",{className:"travel-details-train__station-right",children:t?r.to.railway_station_name:r.from.railway_station_name})]})]})]})};a(85);var $e=function(e){var t=e.isCollapsed,a=e.setCollapsed,s=e.priceInfo;return Object(d.jsxs)("div",{className:"travel-details-passengers",children:[Object(d.jsxs)("div",{className:"travel-details-passengers__collapsed",children:[Object(d.jsx)("svg",{className:"travel-details-passengers__icon",width:"26",height:"26",children:Object(d.jsx)("use",{xlinkHref:xe+"#passenger"})}),Object(d.jsx)("p",{className:"travel-details-passengers__title",children:"\u041f\u0430\u0441\u0441\u0430\u0436\u0438\u0440\u044b"}),Object(d.jsx)("button",{className:"travel-details-passengers__button"+(t?"":" travel-details-passengers__button_minus"),type:"button",onClick:a})]}),!t&&Object(d.jsxs)("div",{className:"travel-details-passengers__full",children:[!!s.adult.count&&Object(d.jsxs)("div",{className:"travel-details-passengers__item",children:[Object(d.jsx)("p",{className:"travel-details-passengers__count",children:s.adult.count}),Object(d.jsx)("p",{className:"travel-details-passengers__price",children:G(s.adult.price)}),Object(d.jsx)("p",{className:"travel-details-passengers__currency",children:"\u20bd"})]}),!!s.child.count&&Object(d.jsxs)("div",{className:"travel-details-passengers__item",children:[Object(d.jsx)("p",{className:"travel-details-passengers__count",children:s.child.count}),Object(d.jsx)("p",{className:"travel-details-passengers__price",children:G(s.child.price)}),Object(d.jsx)("p",{className:"travel-details-passengers__currency",children:"\u20bd"})]})]})]})};var Qe=function(){var e=Object(s.useContext)(o),t=e.forwardTrain,a=e.backwardTrain,r=e.travelDetailsCollapsed,c=e.setTravelDetailsCollapsed,n=e.orderInfo,i=function(e){c(Object(_.a)(Object(_.a)({},r),{},Object(Ue.a)({},e,!r[e])))},l=n.passengerList.filter((function(e){return e.isReady})).reduce((function(e,t,a){return t.isAdult?(e.adult.count++,e.adult.price+=n.seatList.forward[a].fullPrice+n.seatList.backward[a].fullPrice):(e.child.count++,e.child.price+=n.seatList.forward[a].childPrice+n.seatList.backward[a].childPrice),e}),{adult:{count:0,price:0},child:{count:0,price:0}});switch(l.adult.count){case 0:break;case 1:l.adult.count+=" \u0412\u0437\u0440\u043e\u0441\u043b\u044b\u0439";break;default:l.adult.count+=" \u0412\u0437\u0440\u043e\u0441\u043b\u044b\u0445"}switch(l.child.count){case 0:break;case 1:l.child.count+=" \u0420\u0435\u0431\u0451\u043d\u043e\u043a";break;case 2:case 3:case 4:l.child.count+=" \u0420\u0435\u0431\u0451\u043d\u043a\u0430";break;default:l.child.count+=" \u0414\u0435\u0442\u0435\u0439"}return Object(d.jsxs)("div",{className:"travel-details",children:[Object(d.jsx)("h2",{className:"travel-details__title",children:"\u0414\u0435\u0442\u0430\u043b\u0438 \u043f\u043e\u0435\u0437\u0434\u043a\u0438"}),Object(d.jsx)("div",{className:"travel-details__train",children:Object(d.jsx)(qe,{isForward:!0,isCollapsed:r.forward,setCollapsed:function(){return i("forward")},train:t})}),Object(d.jsx)("div",{className:"travel-details__train",children:Object(d.jsx)(qe,{isForward:!1,isCollapsed:r.backward,setCollapsed:function(){return i("backward")},train:a})}),Object(d.jsx)("div",{className:"travel-details__passengers",children:Object(d.jsx)($e,{isCollapsed:r.passengers,setCollapsed:function(){return i("passengers")},priceInfo:l})}),Object(d.jsxs)("div",{className:"travel-details__total",children:[Object(d.jsx)("p",{className:"travel-details__total-title",children:"\u0418\u0442\u043e\u0433"}),Object(d.jsx)("p",{className:"travel-details__price",children:G(l.adult.price+l.child.price)}),Object(d.jsx)("p",{className:"travel-details__currency",children:"\u20bd"})]})]})};a(86);function ze(e){var t=e.isAdult,a=e.firstName,s=e.lastName,r=e.patronymic,c=e.birthday,n=e.documentType,i=e.passportSeries,l=e.passportNumber,o=e.birthSertificateNumber,d={errorFlags:{},errorText:{},isReady:!0};return s||(d.errorFlags.lastName=!0,d.isReady&&(d.errorText={string1:'\u041f\u043e\u043b\u0435 "\u0424\u0430\u043c\u0438\u043b\u0438\u044f" \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0434\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f'}),d.isReady=!1),a||(d.errorFlags.firstName=!0,d.isReady&&(d.errorText={string1:'\u041f\u043e\u043b\u0435 "\u0418\u043c\u044f" \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0434\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f'}),d.isReady=!1),r||(d.errorFlags.patronymic=!0,d.isReady&&(d.errorText={string1:'\u041f\u043e\u043b\u0435 "\u041e\u0442\u0447\u0435\u0441\u0442\u0432\u043e" \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0434\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f'}),d.isReady=!1),10!==c.length&&(d.errorFlags.birthday=!0,d.isReady&&(d.errorText={string1:"\u0414\u0430\u0442\u0430 \u0440\u043e\u0436\u0434\u0435\u043d\u0438\u044f \u043d\u0435 \u0443\u043a\u0430\u0437\u0430\u043d\u0430 \u0438\u043b\u0438 \u0443\u043a\u0430\u0437\u0430\u043d\u0430 \u043d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u043e",string2:"\u041f\u0440\u0438\u043c\u0435\u0440 (\u0432\u0432\u0435\u0434\u0438\u0442\u0435 \u0442\u043e\u043b\u044c\u043a\u043e \u0446\u0438\u0444\u0440\u044b, \u0442\u043e\u0447\u043a\u0438 \u043f\u043e\u044f\u0432\u044f\u0442\u0441\u044f \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438):",string3:"25.05.1975"}),d.isReady=!1),L()(c,"DD.MM.YYYY").isValid()||(d.errorFlags.birthday=!0,d.isReady&&(d.errorText={string1:'\u041f\u043e\u043b\u0435 "\u0414\u0430\u0442\u0430 \u0440\u043e\u0436\u0434\u0435\u043d\u0438\u044f" \u0441\u043e\u0434\u0435\u0440\u0436\u0438\u0442 \u043d\u0435\u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u044e\u0449\u0443\u044e \u0434\u0430\u0442\u0443'}),d.isReady=!1),t||"\u041f\u0430\u0441\u043f\u043e\u0440\u0442 \u0420\u0424"!==n||(d.errorFlags.documentType=!0,d.isReady&&(d.errorText={string1:"\u0414\u043b\u044f \u043f\u0440\u043e\u0435\u0437\u0434\u0430 \u0440\u0435\u0431\u0451\u043d\u043a\u0430 \u0442\u0440\u0435\u0431\u0443\u0435\u0442\u0441\u044f \u0441\u0432\u0438\u0434\u0435\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u043e \u043e \u0440\u043e\u0436\u0434\u0435\u043d\u0438\u0438"}),d.isReady=!1),"\u041f\u0430\u0441\u043f\u043e\u0440\u0442 \u0420\u0424"===n?(4!==i.length&&(d.errorFlags.passportSeries=!0,d.isReady&&(d.errorText={string1:"\u0421\u0435\u0440\u0438\u044f \u043f\u0430\u0441\u043f\u043e\u0440\u0442\u0430 \u043d\u0435 \u0443\u043a\u0430\u0437\u0430\u043d\u0430 \u0438\u043b\u0438 \u0443\u043a\u0430\u0437\u0430\u043d\u0430 \u043d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u043e",string2:"\u041f\u0440\u0438\u043c\u0435\u0440:",string3:"1234"}),d.isReady=!1),6!==l.length&&(d.errorFlags.passportNumber=!0,d.isReady&&(d.errorText={string1:"\u041d\u043e\u043c\u0435\u0440 \u043f\u0430\u0441\u043f\u043e\u0440\u0442\u0430 \u043d\u0435 \u0443\u043a\u0430\u0437\u0430\u043d \u0438\u043b\u0438 \u0443\u043a\u0430\u0437\u0430\u043d \u043d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u043e",string2:"\u041f\u0440\u0438\u043c\u0435\u0440:",string3:"123456"}),d.isReady=!1)):/^[IVX]{2,4}[\u0410-\u042f]{2}[0-9]{6}$/.test(o)||(d.errorFlags.birthSertificateNumber=!0,d.isReady&&(d.errorText={string1:"\u041d\u043e\u043c\u0435\u0440 \u0441\u0432\u0438\u0434\u0435\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u0430 \u043e \u0440\u043e\u0436\u0434\u0435\u043d\u0438\u0438 \u043d\u0435 \u0443\u043a\u0430\u0437\u0430\u043d \u0438\u043b\u0438 \u0443\u043a\u0430\u0437\u0430\u043d \u043d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u043e",string2:"\u041f\u0440\u0438\u043c\u0435\u0440:",string3:"VIII \u042b\u041f 123456"}),d.isReady=!1),d}var Ge=a.p+"static/media/ready.e0b774b9.svg",Ze=a.p+"static/media/error.f0e873e6.svg";var et=function(e){var t=e.passenger,a=e.index,r=e.passengerList,c=e.setPassengerList,n=Object(s.useState)(t),i=Object(l.a)(n,2),u=i[0],m=i[1],j=Object(s.useState)(!1),p=Object(l.a)(j,2),b=p[0],h=p[1],f=Object(s.useState)(!1),x=Object(l.a)(f,2),O=x[0],v=x[1],N=Object(s.useContext)(o),g=N.orderInfo,k=N.setOrderInfo,y=u.isCollapsed,w=u.isAdult,C=u.firstName,T=u.lastName,S=u.patronymic,I=u.gender,H=u.birthday,F=u.isDisability,M=u.includeChild,D=u.documentType,E=u.passportSeries,P=u.passportNumber,Y=u.birthSertificateNumber,A=u.isChange,R=u.isError,V=u.isReady,L="\u041f\u0430\u0441\u043f\u043e\u0440\u0442 \u0420\u0424"===D,W=function(e,t){m(Object(_.a)(Object(_.a)({},u),{},Object(Ue.a)({},e,t)))},B=function(e,t){var s=Object(Ye.a)(r);switch(e){case"isCollapsed":case"isChange":case"isError":case"isReady":break;default:s[a][e]!==t&&(s[a].isChange=!0,s[a].isError=!1,s[a].isReady=!1)}s[a][e]=t,c(s)},X=function(e){"Enter"===e.key&&e.target.blur()},J={errorFlags:{},errorText:{}};R&&(J=ze(u));var K=J,U=K.errorFlags,q=K.errorText;return Object(d.jsxs)("div",{className:"edit-passenger",children:[Object(d.jsxs)("div",{className:"edit-passenger__collapsed"+(y?"":" edit-passenger__collapsed_gray"),children:[Object(d.jsx)("button",{className:"edit-passenger__button-collapse"+(y?"":" edit-passenger__button-collapse_minus"),type:"button",onClick:function(){return B("isCollapsed",!y)}}),Object(d.jsxs)("p",{className:"edit-passenger__title",children:["\u041f\u0430\u0441\u0441\u0430\u0436\u0438\u0440 ",a+1]}),!y&&Object(d.jsx)("button",{className:"edit-passenger__button-close",type:"button",onClick:function(){var e=r;e.splice(a,1);var t=Object(_.a)(Object(_.a)({},g),{},{passengerList:e});k(t),localStorage.setItem("orderInfo",JSON.stringify(t))}})]}),!y&&Object(d.jsxs)("form",{className:"edit-passenger__form",children:[Object(d.jsxs)("div",{className:"edit-passenger__ago-container",children:[Object(d.jsx)("input",{className:"edit-passenger__input edit-passenger__ago edit-passsenger__listbox",type:"text",name:"age",value:w?"\u0412\u0437\u0440\u043e\u0441\u043b\u044b\u0439":"\u0414\u0435\u0442\u0441\u043a\u0438\u0439",readOnly:!0,onClick:function(){return h(!0)}}),b&&Object(d.jsxs)("ul",{className:"edit-passenger__list",children:[Object(d.jsx)("li",{className:"edit-passenger__list-item",onClick:function(){return B("isAdult",!0)},children:"\u0412\u0437\u0440\u043e\u0441\u043b\u044b\u0439"}),Object(d.jsx)("li",{className:"edit-passenger__list-item",onClick:function(){return B("isAdult",!1)},children:"\u0414\u0435\u0442\u0441\u043a\u0438\u0439"})]})]}),Object(d.jsxs)("div",{className:"edit-passenger__name-section",children:[Object(d.jsxs)("label",{className:"edit-passenger__label edit-passenger__last-name",children:["\u0424\u0430\u043c\u0438\u043b\u0438\u044f",Object(d.jsx)("input",{className:"edit-passenger__input"+(U.lastName?" edit-passenger__error":""),type:"text",name:"last-name",placeholder:"\u0418\u0432\u0430\u043d\u043e\u0432",value:T,onChange:function(e){return W("lastName",e.target.value)},onBlur:function(e){return B("lastName",e.target.value.trim())},onKeyPress:X})]}),Object(d.jsxs)("label",{className:"edit-passenger__label edit-passenger__first-name",children:["\u0418\u043c\u044f",Object(d.jsx)("input",{className:"edit-passenger__input"+(U.firstName?" edit-passenger__error":""),type:"text",name:"first-name",placeholder:"\u0418\u0432\u0430\u043d",value:C,onChange:function(e){return W("firstName",e.target.value)},onBlur:function(e){return B("firstName",e.target.value.trim())},onKeyPress:X})]}),Object(d.jsxs)("label",{className:"edit-passenger__label edit-passenger__patronymic",children:["\u041e\u0442\u0447\u0435\u0441\u0442\u0432\u043e",Object(d.jsx)("input",{className:"edit-passenger__input"+(U.patronymic?" edit-passenger__error":""),type:"text",name:"patronymic",placeholder:"\u0418\u0432\u0430\u043d\u043e\u0432\u0438\u0447",value:S,onChange:function(e){return W("patronymic",e.target.value)},onBlur:function(e){return B("patronymic",e.target.value.trim())},onKeyPress:X})]})]}),Object(d.jsxs)("div",{className:"edit-passenger__data-section",children:[Object(d.jsxs)("label",{className:"edit-passenger__label edit-passenger__gender",children:["\u041f\u043e\u043b",Object(d.jsxs)("div",{className:"edit-passenger__gender-selector",children:[Object(d.jsx)("div",{className:"edit-passenger__gender-item"+(I?" edit-passenger__gender-item_active":""),onClick:function(){return B("gender",!0)},children:"\u041c"}),Object(d.jsx)("div",{className:"edit-passenger__gender-item"+(I?"":" edit-passenger__gender-item_active"),onClick:function(){return B("gender",!1)},children:"\u0416"})]})]}),Object(d.jsxs)("label",{className:"edit-passenger__label edit-passenger__birthday",children:["\u0414\u0430\u0442\u0430 \u0440\u043e\u0436\u0434\u0435\u043d\u0438\u044f",Object(d.jsx)("input",{className:"edit-passenger__input"+(U.birthday?" edit-passenger__error":""),type:"text",name:"birthday",placeholder:"\u0414\u0414 \u041c\u041c \u0413\u0413\u0413\u0413",value:H,onChange:function(e){return function(e){var t=e.replace(/[^\d]/g,"").split("",8);t.length>4&&t.splice(4,0,"."),t.length>2&&t.splice(2,0,"."),W("birthday",t.join(""))}(e.target.value)},onBlur:function(e){return B("birthday",e.target.value)},onKeyPress:X})]})]}),Object(d.jsxs)("div",{className:"edit-passenger__options-section",children:[Object(d.jsxs)("label",{className:"edit-passenger__label edit-passenger__label-checkbox"+(F?" edit-passenger__label-checkbox_checked":""),children:[Object(d.jsx)("input",{className:"edit-passenger__checkbox",type:"checkbox",name:"disability",checked:F,onChange:function(){return B("isDisability",!F)}}),"\u043e\u0433\u0440\u0430\u043d\u0438\u0447\u0435\u043d\u043d\u0430\u044f \u043f\u043e\u0434\u0432\u0438\u0436\u043d\u043e\u0441\u0442\u044c"]}),w&&Object(d.jsxs)("label",{className:"edit-passenger__label edit-passenger__label-checkbox"+(M?" edit-passenger__label-checkbox_checked":""),children:[Object(d.jsx)("input",{className:"edit-passenger__checkbox",type:"checkbox",name:"include-child",checked:M,onChange:function(){return B("includeChild",!M)}}),'\u043f\u0440\u043e\u0432\u043e\u0437 \u0440\u0435\u0431\u0451\u043d\u043a\u0430 "\u0431\u0435\u0437 \u043c\u0435\u0441\u0442\u0430"']})]}),Object(d.jsxs)("div",{className:"edit-passenger__document-data-section",children:[Object(d.jsxs)("label",{className:"edit-passenger__label edit-passenger__document-type"+(L?" edit-passenger__document-type_passport":" edit-passenger__document-type_sertificate"),children:["\u0422\u0438\u043f \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430",Object(d.jsx)("input",{className:"edit-passenger__input edit-passsenger__listbox"+(U.documentType?" edit-passenger__error":""),type:"text",name:"document-type",value:D,readOnly:!0,onClick:function(){return v(!0)}}),O&&Object(d.jsxs)("ul",{className:"edit-passenger__list edit-passenger__list_document-type",children:[Object(d.jsx)("li",{className:"edit-passenger__list-item",onClick:function(){return B("documentType","\u041f\u0430\u0441\u043f\u043e\u0440\u0442 \u0420\u0424")},children:"\u041f\u0430\u0441\u043f\u043e\u0440\u0442 \u0420\u0424"}),Object(d.jsx)("li",{className:"edit-passenger__list-item",onClick:function(){return B("documentType","\u0421\u0432\u0438\u0434\u0435\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u043e \u043e \u0440\u043e\u0436\u0434\u0435\u043d\u0438\u0438")},children:"\u0421\u0432\u0438\u0434\u0435\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u043e \u043e \u0440\u043e\u0436\u0434\u0435\u043d\u0438\u0438"})]})]}),L?Object(d.jsxs)(s.Fragment,{children:[Object(d.jsxs)("label",{className:"edit-passenger__label edit-passenger__passport-series",children:["\u0421\u0435\u0440\u0438\u044f",Object(d.jsx)("input",{className:"edit-passenger__input edit-passenger__input_passport-series"+(U.passportSeries?" edit-passenger__error":""),type:"text",name:"passport-series",placeholder:" ",value:E,onChange:function(e){return function(e){var t=e.replace(/[^\d]/g,"").slice(0,4);W("passportSeries",t)}(e.target.value)},onBlur:function(e){return B("passportSeries",e.target.value)},onKeyPress:X})]}),Object(d.jsxs)("label",{className:"edit-passenger__label edit-passenger__passport-number",children:["\u041d\u043e\u043c\u0435\u0440",Object(d.jsx)("input",{className:"edit-passenger__input edit-passenger__input_passport-number"+(U.passportNumber?" edit-passenger__error":""),type:"text",name:"passport-number",placeholder:" ",value:P,onChange:function(e){return function(e){var t=e.replace(/[^\d]/g,"").slice(0,6);W("passportNumber",t)}(e.target.value)},onBlur:function(e){return B("passportNumber",e.target.value)},onKeyPress:X})]})]}):Object(d.jsxs)("label",{className:"edit-passenger__label edit-passenger__sertificate-number",children:["\u041d\u043e\u043c\u0435\u0440",Object(d.jsx)("input",{className:"edit-passenger__input edit-passenger__input_sertificate"+(U.birthSertificateNumber?" edit-passenger__error":""),type:"text",name:"sertificate-number",placeholder:" ",value:Y,onChange:function(e){return W("birthSertificateNumber",e.target.value.toUpperCase())},onBlur:function(e){return function(e){var t=e.replace(/[^0-9IVX\u0410-\u042f]/g,"").slice(0,12).toUpperCase();B("birthSertificateNumber",t)}(e.target.value)},onKeyPress:X})]})]}),Object(d.jsxs)("div",{className:"edit-passenger__state-section"+(R?" edit-passenger__state-section_error":"")+(V?" edit-passenger__state-section_ready":""),children:[V&&Object(d.jsxs)(s.Fragment,{children:[Object(d.jsx)("img",{className:"edit-passenger__state-icon",src:Ge,width:"32",height:"32",alt:"ready-icon"}),Object(d.jsx)("div",{className:"edit-passenger__state-text-container",children:Object(d.jsx)("p",{className:"edit-passenger__state-text-ready",children:"\u0413\u043e\u0442\u043e\u0432\u043e"})})]}),R&&Object(d.jsxs)(s.Fragment,{children:[Object(d.jsx)("img",{className:"edit-passenger__state-icon",src:Ze,width:"32",height:"32",alt:"error-icon"}),Object(d.jsxs)("div",{className:"edit-passenger__state-text-container",children:[q.string1&&Object(d.jsx)("p",{className:"edit-passenger__state-text-error",children:q.string1}),q.string2&&Object(d.jsxs)("p",{className:"edit-passenger__state-text-error",children:[q.string2,q.string3&&Object(d.jsx)("span",{className:"edit-passenger__state-text-error_bold",children:q.string3})]})]})]}),A&&Object(d.jsx)("button",{className:"edit-passenger__button-save",type:"button",onClick:function(e){var t=Object(Ye.a)(r);t[a].isChange=!1,t[a].isReady=ze(u).isReady,t[a].isError=!t[a].isReady;var s=Object(_.a)(Object(_.a)({},g),{},{passengerList:t});k(s),localStorage.setItem("orderInfo",JSON.stringify(s))},children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f"})]})]})]})};a(87);var tt=function(e){var t=e.add;return Object(d.jsxs)("div",{className:"add-passenger",onClick:t,children:[Object(d.jsx)("h3",{className:"add-passenger__title",children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043f\u0430\u0441\u0441\u0430\u0436\u0438\u0440\u0430"}),Object(d.jsx)("button",{className:"add-passenger__button",type:"button",children:"+"})]})};var at=function(){var e=Object(s.useState)([]),t=Object(l.a)(e,2),a=t[0],r=t[1],c=Object(s.useContext)(o),n=c.setBookingStage,u=c.orderInfo,m=c.setOrderInfo,j=c.setPopup;Object(s.useEffect)((function(){n("passengers")}),[n]),Object(s.useEffect)((function(){r(u.passengerList?u.passengerList:[{}])}),[u.passengerList]);var p=a.length&&!a.find((function(e){return!e.isReady}));return Object(d.jsxs)("main",{className:"passengers",children:[Object(d.jsx)(fe,{stepNumber:2}),Object(d.jsxs)("div",{className:"passengers__main",children:[Object(d.jsx)("section",{className:"passengers__left",children:Object(d.jsx)(Qe,{})}),Object(d.jsxs)("section",{className:"passengers__right",children:[a.map((function(e,t){return Object(d.jsx)("div",{className:"passengers__edit-passenger",children:Object(d.jsx)(et,{passenger:e,index:t,passengerList:a,setPassengerList:r})},B.a.generate())})),u.seatList.forward.length>a.length&&Object(d.jsx)("div",{className:"passengers__add-passenger",children:Object(d.jsx)(tt,{add:function(){var e=[].concat(Object(Ye.a)(a),[{isCollapsed:!1,isAdult:!0,firstName:"",lastName:"",patronymic:"",gender:!0,birthday:"",isDisability:!1,includeChild:!1,documentType:"\u041f\u0430\u0441\u043f\u043e\u0440\u0442 \u0420\u0424",passportSeries:"",passportNumber:"",birthSertificateNumber:"",isChange:!1,isError:!1,isReady:!1}]),t=Object(_.a)(Object(_.a)({},u),{},{passengerList:e});m(t),localStorage.setItem("orderInfo",JSON.stringify(t))}})}),Object(d.jsx)(i.b,{to:"/fe-diploma/run/payment",className:"passengers__button"+(p?" passengers__button_active":""),onClick:function(e){p||e.preventDefault(),a.length?a.find((function(e){return!e.isReady}))&&x(j,["\u041e\u0448\u0438\u0431\u043a\u0430 \u0432\u0432\u043e\u0434\u0430 \u0434\u0430\u043d\u043d\u044b\u0445","\u041d\u0435 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u044b \u0434\u0430\u043d\u043d\u044b\u0435 \u0434\u043b\u044f \u043e\u0434\u043d\u043e\u0433\u043e \u0438\u043b\u0438 \u0431\u043e\u043b\u0435\u0435 \u043f\u0430\u0441\u0441\u0430\u0436\u0438\u0440\u043e\u0432"]):x(j,["\u041e\u0448\u0438\u0431\u043a\u0430 \u0432\u0432\u043e\u0434\u0430 \u0434\u0430\u043d\u043d\u044b\u0445","\u0414\u043e\u0431\u0430\u0432\u044c\u0442\u0435 \u0445\u043e\u0442\u044f \u0431\u044b \u043e\u0434\u043d\u043e\u0433\u043e \u043f\u0430\u0441\u0441\u0430\u0436\u0438\u0440\u0430"])},children:"\u0414\u0430\u043b\u0435\u0435"})]})]})]})};a(88),a(89);var st=function(){var e=Object(s.useState)({}),t=Object(l.a)(e,2),a=t[0],r=t[1],c=Object(s.useContext)(o),n=c.orderInfo,u=c.setOrderInfo,m=c.setPopup,j=Object(h.f)();Object(s.useEffect)((function(){r(n.user?n.user:{})}),[n.user]);var p=a.firstName,b=void 0===p?"":p,f=a.lastName,O=void 0===f?"":f,v=a.patronymic,N=void 0===v?"":v,g=a.phone,k=void 0===g?"":g,y=a.email,w=void 0===y?"":y,C=a.paymentMethod,T=void 0===C?"":C,S="online"===T,I="cash"===T,H=function(e){r(Object(_.a)(Object(_.a)({},a),{},{firstName:e}))},F=function(e){r(Object(_.a)(Object(_.a)({},a),{},{lastName:e}))},M=function(e){r(Object(_.a)(Object(_.a)({},a),{},{patronymic:e}))},D=function(e){r(Object(_.a)(Object(_.a)({},a),{},{email:e}))},E=function(e){r(Object(_.a)(Object(_.a)({},a),{},{paymentMethod:e}))},P=b.trim()&&O.trim()&&N.trim()&&k.trim()&&w.trim()&&T;return Object(d.jsxs)("div",{className:"user-data",children:[Object(d.jsxs)("form",{className:"user-data__form",children:[Object(d.jsx)("h3",{className:"user-data__title",children:"\u041f\u0435\u0440\u0441\u043e\u043d\u0430\u043b\u044c\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435"}),Object(d.jsxs)("div",{className:"user-data__data-section",children:[Object(d.jsxs)("div",{className:"user-data__name-line",children:[Object(d.jsxs)("label",{className:"user-data__label user-data__last-name",children:["\u0424\u0430\u043c\u0438\u043b\u0438\u044f",Object(d.jsx)("input",{className:"user-data__input",type:"text",name:"last-name",placeholder:"\u0418\u0432\u0430\u043d\u043e\u0432",value:O,onChange:function(e){return F(e.target.value)},onBlur:function(e){return F(e.target.value.trim())}})]}),Object(d.jsxs)("label",{className:"user-data__label user-data__first-name",children:["\u0418\u043c\u044f",Object(d.jsx)("input",{className:"user-data__input",type:"text",name:"first-name",placeholder:"\u0418\u0432\u0430\u043d",value:b,onChange:function(e){return H(e.target.value)},onBlur:function(e){return H(e.target.value.trim())}})]}),Object(d.jsxs)("label",{className:"user-data__label user-data__patronymic",children:["\u041e\u0442\u0447\u0435\u0441\u0442\u0432\u043e",Object(d.jsx)("input",{className:"user-data__input",type:"text",name:"patronymic",placeholder:"\u0418\u0432\u0430\u043d\u043e\u0432\u0438\u0447",value:N,onChange:function(e){return M(e.target.value)},onBlur:function(e){return M(e.target.value.trim())}})]})]}),Object(d.jsxs)("label",{className:"user-data__label user-data__phone",children:["\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u043d\u044b\u0439 \u0442\u0435\u043b\u0435\u0444\u043e\u043d",Object(d.jsx)("input",{className:"user-data__input",type:"text",name:"phone",placeholder:"+7 ___ ___ __ __",value:k,onChange:function(e){return t=e.target.value,void r(Object(_.a)(Object(_.a)({},a),{},{phone:t}));var t},onBlur:function(e){return function(e){var t=e.replace(/[^\d]/g,"");t&&(t="+"+t),r(Object(_.a)(Object(_.a)({},a),{},{phone:t}))}(e.target.value)}})]}),Object(d.jsxs)("label",{className:"user-data__label user-data__email",children:["E-mail",Object(d.jsx)("input",{className:"user-data__input",type:"text",name:"email",placeholder:"inbox@gmail.ru",value:w,onChange:function(e){return D(e.target.value)},onBlur:function(e){return D(e.target.value.trim())}})]})]}),Object(d.jsx)("h3",{className:"user-data__title",children:"\u0421\u043f\u043e\u0441\u043e\u0431 \u043e\u043f\u043b\u0430\u0442\u044b"}),Object(d.jsxs)("div",{className:"user-data__online-section",children:[Object(d.jsxs)("label",{className:"user-data__label user-data__label-checkbox"+(S?" user-data__label-checkbox_checked":""),children:[Object(d.jsx)("input",{className:"user-data__checkbox",type:"checkbox",name:"online",checked:S,onChange:function(){return E("online")}}),"\u041e\u043d\u043b\u0430\u0439\u043d"]}),Object(d.jsxs)("ul",{className:"user-data__online-list",children:[Object(d.jsx)("li",{className:"user-data__online-list-item",children:"\u0411\u0430\u043d\u043a\u043e\u0432\u0441\u043a\u043e\u0439 \u043a\u0430\u0440\u0442\u043e\u0439"}),Object(d.jsx)("li",{className:"user-data__online-list-item",children:"PayPal"}),Object(d.jsx)("li",{className:"user-data__online-list-item",children:"Visa QIWI Wallet"})]})]}),Object(d.jsx)("div",{className:"user-data__cash-section",children:Object(d.jsxs)("label",{className:"user-data__label user-data__label-checkbox"+(I?" user-data__label-checkbox_checked":""),children:[Object(d.jsx)("input",{className:"user-data__checkbox",type:"checkbox",name:"cash",checked:I,onChange:function(){return E("cash")}}),"\u041d\u0430\u043b\u0438\u0447\u043d\u044b\u043c\u0438"]})})]}),Object(d.jsx)(i.b,{to:"/fe-diploma/run/confirmation",className:"user-data__button"+(P?" user-data__button_active":""),onClick:function(e){if(e.preventDefault(),O)if(b)if(N)if(function(e){return/^\+7\d{10}$/.test(e)}(k))if(U(w))if(T){var t=Object(_.a)(Object(_.a)({},n),{},{user:a});u(t),localStorage.setItem("orderInfo",JSON.stringify(t)),j.push("/fe-diploma/run/confirmation")}else x(m,["\u041e\u0448\u0438\u0431\u043a\u0430 \u0432\u0432\u043e\u0434\u0430 \u0434\u0430\u043d\u043d\u044b\u0445","\u041d\u0435 \u0432\u044b\u0431\u0440\u0430\u043d \u0441\u043f\u043e\u0441\u043e\u0431 \u043e\u043f\u043b\u0430\u0442\u044b"]);else x(m,["\u041e\u0448\u0438\u0431\u043a\u0430 \u0432\u0432\u043e\u0434\u0430 \u0430\u0434\u0440\u0435\u0441\u0430 \u044d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u043e\u0439 \u043f\u043e\u0447\u0442\u044b","E-mail \u0434\u043e\u043b\u0436\u0435\u043d \u0438\u043c\u0435\u0442\u044c \u0432\u0438\u0434 xxx@xxx.xx","\u041f\u0440\u0438\u043c\u0435\u0440: qwerty111@mail.ru"]);else x(m,["\u041e\u0448\u0438\u0431\u043a\u0430 \u0432\u0432\u043e\u0434\u0430 \u043a\u043e\u043d\u0442\u0430\u043a\u0442\u043d\u043e\u0433\u043e \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430","\u041d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430 \u0434\u043e\u043b\u0436\u0435\u043d \u043d\u0430\u0447\u0438\u043d\u0430\u0442\u044c\u0441\u044f \u043d\u0430 +7 \u0438 \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u0435\u0449\u0451 10 \u0446\u0438\u0444\u0440","\u041f\u0440\u0438\u043c\u0435\u0440\u044b: +79101234567, +7 (910) 123-45-67"]);else x(m,["\u041e\u0448\u0438\u0431\u043a\u0430 \u0432\u0432\u043e\u0434\u0430 \u0434\u0430\u043d\u043d\u044b\u0445",'\u041f\u043e\u043b\u0435 "\u041e\u0442\u0447\u0435\u0441\u0442\u0432\u043e" \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0434\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f']);else x(m,["\u041e\u0448\u0438\u0431\u043a\u0430 \u0432\u0432\u043e\u0434\u0430 \u0434\u0430\u043d\u043d\u044b\u0445",'\u041f\u043e\u043b\u0435 "\u0418\u043c\u044f" \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0434\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f']);else x(m,["\u041e\u0448\u0438\u0431\u043a\u0430 \u0432\u0432\u043e\u0434\u0430 \u0434\u0430\u043d\u043d\u044b\u0445",'\u041f\u043e\u043b\u0435 "\u0424\u0430\u043c\u0438\u043b\u0438\u044f" \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0434\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f'])},children:"\u041a\u0443\u043f\u0438\u0442\u044c \u0431\u0438\u043b\u0435\u0442\u044b"})]})};var rt=function(){var e=Object(s.useContext)(o).setBookingStage;return Object(s.useEffect)((function(){e("payment")}),[e]),Object(d.jsxs)("main",{className:"payment",children:[Object(d.jsx)(fe,{stepNumber:3}),Object(d.jsxs)("div",{className:"payment__main",children:[Object(d.jsx)("section",{className:"payment__left",children:Object(d.jsx)(Qe,{})}),Object(d.jsx)("section",{className:"payment__right",children:Object(d.jsx)(st,{})})]})]})};a(90),a(91);var ct=function(){var e=Object(s.useContext)(o).orderInfo,t=e.passengerList;return Object(d.jsxs)("div",{className:"passengers-confirmation",children:[Object(d.jsx)("h3",{className:"passengers-confirmation__title",children:"\u041f\u0430\u0441\u0441\u0430\u0436\u0438\u0440\u044b"}),Object(d.jsxs)("div",{className:"passengers-confirmation__body",children:[Object(d.jsx)("div",{className:"passengers-confirmation__left",children:t&&t.length&&Object(d.jsx)("ul",{className:"passengers-confirmation__list",children:t.map((function(e){return Object(d.jsxs)("li",{className:"passengers-confirmation__list-item",children:[Object(d.jsxs)("div",{className:"passengers-confirmation__list-item-title",children:[Object(d.jsx)("svg",{className:"passengers-confirmation__icon",width:"68",height:"68",children:Object(d.jsx)("use",{xlinkHref:xe+"#passenger-negative"})}),Object(d.jsx)("p",{className:"passengers-confirmation__list-item-title-text",children:e.isAdult?"\u0412\u0437\u0440\u043e\u0441\u043b\u044b\u0439":"\u0414\u0435\u0442\u0441\u043a\u0438\u0439"})]}),Object(d.jsxs)("div",{className:"passengers-confirmation__list-item-body",children:[Object(d.jsxs)("p",{className:"passengers-confirmation__list-item-name",children:[e.lastName," ",e.firstName," ",e.patronymic]}),Object(d.jsxs)("p",{className:"passengers-confirmation__list-item-text",children:["\u041f\u043e\u043b ",e.gender?"\u043c\u0443\u0436\u0441\u043a\u043e\u0439":"\u0436\u0435\u043d\u0441\u043a\u0438\u0439"]}),Object(d.jsxs)("p",{className:"passengers-confirmation__list-item-text",children:["\u0414\u0430\u0442\u0430 \u0440\u043e\u0436\u0434\u0435\u043d\u0438\u044f ",e.birthday]}),Object(d.jsxs)("p",{className:"passengers-confirmation__list-item-text",children:[e.documentType,"\xa0","\u041f\u0430\u0441\u043f\u043e\u0440\u0442 \u0420\u0424"===e.documentType?"".concat(e.passportSeries," ").concat(e.passportNumber):(t=e.birthSertificateNumber,"".concat(t.slice(0,-8)," ").concat(t.slice(-8,-6)," ").concat(t.slice(-6)))]})]})]},B.a.generate());var t}))})}),Object(d.jsxs)("div",{className:"passengers-confirmation__right",children:[Object(d.jsxs)("div",{className:"passengers-confirmation__total",children:[Object(d.jsx)("p",{className:"passengers-confirmation__total-title",children:"\u0412\u0441\u0435\u0433\u043e"}),Object(d.jsx)("p",{className:"passengers-confirmation__price",children:G(te(e))}),Object(d.jsx)("p",{className:"passengers-confirmation__currency",children:"\u20bd"})]}),Object(d.jsx)(i.b,{to:"/fe-diploma/run/passengers",className:"passengers-confirmation__button",children:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c"})]})]})]})};a(92);var nt=function(){var e=Object(s.useContext)(o).orderInfo.user.paymentMethod;return Object(d.jsxs)("div",{className:"payment-confirmation",children:[Object(d.jsx)("h3",{className:"payment-confirmation__title",children:"\u0421\u043f\u043e\u0441\u043e\u0431 \u043e\u043f\u043b\u0430\u0442\u044b"}),Object(d.jsxs)("div",{className:"payment-confirmation__body",children:[Object(d.jsx)("div",{className:"payment-confirmation__left",children:Object(d.jsx)("p",{className:"payment-confirmation__method",children:"online"===e?"\u041e\u043d\u043b\u0430\u0439\u043d":"\u041d\u0430\u043b\u0438\u0447\u043d\u044b\u043c\u0438"})}),Object(d.jsx)("div",{className:"payment-confirmation__right",children:Object(d.jsx)(i.b,{to:"/fe-diploma/run/payment",className:"payment-confirmation__button",children:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c"})})]})]})};function it(e,t,a,s){return lt.apply(this,arguments)}function lt(){return(lt=Object(b.a)(p.a.mark((function e(t,a,s,r){var c,n,i,l,o,d,u,m,j,b,_,h,f;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=r.seatList,n=r.passengerList,i=r.user,l=i.firstName,o=i.lastName,d=i.patronymic,u=i.phone,m=i.email,j=i.paymentMethod,(b={route_direction_id:a._id}).seats=n.map((function(e,t){var a="\u041f\u0430\u0441\u043f\u043e\u0440\u0442 \u0420\u0424"===e.documentType;return{coach_id:c.forward[t].coachId,person_info:{is_adult:e.isAdult,first_name:e.firstName,last_name:e.lastName,patronymic:e.patronymic,gender:e.gender,birthday:ee(e.birthday),document_type:a?"\u043f\u0430\u0441\u043f\u043e\u0440\u0442":"\u0441\u0432\u0438\u0434\u0435\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u043e",document_data:a?e.passportSeries+e.passportNumber:e.birthSertificateNumber},seat_number:c.forward[t].seatNumber,is_child:!e.isAdult,include_children_seat:e.includeChild}})),(_={route_direction_id:s._id}).seats=n.map((function(e,t){var a="\u041f\u0430\u0441\u043f\u043e\u0440\u0442 \u0420\u0424"===e.documentType;return{coach_id:c.backward[t].coachId,person_info:{is_adult:e.isAdult,first_name:e.firstName,last_name:e.lastName,patronymic:e.patronymic,gender:e.gender,birthday:ee(e.birthday),document_type:a?"\u043f\u0430\u0441\u043f\u043e\u0440\u0442":"\u0441\u0432\u0438\u0434\u0435\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u043e",document_data:a?e.passportSeries+e.passportNumber:e.birthSertificateNumber},seat_number:c.backward[t].seatNumber,is_child:!e.isAdult,include_children_seat:e.includeChild}})),h={user:{first_name:l,last_name:o,patronymic:d,phone:u,email:m,payment_method:j},departure:b,arrival:_},t({loading:!0,text:"\u041e\u0436\u0438\u0434\u0430\u043d\u0438\u0435 \u043e\u0442\u0432\u0435\u0442\u0430 \u0441\u0435\u0440\u0432\u0435\u0440\u0430"}),e.next=10,F(h);case 10:return f=e.sent,t({loading:!1}),e.abrupt("return",f);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ot=function(){var e=Object(s.useContext)(o),t=e.setBookingStage,a=e.setAnimation,r=e.setPopup,c=e.forwardTrain,n=e.backwardTrain,l=e.orderInfo,u=Object(h.f)();Object(s.useEffect)((function(){t("confirmation")}),[t]);var m=function(){var e=Object(b.a)(p.a.mark((function e(t){var s;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,it(a,c,n,l);case 3:(s=e.sent).ok?u.push("/fe-diploma/run/completion"):O(r,s);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(d.jsxs)("main",{className:"confirmation",children:[Object(d.jsx)(fe,{stepNumber:4}),Object(d.jsxs)("div",{className:"confirmation__main",children:[Object(d.jsx)("section",{className:"confirmation__left",children:Object(d.jsx)(Qe,{})}),Object(d.jsxs)("section",{className:"confirmation__right",children:[Object(d.jsx)("div",{className:"confirmation__section",children:Object(d.jsx)(Se,{trainInfo:c,isForward:!0,reloadInfo:function(e){return e},loadSeats:function(e){return e},isConfirmation:!0})}),Object(d.jsx)("div",{className:"confirmation__section",children:Object(d.jsx)(Se,{trainInfo:n,isForward:!1,reloadInfo:function(e){return e},loadSeats:function(e){return e},isConfirmation:!0})}),Object(d.jsx)("div",{className:"confirmation__section",children:Object(d.jsx)(ct,{})}),Object(d.jsx)("div",{className:"confirmation__section",children:Object(d.jsx)(nt,{})}),Object(d.jsx)(i.b,{to:"/fe-diploma/run/completion",className:"confirmation__button confirmation__button_active",onClick:m,children:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044c"})]})]})]})},dt=(a(93),a.p+"static/media/star.d4eb37de.svg"),ut=a.p+"static/media/active-star.d1fd1c72.svg";var mt=function(){var e={clicked:!1,moved:!1},t=Object(s.useState)([e,e,e,e,e]),a=Object(l.a)(t,2),r=a[0],c=a[1],n=Object(s.useContext)(o),u=n.setBookingStage,m=n.orderInfo,j=m.user,p=j.firstName,b=j.patronymic;return Object(s.useEffect)((function(){u("completion")}),[u]),Object(d.jsx)("main",{className:"completion",children:Object(d.jsxs)("div",{className:"completion__window",children:[Object(d.jsx)("h2",{className:"completion__title",children:"\u0411\u043b\u0430\u0433\u043e\u0434\u0430\u0440\u0438\u043c \u0412\u0430\u0441 \u0437\u0430 \u0437\u0430\u043a\u0430\u0437!"}),Object(d.jsxs)("div",{className:"completion__body",children:[Object(d.jsxs)("div",{className:"completion__order-data",children:[Object(d.jsxs)("p",{className:"completion__order-number",children:["\u2116\u0437\u0430\u043a\u0430\u0437\u0430 ",Math.trunc(900*Math.random()+100),"\u0410\u0410"]}),Object(d.jsx)("p",{className:"completion__order-sum-title",children:"\u0441\u0443\u043c\u043c\u0430"}),Object(d.jsx)("p",{className:"completion__order-price",children:G(te(m))}),Object(d.jsx)("p",{className:"completion__order-currency",children:"\u20bd"})]}),Object(d.jsxs)("div",{className:"completion__manual",children:[Object(d.jsxs)("div",{className:"completion__manual-item",children:[Object(d.jsx)("div",{className:"completion__manual-icon completion__manual-icon_1"}),Object(d.jsx)("p",{className:"completion__manual-text",children:"\u0431\u0438\u043b\u0435\u0442\u044b \u0431\u0443\u0434\u0443\u0442"}),Object(d.jsx)("p",{className:"completion__manual-text",children:"\u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u044b"}),Object(d.jsxs)("p",{className:"completion__manual-text",children:["\u043d\u0430 \u0432\u0430\u0448 ",Object(d.jsx)("span",{className:"completion__manual-text_bold",children:"e-mail"})]})]}),Object(d.jsxs)("div",{className:"completion__manual-item",children:[Object(d.jsx)("div",{className:"completion__manual-icon completion__manual-icon_2"}),Object(d.jsx)("p",{className:"completion__manual-text completion__manual-text_bold",children:"\u0440\u0430\u0441\u043f\u0435\u0447\u0430\u0442\u0430\u0439\u0442\u0435"}),Object(d.jsx)("p",{className:"completion__manual-text",children:"\u0438 \u0441\u043e\u0445\u0440\u0430\u043d\u044f\u0439\u0442\u0435 \u0431\u0438\u043b\u0435\u0442\u044b"}),Object(d.jsx)("p",{className:"completion__manual-text",children:"\u0434\u043e \u0434\u0430\u0442\u044b \u043f\u043e\u0435\u0437\u0434\u043a\u0438"})]}),Object(d.jsxs)("div",{className:"completion__manual-item",children:[Object(d.jsx)("div",{className:"completion__manual-icon completion__manual-icon_3"}),Object(d.jsx)("p",{className:"completion__manual-text completion__manual-text_bold",children:"\u043f\u0440\u0435\u0434\u044a\u044f\u0432\u0438\u0442\u0435"}),Object(d.jsx)("p",{className:"completion__manual-text",children:"\u0440\u0430\u0441\u043f\u0435\u0447\u0430\u0442\u0430\u043d\u043d\u044b\u0435"}),Object(d.jsx)("p",{className:"completion__manual-text",children:"\u0431\u0438\u043b\u0435\u0442\u044b \u043f\u0440\u0438 \u043f\u043e\u0441\u0430\u0434\u043a\u0435"})]})]}),Object(d.jsxs)("div",{className:"completion__text-container",children:[Object(d.jsxs)("p",{className:"completion__text-title",children:[p," ",b,"!"]}),Object(d.jsx)("p",{className:"completion__text-text",children:"\u0412\u0430\u0448 \u0437\u0430\u043a\u0430\u0437 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u043e\u0444\u043e\u0440\u043c\u043b\u0435\u043d."}),Object(d.jsx)("p",{className:"completion__text-text",children:"\u0412 \u0431\u043b\u0438\u0436\u0430\u0439\u0448\u0435\u0435 \u0432\u0440\u0435\u043c\u044f \u0441 \u0412\u0430\u043c\u0438 \u0441\u0432\u044f\u0436\u0435\u0442\u0441\u044f \u043d\u0430\u0448 \u043e\u043f\u0435\u0440\u0430\u0442\u043e\u0440 \u0434\u043b\u044f \u043f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u044f."}),Object(d.jsx)("p",{className:"completion__text-end",children:"\u0411\u043b\u0430\u0433\u043e\u0434\u0430\u0440\u0438\u043c \u0412\u0430\u0441 \u0437\u0430 \u043e\u043a\u0430\u0437\u0430\u043d\u043d\u043e\u0435 \u0434\u043e\u0432\u0435\u0440\u0438\u0435 \u0438 \u0436\u0435\u043b\u0430\u0435\u043c \u043f\u0440\u0438\u044f\u0442\u043d\u043e\u0433\u043e \u043f\u0443\u0442\u0435\u0448\u0435\u0441\u0442\u0432\u0438\u044f!"})]}),Object(d.jsxs)("div",{className:"completion__controls",children:[Object(d.jsx)("p",{className:"completion__controls-text",children:"\u041e\u0446\u0435\u043d\u0438\u0442\u044c \u0441\u0435\u0440\u0432\u0438\u0441"}),Object(d.jsx)("div",{className:"completion__stars-container",onMouseOut:function(){var e=r.map((function(e){return{clicked:e.clicked,moved:!1}}));c(e)},children:r.map((function(e,t){return Object(d.jsx)("div",{className:"completion__star-cell",onClick:function(){return function(e){var t=r.map((function(t,a){return{clicked:a<=e,moved:t.moved}}));c(t)}(t)},onMouseOver:function(){return function(e){var t=r.map((function(t,a){return{clicked:t.clicked,moved:a<=e}}));c(t)}(t)},children:Object(d.jsx)("img",{className:"completion__star",src:e.clicked||e.moved?ut:dt,width:"48",height:"48",alt:"star"})},t)}))}),Object(d.jsx)(i.b,{to:"/fe-diploma",className:"completion-button",children:"\u0412\u0435\u0440\u043d\u0443\u0442\u044c\u0441\u044f \u043d\u0430 \u0433\u043b\u0430\u0432\u043d\u0443\u044e"})]})]})]})})};var jt=function(){var e=Object(s.useContext)(o).animation;return Object(d.jsxs)(s.Fragment,{children:[e.loading&&Object(d.jsx)(le,{}),Object(d.jsx)("div",{className:"main__body"+(e.loading?" main__body_no-visible":""),children:Object(d.jsxs)(h.c,{children:[Object(d.jsx)(h.a,{path:"/fe-diploma/run/trains",component:De}),Object(d.jsx)(h.a,{path:"/fe-diploma/run/seats",component:Ke}),Object(d.jsx)(h.a,{path:"/fe-diploma/run/passengers",component:at}),Object(d.jsx)(h.a,{path:"/fe-diploma/run/payment",component:rt}),Object(d.jsx)(h.a,{path:"/fe-diploma/run/confirmation",component:ot}),Object(d.jsx)(h.a,{path:"/fe-diploma/run/completion",component:mt}),Object(d.jsx)(h.a,{path:"/fe-diploma",component:be})]})})]})},pt=(a(94),a(95),a.p+"static/media/icons.03963612.svg");var bt=function(){return Object(d.jsxs)("div",{className:"contacts",children:[Object(d.jsx)("h3",{className:"contacts__title",children:"\u0421\u0432\u044f\u0436\u0438\u0442\u0435\u0441\u044c \u0441 \u043d\u0430\u043c\u0438"}),Object(d.jsxs)("ul",{className:"contacts__list",children:[Object(d.jsxs)("li",{className:"contacts__list-item",children:[Object(d.jsx)("div",{className:"contacts__link-container",children:Object(d.jsx)("a",{className:"contacts__link",href:"tel:+78000000000",children:Object(d.jsx)("svg",{className:"contacts__icon",width:"30",height:"30",children:Object(d.jsx)("use",{xlinkHref:pt+"#phone"})})})}),Object(d.jsx)("p",{className:"contacts__text",children:"8 (800) 000 00 00"})]}),Object(d.jsxs)("li",{className:"contacts__list-item",children:[Object(d.jsx)("div",{className:"contacts__link-container",children:Object(d.jsx)("a",{className:"contacts__link",href:"mailto:inbox@mail.ru",children:Object(d.jsx)("svg",{className:"contacts__icon",width:"30",height:"25",children:Object(d.jsx)("use",{xlinkHref:pt+"#email"})})})}),Object(d.jsx)("p",{className:"contacts__text",children:"inbox@mail.ru"})]}),Object(d.jsxs)("li",{className:"contacts__list-item",children:[Object(d.jsx)("div",{className:"contacts__link-container",children:Object(d.jsx)("a",{className:"contacts__link",href:"skype:tu.train.tickets?call",children:Object(d.jsx)("svg",{className:"contacts__icon",width:"30",height:"30",children:Object(d.jsx)("use",{xlinkHref:pt+"#skype"})})})}),Object(d.jsx)("p",{className:"contacts__text",children:"tu.train.tickets"})]}),Object(d.jsxs)("li",{className:"contacts__list-item contacts__list-item_geolocation",children:[Object(d.jsx)("div",{className:"contacts__link-container",children:Object(d.jsx)("a",{className:"contacts__link",href:"https://yandex.ru/maps/-/CCUiROx52C",children:Object(d.jsx)("svg",{className:"contacts__icon",width:"21",height:"30",children:Object(d.jsx)("use",{xlinkHref:pt+"#location"})})})}),Object(d.jsxs)("p",{className:"contacts__text",children:["\u0433. \u041c\u043e\u0441\u043a\u0432\u0430",Object(d.jsx)("br",{}),"\u0443\u043b. \u041c\u043e\u0441\u043a\u043e\u0432\u0441\u043a\u0430\u044f 27-35",Object(d.jsx)("br",{}),"555 555"]})]})]})]})};a(96);function _t(e,t){return ht.apply(this,arguments)}function ht(){return(ht=Object(b.a)(p.a.mark((function e(t,a){var s;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({loading:!0,text:"\u041e\u0436\u0438\u0434\u0430\u043d\u0438\u0435 \u043e\u0442\u0432\u0435\u0442\u0430 \u0441\u0435\u0440\u0432\u0435\u0440\u0430"}),e.next=3,D(a);case 3:return s=e.sent,t({loading:!1}),e.abrupt("return",s);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ft=function(){var e=Object(s.useState)(""),t=Object(l.a)(e,2),a=t[0],r=t[1],c=Object(s.useContext)(o),n=c.setAnimation,i=c.setPopup,u=function(){var e=Object(b.a)(p.a.mark((function e(t){var s,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),s=a.trim()){e.next=6;break}return x(i,["\u041f\u043e\u043b\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0434\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f",'\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0430\u0434\u0440\u0435\u0441 \u044d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u043e\u0439 \u043f\u043e\u0447\u0442\u044b \u0432 \u043f\u043e\u043b\u0435 \u0440\u044f\u0434\u043e\u043c \u0441 \u043a\u043d\u043e\u043f\u043a\u043e\u0439 "\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c"']),r(""),e.abrupt("return");case 6:if(U(s)){e.next=10;break}return x(i,["\u041e\u0448\u0438\u0431\u043a\u0430 \u0432\u0432\u043e\u0434\u0430 \u0430\u0434\u0440\u0435\u0441\u0430 \u044d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u043e\u0439 \u043f\u043e\u0447\u0442\u044b","\u0410\u0434\u0440\u0435\u0441 \u0434\u043e\u043b\u0436\u0435\u043d \u0438\u043c\u0435\u0442\u044c \u0432\u0438\u0434 xxx@xxx.xx","\u041f\u0440\u0438\u043c\u0435\u0440: qwerty111@mail.ru"]),r(s),e.abrupt("return");case 10:return r(""),e.next=13,_t(n,s);case 13:(c=e.sent).ok?f(i,["\u041d\u0430 \u0432\u0430\u0448\u0443 \u043f\u043e\u0447\u0442\u0443 ".concat(s," \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e \u043f\u0438\u0441\u044c\u043c\u043e"),"\u0414\u043b\u044f \u043f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u044f \u043f\u043e\u0434\u043f\u0438\u0441\u043a\u0438 \u043e\u0442\u043a\u0440\u043e\u0439\u0442\u0435 \u0435\u0433\u043e \u0438 \u043f\u0435\u0440\u0435\u0439\u0434\u0438\u0442\u0435 \u043f\u043e \u0443\u043a\u0430\u0437\u0430\u043d\u043d\u043e\u0439 \u0432 \u043d\u0451\u043c \u0441\u0441\u044b\u043b\u043a\u0435"]):O(i,c);case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(d.jsxs)("form",{className:"subscription-form",onSubmit:u,children:[Object(d.jsx)("h3",{className:"subscription-form__title",children:"\u041f\u043e\u0434\u043f\u0438\u0441\u043a\u0430"}),Object(d.jsxs)("div",{className:"subscription-form__body",children:[Object(d.jsxs)("label",{className:"subscription-form__label",children:["\u0411\u0443\u0434\u044c\u0442\u0435 \u0432 \u043a\u0443\u0440\u0441\u0435 \u0441\u043e\u0431\u044b\u0442\u0438\u0439",Object(d.jsx)("input",{className:"subscription-form__input",type:"text",name:"e-mail",value:a,placeholder:"e-mail",onChange:function(e){r(e.target.value)}})]}),Object(d.jsx)("button",{className:"subscription-form__button",type:"submit",children:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c"})]})]})},xt=(a(97),a.p+"static/media/icons.e4b19f5e.svg");var Ot=function(){return Object(d.jsxs)("div",{className:"social-media",children:[Object(d.jsx)("h3",{className:"social-media__title",children:"\u041f\u043e\u0434\u043f\u0438\u0441\u044b\u0432\u0430\u0439\u0442\u0435\u0441\u044c \u043d\u0430 \u043d\u0430\u0441"}),Object(d.jsxs)("ul",{className:"social-media__list",children:[Object(d.jsx)("li",{className:"social-media__list-item",children:Object(d.jsx)("a",{className:"social-media__link",href:"https://www.youtube.com",children:Object(d.jsx)("svg",{className:"social-media__icon",width:"38",height:"30",children:Object(d.jsx)("use",{xlinkHref:xt+"#youtube"})})})}),Object(d.jsx)("li",{className:"social-media__list-item",children:Object(d.jsx)("a",{className:"social-media__link",href:"https://www.instagram.com",children:Object(d.jsx)("svg",{className:"social-media__icon",width:"32",height:"30",children:Object(d.jsx)("use",{xlinkHref:xt+"#instagram"})})})}),Object(d.jsx)("li",{className:"social-media__list-item",children:Object(d.jsx)("a",{className:"social-media__link",href:"https://plus.google.com",children:Object(d.jsx)("svg",{className:"social-media__icon",width:"47",height:"30",children:Object(d.jsx)("use",{xlinkHref:xt+"#google-plus"})})})}),Object(d.jsx)("li",{className:"social-media__list-item",children:Object(d.jsx)("a",{className:"social-media__link",href:"https://www.facebook.com",children:Object(d.jsx)("svg",{className:"social-media__icon",width:"14",height:"30",children:Object(d.jsx)("use",{xlinkHref:xt+"#facebook"})})})}),Object(d.jsx)("li",{className:"social-media__list-item",children:Object(d.jsx)("a",{className:"social-media__link",href:"https://twitter.com",children:Object(d.jsx)("svg",{className:"social-media__icon",width:"37",height:"30",children:Object(d.jsx)("use",{xlinkHref:xt+"#twitter"})})})})]})]})};var vt=function(){var e=Object(s.useState)(!1),t=Object(l.a)(e,2),a=t[0],r=t[1],c="footer__button-collapse"+(a?" footer__button-collapse_collapsed":"");return Object(d.jsxs)("footer",{className:"footer",children:[Object(d.jsx)("a",{className:"footer__anchor",href:".",name:"footer",children:"anchor"}),!a&&Object(d.jsxs)("div",{className:"footer__full",children:[Object(d.jsx)(bt,{}),Object(d.jsxs)("div",{className:"footer__subscription",children:[Object(d.jsx)(ft,{}),Object(d.jsx)(Ot,{})]})]}),Object(d.jsxs)("div",{className:"footer__reduced",children:[Object(d.jsx)("p",{className:"footer__logo",children:"\u041b\u043e\u0433\u043e"}),Object(d.jsx)("button",{className:c,type:"button",onClick:function(){r(!a)},children:"\u221f"}),Object(d.jsx)("p",{className:"footer__copyright",children:"2018 Web"})]})]})},Nt=(a(98),a.p+"static/media/icon-error.f617ffc6.svg"),gt=a.p+"static/media/icon-info.8160a758.svg";var kt=function(){var e=Object(s.useContext)(o),t=e.popup,a=e.setPopup,r=e.animation,c=t.visible,n=t.buttonText,i=t.content,l=t.error,u=l?"error":"info";return(c||r.loading)&&Object(d.jsx)("div",{className:"popup",children:c&&Object(d.jsxs)("div",{className:"popup__window popup__window_".concat(u),children:[Object(d.jsx)("div",{className:"popup__top popup__top_".concat(u),children:Object(d.jsx)("img",{className:"popup__icon",src:l?Nt:gt,width:"32",alt:"icon"})}),Object(d.jsx)("div",{className:"popup__content popup__content_".concat(u),children:i.map((function(e,t){return Object(d.jsx)("p",{className:"popup__paragraph popup__paragraph_".concat(u),children:e},B.a.generate())}))}),Object(d.jsx)("div",{className:"popup__bottom",children:Object(d.jsx)("button",{className:"popup__button",type:"button",onClick:function(){return a({visible:!1})},children:n})})]})})};var yt=function(){return Object(d.jsx)(u,{children:Object(d.jsxs)(i.a,{children:[Object(d.jsx)(ne,{}),Object(d.jsx)(jt,{}),Object(d.jsx)(vt,{}),Object(d.jsx)(kt,{})]})})};n.a.render(Object(d.jsx)(r.a.StrictMode,{children:Object(d.jsx)(yt,{})}),document.getElementById("root"))}]),[[99,1,2]]]);
//# sourceMappingURL=main.76d7c017.chunk.js.map